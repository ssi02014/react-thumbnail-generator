import{j as et,r as y0}from"./index-B0ceVLbX.js";import{r as at,R as pt,c as Wc,g as Ir,a as a1}from"./iframe-D7fi5Hhb.js";import{r as _0}from"./index-ROPymizP.js";const n1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVR4nO2UQQqAMAwEN37Bfyq+xeqhPrYiRKiF1LbJMQs5NTubQgjgcllqBbABIAWDmLGUDzOAxHUOhhB7X87D/CgoQqiAB6lpz5ouAFMjPB8u1ny9IdQDl0KiYGrtGwohDfwPQhZwaTsOLu1KV3+SLCb/C4mW8PIMaM+Jy4U+3QvhPMbXkfjkAAAAAElFTkSuQmCC",i1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR4nO2UQQqAIBBF/3SF7hl0lsxFHdYYGCElKZyx1Tz4C0PeNxkEHOdPCMAqoRHyACBJTgDTKHmyLCEA8SbdJXkdNddVn/yQb5xN+ycteUZV8iZXlXyVd5U8yafW5p6SoJgOqqaNXQWzwehRVcLOgsXgGSBxsMtxYMMFKrM8y1JyjcUAAAAASUVORK5CYII=",l1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoElEQVR4nO2WUQqAIBBE57TzVZ3DSxf9FASJueusBTnQp/seplPAyMg9CcAEfaZj9mMIYAWwCOHnzNm6YHkDrpRwwxUSzfAWCRncIyGHWyTC4DUS4fCSRDd4TqI7/Fqt2/FEVPe3BXjZ9ohvRzG5d95NgoUDFy7BitMeJkHDVZNL0HHPZRJsKJlmCQoazi1BYb2aJRjQ7SaJ9PZv+ci/sgM32VIN2RJOpwAAAABJRU5ErkJggg==",s1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR4nN2UPQrCQBBGH7Y5lK122lna2CTaxUK9jOCttDPXMBtZmMAgG9xfBD8YSDK735sZhsA/awZcgXMpwBzogQE4loJsFaRYJxvgJZBLKchNAEXGVQNGRVbIThnv1XuWcenKa8d3C2lzVe7K95I/kNk8CeJrHgUJNQ+G6A2JCRPSRRHzWIhR5mtghYf0rg9fzBu5UwGdRJUDYpS51Unl7HPSuIxj0x4qf/cFuDr5rHxUp848SfgvNRNnlmJsYxEKGCFT5r/TG1Z/kWy10vtdAAAAAElFTkSuQmCC",r1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACdUlEQVR4nO1WPYwSQRT+UPACMRISY5DKYOhMDJReAZ0/OaDTBkotoNQCSi2g9AootYCOs4FOQwKNiRaQUFxiSCg8Q0guBoiRjUJgzNvMrLi3u9wurNV9yUt23+x73zezM28ecAFreA1AAsC4Sdz3X3B/jVhtNGY73hFZoVBgAvTMBdCYrbgO4JfT6WTD4VARMBqNmMvlIgG/AdywU8BzmmkikWBqxONxsQr0jW04JpJ6vS6TTiYT2Qjk4wK+AHDYQb5PBH6/n83nc5m0VCqxcrksPy8WCxYIBISIe3YIeEvJ8/m8suzhcJhFIhHlPZfLCQFvdk1+FcAPh8PB+v2+TNbr9ZTj1+12Zd9gMGD0DYCfAK7tUsAzIorFYspsM5mMIiCbzSr+aDQq/E93KeAzJa1WqzKJJEnM5/MpArxeL5vNZvJYpVIR/k+7Ir9jQKKYjri7uxBwaLDMiun8nq3vhysATnU22j+2vkE7nY7wfwewt42AJ5RI56idMfUR5f7H2wj4QElEsSE0m01Wq9U0jcYEKIYLeG+V/BaApdvtZuPxmJnFdDplHo+HBCx5LtN4STNIp9PMKlKplFgFymUKlwGcUHC73VZfuYa2flW3Wi3hP+E5z42HFBgMBtlqtVI3HRutWCzKMRQbCoWE/4HprqeonYjE6eGRgfAjy11P6+9SftuwlJcAfNX5defull5QgmQyaXUzvVJvXuqgzHRLx/Rxo9FQH6cVgNtWjq+Zbmlfq+vhwVSULBUwVbdEHMYXT167pFJZtlzCKSfPc7hRAM7aqclLZU9cYhpmKOAmgI+8fIqAIYADmMcBjxV5ljw3cVwAAn8A9R8muIepLUEAAAAASUVORK5CYII=",o1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVR4nO3Yv0scQRTA8U9ia8pAwFJMKQipzZZeIVgLFwhWsTB/RppUQvoUHopXCrbXaRPshATyB2iVCKJCTlcOTljOvdM979fG94VX7sz78mbezgxBEARB8J/yAb9wg3RMcYOfqBZNvjLGpNMusVREYHsCEk47olZEoJH58JPxsZ7Jo5VTXwKJ8ZGEgN4VuOtUf1DHmzJVoJKz0Q7wQkkEtrt0i7dKIlDrIjBncCSxhPTexNX2r761iXfLtolHQRICogL3eI1vOMYRvmBaSZbQO5zmtN7fmJ10gfc463FcPsHCqATm8R2H2MHiA+Ot4PIRZ/6/HWMNReAz/uVc/b7iZc5YH9EscHG5wPIwBKaw+cDk+3iVGWcD133cvppYG6RAq0vsPXLyH5hpd5eiiacdVa0PQmC13e6KTH7+xOTTnOhb4GoIyYxUIJ2QaISAElWgNgFLJu2IrWf1tJi9bZXycTcIgiAIlIFbufOCQD+tqawAAAAASUVORK5CYII=",u1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHsklEQVR4nO2aaVBTVxTH86Htt35rpy4IFnGrjrUuuNe91gLKMi6lIC4kIQmLJCxJIBCzQIAgUoMJLhCEWkFA0GjFfVwGdejiNi60WFFTFGISkmo3ejrv1dD3kheSCOFBypn5f7t5uf/fPfe8c29CoQzFUAyFK5GWsn8ufbOiPGJd/sXQwOzmoBWSR1gFB2Rr14bkPV8fJjd+sbbAHLGu4IU7FR2lMHLi97aKhZWNZSVnV1PcEZmZ596IpSuV8/25v458JxoGspYuEHRliarOVFXdeqtPzKcmqSPmz+S9INuY6yAyulS7jvF7ZT6eWZw/xotBupnXle9IBsgkh069lvlYhrLA612qzUN9htEgOCALssRVsF99FqqrLpEqZA45WTUQtioHnZv1fBEPebLaepfTfozVyiMPitlSBN9/dweePn0KJpMJzGbzgFLz/UfAohfbQPAbxYTiXce5The8udO5uD3//ogYKN17ArRaLSqj0Ui62Z50oPw8Omesh+ULhV1NTU1vOgTAoO7abb3yJXv+M9/e3k66QWchWGeCTOpEPZhv9apD0t5ivr9XX6fTQ11tIwh4XwF9ixJS2GrYo2qABy1apz7PoKrwWbBI2OWwyfHCFD6f4XR0z1vMt7W19Zv5yq8vwrTJHMLqPnpEDKRzK1BAPT3j3t1WXGH8N5sbguwCoG9WlGO/CKn22NXv6OjoF/MySbVTr7nAFVJ49ux5j88KCZThPiMSHrxsF0Dk+oJL2MFi4dc4ADqdrl9W3pV3fXSUomeYUjxMTsK+h3YBhAZmN2MHFyuP4QDo9Xq373nrtPcZRgUufSscKEyFfD4Hpn9At4Fw7sx1u89Ul5zGjaVtLDLYBRC0QvIIO3i/+iQOgMFgcCsApOBZm79Wnwbws6hbxptCWDIb36MwacV2n4k0S9ixyAFqwAJI51bgJousPNa8RecP8nDj/KemeAYAhtVrC0l7IgCdt4S4cUjT4xEAkhNLcZNF9jwRgLunBbhxH05I9AwAe1QNuMnOmERH97w1gISNCbhxa0PyPAPAgxatTQ+/dDYDLlTyofO2EO6dEdiYR1Sy55RnADCbzZCWii+EjjRvJg/0zw2eA0Cn06MdnjPmx/mw4Num+z0+b9ABMJvNaHuLdHiOVt6R+UELwPxKSIeHNDnIex45AH04kQ1rgnPRPW/QO3cqHdQAzH2gfgVg6DRCzbl6YMuyIHRTMiwOTIBFnyVAwOdsoKVlQFF1CWg7tJ4HQPe8AwQKOXw0w/ENsp8vHaI4aXD7wW3PAKC5dBz857FcenVZQAiV28Fk6hycAEymTkgrzAPvEbZX567ok9BEuPHj9cEFoOVxCwSsZxMaGu1FhRAqG7ilAth+Vgw7LkhAXCuEKF4KTJqM7/IsmjghBvYdLRscAOrOa2DKVNu9jty3rYtLgoPaXNC8zCdUvSkfklTpaPoTfX4Dhw9tOu3ABPDkyWPg75ATpryfLw1ENUK7xq1V/pMMFgXGE2bDjDksOHHt5MACcOfeXVi9PpVwwnOXxIH6XrbT5i06+kIObEU6IdDRI6mQlJONvlZJB1DfcBKmTCFO+ciUFKg3yl02j1XRFSl8NJP49bk8ZCvcaP6BPACRW8TgPbz3Ke9Ih/VyFCYRhAnjYkBVqyYHwEiilF8aC+r7sj4zj5WoVgjj/IgLZHgcF7TtT8gD4PVuNIRzOL1O+V4VyNks+OZKg/sALFyY1En0xX5jaMCrYEOtIcut5i06YpYDK49PuP2QAskvzIVOkxtOg5MnMf+0/sI5Sxnw5dVU2N/K6zcAFikaJTB1BpMwGz4JS4SbLTf6FsDMWXF/YAcvC2OCuoWHmicDAKKajjxYw0wiLpDj6bC7Tt13AFaGcnB/jEguYXebJwuARduqM2HsGOK/wESyefCLnWO2xwDQvCqQi4PsF8jjjQ2eDUDjoIP0GUEFTq4U10F6HADNKxVdlcA0f+ICuSw4obuD9FgAGgcd5PixdFDVqD0bgOaVkPuGcWOJ7xoWf7bVeQAhEakG7OB4RSIOQI1eSrpZezrQmgPLw2x/NrMWfVMPf5CIYKThWuGNGQk4AId0YtKN9qSjv+ZDrJy4g+zO6sTSVrsAmGmiRuzgj1cycAAqn20j3WRvj9gJ4iytXQASpWI1cuixDPYeFt3dBiOqeJwOmpfuPQz1ZQe5epPtvSW/oEBK6SlmzWN2YT8QtDEWlwX1phzSzTkr5HIW62XixBigOIo4geSMNTW28r9iWPm07y5C3Kn0igyb1c9U5rY4BJBZVfWW/1wWLgu8h+Mh1JkHdhakl2egXSHWw5wlcXCpve5tijMh2CHnvz/KtpIGRMVC4dUU+EorQFtSso1aq6xZZpP2iHx9aLCzetduiiuxdZv0KLYgWjTqvWhY8CkDNmWygV8mQE9pZAqZQ4yUi94ijXqPSnhaFO+V/0R5nUgUZR0hyoTBIl9vGoj2yh9QehOCHdu5s+bja8JgELLndx5W7aP0RRQ3Fb8ZL5Scmr2A1UW0LQaKkHRHbq0zivMeOl3wXI1tqsIgJl90eQMr/efg8GQjcoDCKmBN0m+B4Ul/BYVzulZFcP5eFeleraGldNEFGb9zd2a3lZ4qS3bZ0FAMBeV/Hf8ApUHbVMNLqRkAAAAASUVORK5CYII=",c1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR4nOXWzSsFURjH8S8rikv5Byhs7Sy85S0WVhb+GupuLGxk60bKTvwHFqRElGRzs2LJwms3rLg69Ts1i9u9M885c0ue+tU5Z3rm08ycmQb+WLUB54obN602gKqy3ix0DPhOwG48mTfaCdwnUJ87oCNPeK0G6rOaF9oHfNWB3bHePOCDOqjPXmx0BPhJAbuMx0JbgMuUqMtFLHghA+ozHwM+NcBnMZ5t1ZjhEHg3AN62ogXgMwD+0Jcucy0FoD6LFngnAmy63TcR4GsL/KZmt7NHjfCrBa6ouV3zJwP8boFv1Tyk+aEBLlvgLTWvaD5ngEsWeFbND0CX1pYzwtMY60Qn2AdatTYFXKVAjwioQeAlgXdrvacB+gz0E1gTCfwRKAKbDdBoPwMDwHHK2xt8pbVqRju1rPe8onEpZCPxL+oX1mA2OnIJA6MAAAAASUVORK5CYII=",h1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR4nO3aQQqDMBQE0Dlek/uvWwjeo8UTVFTiF9+D7DPoYhiSAACV9SSfJN/iZ71jOyPwKBBm61kE3mH9Td4Fvt6/s97xtScgAHfSJzWt05rSnZrWkgLG0wK3SU1LUwJgA5tW5q8ZU4vLeFrgZtMCoI5u00rt4nDUuFtTOqrZtACoo3unlcunHJtWbFoAQIr5AdE+2j1jRhTnAAAAAElFTkSuQmCC",d1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVR4nO3WQQqEMBBFwX887fuvFcR7zJATzCBCWqmC3qdJIC8BADqrJHuST/MZZ1zvWPhosMy/c1r4gvFMtga392vGGZcrCwLwJKW0Mv3PVVq5MS1XpQVAH6W0Mr2olFaUFgDvVEor04tKaUVpAfBOpbQyvaiUVpQWAJBmvtJoWcwlcdsDAAAAAElFTkSuQmCC",f1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVR4nO3YQQrCMBQE0Dmeyf3XCqX3UHICJQ0xmvfg7zO0i2ESAGBlNckjyXPxa28sIwIfC4T59E6BO7Tf5L7A13t37Y23noAA7KROamrDmtYvNbUhTeuq7QKXSU1N0wLYQrVpZfqaMbV4HLsFLjYtAP5HtWll7eJxlU0rNi0Autm08v0px6YVmxYAkMW8AOsU2j1bZwouAAAAAElFTkSuQmCC";function S0(){return typeof window>"u"}function g1(){return!S0()}function m1(l,s,b={}){let S,d=null,h=null,c=null;const{signal:u,leading:g=!1,trailing:y=!0,maxWait:v}=b,E=()=>{d!=null&&(l.apply(S,d),S=void 0,d=null,h=null)},_=()=>{y&&E(),N()},f=()=>{if(typeof v=="number"&&h!=null){const o=Date.now()-h,C=v-o;if(C<=0){_();return}return Math.min(s,C)}return s},m=()=>{c!=null&&clearTimeout(c);const o=f();c=setTimeout(()=>{c=null,_()},o)},A=()=>{c!=null&&(clearTimeout(c),c=null)},N=()=>{A(),S=void 0,d=null,h=null},U=()=>{A(),E(),h=null},p=function(...o){if(u?.aborted)return;S=this,d=o;const C=c==null;C&&(h=Date.now()),m(),g&&C&&E()};return p.cancel=N,p.flush=U,u?.addEventListener("abort",N,{once:!0}),p}function p1(){if(S0())return!1;const l=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|Windows Phone|BlackBerry|IEMobile|Opera Mini/i.test(l)}function v1(l,s){return Object.prototype.hasOwnProperty.call(l,s)}function y1(l){return typeof l=="function"}const _1=(...l)=>s=>l.forEach(b=>{if(y1(b))b(s);else if(b!=null){const S=b;S.current=s}});function S1(...l){return at.useCallback(_1(...l),l)}function b0(){const[l,s]=at.useState(!1);return at.useEffect(()=>{s(!0)},[]),l}function $r(l){const s=at.useRef(l);return s.current=l,at.useCallback((...b)=>s.current(...b),[])}function b1(l){const s=$r(l);at.useEffect(()=>()=>s(),[s])}function C1(l,s,b={}){const S=$r(l),{signal:d,leading:h=!1,trailing:c=!0,maxWait:u}=b??{},g=at.useMemo(()=>m1(S,s,{signal:d,leading:h,trailing:c,...typeof u=="number"&&{maxWait:u}}),[S,s,d,h,c,u]);return b1(()=>g.cancel()),g}const to=g1()?at.useLayoutEffect:at.useEffect,A1=l=>l?v1(l,"current"):!1;function E1(l,s,b,S){const d=$r(b);to(()=>{const h=A1(l)?l.current:l;if(h)return h.addEventListener(s,d,S),()=>{h.removeEventListener(s,d,S)}},[s,l,S,d])}function C0(l,s){const{excludeRefs:b}={},S=at.useRef(null),d=at.useMemo(()=>p1()?"touchstart":"mousedown",[]);return E1(typeof document<"u"?document:null,d,({target:c})=>{if(!S.current)return;const u=S.current,g=b?.some(E=>E.current?.contains(c));!u.contains(c)&&!g&&l(u)}),{ref:S}}const Ic=at.createContext({parentPortalElement:null}),T1="portal";function x1({children:l,className:s=T1,containerRef:b}){const{parentPortalElement:S}=at.useContext(Ic),d=at.useCallback(u=>{const g=u.ownerDocument.createElement("div");return g.classList.add(s),g},[s]),h=at.useMemo(()=>S||b?.current||document.body,[S,b]),c=at.useMemo(()=>d(h),[d,h]);return to(()=>(h.appendChild(c),()=>{h.contains(c)&&h.removeChild(c)}),[c,h]),y0.createPortal(et.jsx(Ic.Provider,{value:{parentPortalElement:c},children:l}),c)}const N1=({children:l,...s})=>b0()?et.jsx(x1,{...s,children:l}):et.jsx(et.Fragment,{}),$c=at.createContext({parentPortalElement:null}),R1="portal";function M1({children:l,className:s=R1,containerRef:b}){const{parentPortalElement:S}=at.useContext($c),d=at.useCallback(u=>{const g=u.ownerDocument.createElement("div");return g.classList.add(s),g},[s]),h=at.useMemo(()=>S||b?.current||document.body,[S,b]),c=at.useMemo(()=>d(h),[d,h]);return to(()=>(h.appendChild(c),()=>{h.contains(c)&&h.removeChild(c)}),[c,h]),y0.createPortal(et.jsx($c.Provider,{value:{parentPortalElement:c},children:l}),c)}const A0=({children:l,...s})=>b0()?et.jsx(M1,{...s,children:l}):et.jsx(et.Fragment,{});A0.__docgenInfo={description:"",methods:[],displayName:"Portal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},containerRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLElement>",elements:[{name:"HTMLElement"}]},description:""}}};var O1="ltypjn0",D1="ltypjn1",G1={default:"ltypjn3 ltypjn2",isOpen:"ltypjn4 ltypjn2"},th="ltypjn5",U1="ltypjn6",B1={default:"ltypjn8 ltypjn7",active:"ltypjn9 ltypjn7"};const E0=pt.createContext(null),Yl=({children:l,name:s,color:b,value:S,label:d,onChange:h})=>{const[c,u]=at.useState(!1),g=at.useRef(null),y=at.useCallback(()=>{u(!c)},[c]),v=at.useCallback(E=>{h&&(h(s,E),u(!1))},[h]);return at.useEffect(()=>{const E=_=>{g.current&&!g.current.contains(_.target)&&u(!c)};return c&&document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[c]),et.jsx(E0.Provider,{value:{color:b,selectValue:S,onChange:v},children:et.jsxs("div",{className:O1,children:[d&&et.jsx("span",{className:D1,children:d}),et.jsxs("div",{className:G1[c?"isOpen":"default"],ref:g,onClick:y,children:[et.jsx("p",{className:th,children:S}),et.jsx("p",{className:th,children:et.jsx("img",{src:c?i1:n1,width:12,height:12})})]}),c&&et.jsx("ul",{className:U1,children:l})]})})};Yl.__docgenInfo={description:"",methods:[],displayName:"Select",props:{name:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(name: string, value: string | number) => void",signature:{arguments:[{type:{name:"string"},name:"name"},{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const Kl=({children:l,value:s})=>{const{selectValue:b,onChange:S}=at.useContext(E0);return et.jsx("li",{className:B1[String(b).toLowerCase()===String(s).toLowerCase()?"active":"default"],onClick:()=>S(s),children:l})};Kl.__docgenInfo={description:"",methods:[],displayName:"SelectItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""}}};var z1="var(--_1hsvaro0)",H1="_1hsvaro1",L1="_1hsvaro2",V1="_1hsvaro3";function q1(l){var s=l.match(/^var\((.*)\)$/);return s?s[1]:l}function T0(l,s){var b={};{var S=l;for(var d in S){var h=S[d];h!=null&&(b[q1(d)]=h)}}return Object.defineProperty(b,"toString",{value:function(){return Object.keys(this).map(u=>"".concat(u,":").concat(this[u])).join(";")},writable:!1}),b}const Zl=({name:l,label:s,value:b,width:S=124,maxLength:d=5,disabled:h=!1,onChange:c})=>{const u=at.useMemo(()=>({...T0({[z1]:`${S}px`})}),[S]);return et.jsxs("div",{className:H1,children:[s&&et.jsx("label",{htmlFor:l,className:L1,children:s}),et.jsx("input",{type:"text",name:l,id:l,value:b,maxLength:d,onChange:c,disabled:h,className:V1,style:u})]})};Zl.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{label:{required:!1,tsType:{name:"string"},description:""},width:{defaultValue:{value:"124",computed:!1},required:!1},maxLength:{defaultValue:{value:"5",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["ComponentProps"]};var w1="_17ek9070",P1="_17ek9071",j1="_17ek9072",F1="_17ek9073";const x0=({onChangeImage:l})=>{const s=at.useRef(null),b=S=>{l(S),s.current&&(s.current.value="")};return et.jsxs("div",{className:w1,children:[et.jsx("label",{htmlFor:"file",className:j1,children:et.jsx("img",{src:o1,width:20,height:20,className:F1})}),et.jsx("input",{ref:s,id:"file",type:"file",onChange:b,className:P1})]})};x0.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{onChangeImage:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""}}};const Ji=({width:l="100%",height:s,color:b,margin:S})=>{const[d,h,c,u]=S??[0,0,0,0],g=at.useMemo(()=>({width:l,height:s,backgroundColor:b,marginTop:d,marginRight:h,marginBottom:c,marginLeft:u}),[]);return et.jsx("div",{style:g})};Ji.__docgenInfo={description:"",methods:[],displayName:"Divider",props:{width:{required:!1,tsType:{name:"CSSProperties['width']",raw:"CSSProperties['width']"},description:"",defaultValue:{value:"'100%'",computed:!1}},height:{required:!0,tsType:{name:"CSSProperties['height']",raw:"CSSProperties['height']"},description:""},color:{required:!0,tsType:{name:"string"},description:""},margin:{required:!1,tsType:{name:"tuple",raw:"[number, number, number, number]",elements:[{name:"number"},{name:"number"},{name:"number"},{name:"number"}]},description:""}}};function za(l,s){return Array.isArray(l)?l.includes(s):l}var Y1=l=>{let s=l.getBoundingClientRect();return{width:s.width,height:s.height}};function Il(){let l=at.useRef(null),[s,b]=at.useState({width:1,height:1});at.useLayoutEffect(()=>{let d=()=>{l.current&&b(Y1(l.current))},h=([{contentBoxSize:u}])=>{b({height:u[0].blockSize,width:u[0].inlineSize})};window.addEventListener("resize",d,!1);let c=new ResizeObserver(h);return l.current&&c.observe(l.current),()=>{window.removeEventListener("resize",d,!1),c.disconnect()}},[]);let S=at.useCallback(()=>{let{left:d=1,right:h=1,top:c=1,bottom:u=1}=l.current?.getBoundingClientRect()??{};return{left:d,right:h,top:c,bottom:u}},[]);return[l,s,S]}function Jl(l,s,b){return l<s?s:l>b?b:l}var K1=class{convert(l,s){let b=this.toHex("#000000"),S=this.hex2rgb(b),d=this.rgb2hsv(S);if(l==="hex"){let h=s;b=this.toHex(h),S=this.hex2rgb(b),b.startsWith("rgba")&&(S=this.toRgb(b),b=this.rgb2hex(S)),d=this.rgb2hsv(S)}else l==="rgb"?(S=s,b=this.rgb2hex(S),d=this.rgb2hsv(S)):l==="hsv"&&(d=s,S=this.hsv2rgb(d),b=this.rgb2hex(S));return{hex:b,rgb:S,hsv:d}}toHex(l){if(l.startsWith("#")){if(l.length===4||l.length===5)return l=l.split("").map((s,b)=>b?b<4?s+s:s==="f"?void 0:s+s:"#").join(""),l;if(l.length===7)return l;if(l.length===9)return l.endsWith("ff")?l.slice(0,7):l}else{let s=document.createElement("canvas").getContext("2d");if(!s)throw new Error("2d context not supported or canvas already initialized");return s.fillStyle=l,s.fillStyle}return"#000000"}toRgb(l){let s=l.match(/\d+(\.\d+)?/gu)??[],[b,S,d,h]=Array.from({length:4}).map((c,u)=>Jl(+(s[u]??(u<3?0:1)),0,u<3?255:1));return{r:b,g:S,b:d,a:h}}toHsv(l){let s=l.match(/\d+(\.\d+)?/gu)??[],[b,S,d,h]=Array.from({length:4}).map((c,u)=>Jl(+(s[u]??(u<3?0:1)),0,u?u<3?100:1:360));return{h:b,s:S,v:d,a:h}}hex2rgb(l){l=l.slice(1);let[s,b,S,d]=Array.from({length:4}).map((h,c)=>parseInt(l.slice(c*2,c*2+2),16));return d=Number.isNaN(d)?1:d/255,{r:s,g:b,b:S,a:d}}rgb2hsv({r:l,g:s,b,a:S}){l/=255,s/=255,b/=255;let d=Math.max(l,s,b),h=d-Math.min(l,s,b),c=h?(d===l?(s-b)/h+(s<b?6:0):d===s?2+(b-l)/h:4+(l-s)/h)*60:0,u=d?h/d*100:0,g=d*100;return{h:c,s:u,v:g,a:S}}hsv2rgb({h:l,s,v:b,a:S}){s/=100,b/=100;let d=~~(l/60),h=l/60-d,c=b*(1-s),u=b*(1-s*h),g=b*(1-s*(1-h)),y=d%6,v=[b,u,c,c,g,b][y]*255,E=[g,b,b,u,c,c][y]*255,_=[c,c,g,b,b,u][y]*255;return{r:v,g:E,b:_,a:S}}rgb2hex({r:l,g:s,b,a:S}){let[d,h,c,u]=[l,s,b,S].map((g,y)=>Math.round(y<3?g:g*255).toString(16).padStart(2,"0"));return["#",d,h,c,u==="ff"?void 0:u].join("")}},_e=new K1;function Wa(l){return"touches"in l}var eo=at.memo(({onCoordinateChange:l,children:s,disabled:b})=>{let[S,{width:d,height:h},c]=Il(),u=at.useCallback((y,v=!1)=>{let{left:E,top:_}=c(),f=Jl(y.clientX-E,0,d),m=Jl(y.clientY-_,0,h);l(v,f,m)},[d,h,c,l]),g=at.useCallback(y=>{if(!Wa(y)&&y.button!==0)return;let v=_=>{u(Wa(_)?_.touches[0]:_)},E=_=>{u(Wa(_)?_.changedTouches[0]:_,!0),document.removeEventListener(Wa(_)?"touchmove":"mousemove",v,!1),document.removeEventListener(Wa(_)?"touchend":"mouseup",E,!1)};v(y),document.addEventListener(Wa(y)?"touchmove":"mousemove",v,!1),document.addEventListener(Wa(y)?"touchend":"mouseup",E,!1)},[u]);return pt.createElement("div",{ref:S,className:"rcp-interactive",onMouseDown:g,onTouchStart:g,"aria-disabled":b},s)}),X1=at.memo(({color:l,disabled:s,onChange:b,onChangeComplete:S})=>{let[d,{width:h}]=Il(),c=at.useMemo(()=>({x:l.hsv.a*h}),[l.hsv.a,h]),u=at.useCallback((v,E)=>{let _=_e.convert("hsv",{...l.hsv,a:E/h});b(_),v&&S?.(_)},[l.hsv,h,b,S]),g=at.useMemo(()=>[l.rgb.r,l.rgb.g,l.rgb.b].join(" "),[l.rgb.r,l.rgb.g,l.rgb.b]),y=at.useMemo(()=>[g,l.rgb.a].join(" / "),[g,l.rgb.a]);return pt.createElement(eo,{disabled:s,onCoordinateChange:u},pt.createElement("div",{ref:d,style:{background:`linear-gradient(to right, rgb(${g} / 0), rgb(${g} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},pt.createElement("div",{style:{left:c.x,background:`linear-gradient(to right, rgb(${y}), rgb(${y})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-c.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});function N0(l,s){return Math.round(l*10**s)/10**s}function eh({r:l,g:s,b,a:S}){let d=[Math.round(l),Math.round(s),Math.round(b)],h=N0(S,3);return h<1&&d.push(h),d.join(", ")}function ah({h:l,s,v:b,a:S}){let d=[`${Math.round(l)}°`,`${Math.round(s)}%`,`${Math.round(b)}%`],h=N0(S,3);return h<1&&d.push(h),d.join(", ")}var Q1=at.memo(({hideInput:l,color:s,disabled:b,onChange:S,onChangeComplete:d})=>{let[h,c]=at.useState({hex:{value:s.hex,inputted:!1},rgb:{value:eh(s.rgb),inputted:!1},hsv:{value:ah(s.hsv),inputted:!1}});at.useEffect(()=>{h.hex.inputted||c(v=>({...v,hex:{...v.hex,value:s.hex}}))},[h.hex.inputted,s.hex]),at.useEffect(()=>{h.rgb.inputted||c(v=>({...v,rgb:{...v.rgb,value:eh(s.rgb)}}))},[h.rgb.inputted,s.rgb]),at.useEffect(()=>{h.hsv.inputted||c(v=>({...v,hsv:{...v.hsv,value:ah(s.hsv)}}))},[h.hsv.inputted,s.hsv]);let u=at.useCallback(v=>E=>{let{value:_}=E.target;c(f=>({...f,[v]:{...f[v],value:_}})),S(v==="hsv"?_e.convert("hsv",_e.toHsv(_)):v==="rgb"?_e.convert("rgb",_e.toRgb(_)):_e.convert("hex",_))},[S]),g=at.useCallback(v=>()=>{c(E=>({...E,[v]:{...E[v],inputted:!0}}))},[]),y=at.useCallback(v=>E=>{let{value:_}=E.target;c(f=>({...f,[v]:{...f[v],inputted:!1}})),d?.(v==="hsv"?_e.convert("hsv",_e.toHsv(_)):v==="rgb"?_e.convert("rgb",_e.toRgb(_)):_e.convert("hex",_))},[d]);return pt.createElement("div",{className:"rcp-fields"},!za(l,"hex")&&pt.createElement("div",{className:"rcp-fields-floor"},pt.createElement("div",{className:"rcp-field"},pt.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:b,value:h.hex.value,onChange:u("hex"),onFocus:g("hex"),onBlur:y("hex")}),pt.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!za(l,"rgb")||!za(l,"hsv"))&&pt.createElement("div",{className:"rcp-fields-floor"},!za(l,"rgb")&&pt.createElement("div",{className:"rcp-field"},pt.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:b,value:h.rgb.value,onChange:u("rgb"),onFocus:g("rgb"),onBlur:y("rgb")}),pt.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!za(l,"hsv")&&pt.createElement("div",{className:"rcp-field"},pt.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:b,value:h.hsv.value,onChange:u("hsv"),onFocus:g("hsv"),onBlur:y("hsv")}),pt.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))}),Z1=at.memo(({color:l,disabled:s,onChange:b,onChangeComplete:S})=>{let[d,{width:h}]=Il(),c=at.useMemo(()=>({x:l.hsv.h/360*h}),[l.hsv.h,h]),u=at.useCallback((y,v)=>{let E=_e.convert("hsv",{...l.hsv,h:v/h*360});b(E),y&&S?.(E)},[l.hsv,h,b,S]),g=at.useMemo(()=>[l.hsv.h,"100%","50%"].join(" "),[l.hsv.h]);return pt.createElement(eo,{disabled:s,onCoordinateChange:u},pt.createElement("div",{ref:d,className:"rcp-hue"},pt.createElement("div",{style:{left:c.x,backgroundColor:`hsl(${g})`},className:"rcp-hue-cursor"})))}),J1=at.memo(({height:l,color:s,disabled:b,onChange:S,onChangeComplete:d})=>{let[h,{width:c}]=Il(),u=at.useMemo(()=>{let E=s.hsv.s/100*c,_=(100-s.hsv.v)/100*l;return{x:E,y:_}},[s.hsv.s,s.hsv.v,c,l]),g=at.useCallback((E,_,f)=>{let m=_e.convert("hsv",{...s.hsv,s:_/c*100,v:100-f/l*100});S(m),E&&d?.(m)},[s.hsv,c,l,S,d]),y=at.useMemo(()=>[s.hsv.h,"100%","50%"].join(" "),[s.hsv.h]),v=at.useMemo(()=>[s.rgb.r,s.rgb.g,s.rgb.b].join(" "),[s.rgb.r,s.rgb.g,s.rgb.b]);return pt.createElement(eo,{disabled:b,onCoordinateChange:g},pt.createElement("div",{ref:h,style:{height:l,backgroundColor:`hsl(${y})`},className:"rcp-saturation"},pt.createElement("div",{style:{left:u.x,top:u.y,backgroundColor:`rgb(${v})`},className:"rcp-saturation-cursor"})))}),k1=at.memo(({height:l=200,hideAlpha:s=!1,hideInput:b=!1,color:S,disabled:d=!1,onChange:h,onChangeComplete:c})=>pt.createElement("div",{className:"rcp-root rcp"},pt.createElement(J1,{height:l,color:S,disabled:d,onChange:h,onChangeComplete:c}),pt.createElement("div",{className:"rcp-body"},pt.createElement("section",{className:"rcp-section"},pt.createElement(Z1,{color:S,disabled:d,onChange:h,onChangeComplete:c}),!s&&pt.createElement(X1,{color:S,disabled:d,onChange:h,onChangeComplete:c})),(!za(b,"hex")||!za(b,"rgb")||!za(b,"hsv"))&&pt.createElement("section",{className:"rcp-section"},pt.createElement(Q1,{hideInput:b,color:S,disabled:d,onChange:h,onChangeComplete:c})))));function Hr(l){let[s,b]=at.useState(_e.convert("hex",l));return at.useEffect(()=>{b(_e.convert("hex",l))},[l]),[s,b]}var W1={default:"_15oudje1 _15oudje0",hasBorder:"_15oudje2 _15oudje0",isOpen:"_15oudje3 _15oudje0"};function R0(l){var s,b,S="";if(typeof l=="string"||typeof l=="number")S+=l;else if(typeof l=="object")if(Array.isArray(l)){var d=l.length;for(s=0;s<d;s++)l[s]&&(b=R0(l[s]))&&(S&&(S+=" "),S+=b)}else for(b in l)l[b]&&(S&&(S+=" "),S+=b);return S}function I1(){for(var l,s,b=0,S="",d=arguments.length;b<d;b++)(l=arguments[b])&&(s=R0(l))&&(S&&(S+=" "),S+=s);return S}const Ha=({hasBorder:l,isOpen:s,...b})=>{const{className:S,...d}=b;return et.jsx("button",{...d,className:I1(W1[s?"isOpen":l?"hasBorder":"default"],S)})};Ha.__docgenInfo={description:"",methods:[],displayName:"IconButton",props:{hasBorder:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentProps"]};const Xl=({children:l,color:s,toggleIsBlockEvent:b,setColor:S})=>{const[d,h]=at.useState(!1),c=at.useRef(null),[u,g]=at.useState({x:0,y:0}),y=at.useCallback(f=>{d&&c.current&&(c.current.contains(f.target)||(h(!1),b()))},[d,b]),v=at.useCallback(f=>{const{x:m,y:A}=f.currentTarget.getBoundingClientRect();g({x:m,y:A}),h(N=>!N),b()},[b]);at.useEffect(()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}),[y]);const E=at.useMemo(()=>({position:"relative"}),[]),_=at.useMemo(()=>({position:"absolute",left:`${u.x}px`,top:`${u.y-360}px`,transform:"translateX(-50%)",zIndex:"9999"}),[u]);return et.jsxs("div",{style:E,children:[et.jsx(Ha,{isOpen:d,onClick:v,hasBorder:!0,children:l}),d&&et.jsx(N1,{children:et.jsx("div",{ref:c,style:_,children:et.jsx(k1,{height:150,color:s,onChange:S,hideInput:["hsv"]})})})]})};Xl.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},color:{required:!0,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: ComponentProps<typeof PaletteColorPicker>['color']) => void",signature:{arguments:[{type:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},name:"color"}],return:{name:"void"}}},description:""},toggleIsBlockEvent:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var $1="r0da600",t2="r0da601";const M0=({onToggle:l})=>et.jsx("header",{className:$1,children:et.jsx(Ha,{className:t2,onClick:l,hasBorder:!1,children:et.jsx("img",{src:l1,width:20,height:20})})});M0.__docgenInfo={description:"",methods:[],displayName:"Header",props:{onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const e2=["Arial","monospace","Times New Roman","Georgia","Courier New","Verdana"],a2=["None","Thin","Normal","Thick"],n2=["png","jpg","webp"],i2=(l,s="png")=>{const b=document.createElement("a");b.href=l,b.setAttribute("download",`thumbnail.${s}`),document.body.appendChild(b),b.click(),document.body.removeChild(b)},l2=(l,s)=>{if(l?.current){const b=l.current.toDataURL();i2(b,s)}};function s2(l,s){if(typeof l!="object"||!l)return l;var b=l[Symbol.toPrimitive];if(b!==void 0){var S=b.call(l,s);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}function r2(l){var s=s2(l,"string");return typeof s=="symbol"?s:String(s)}function o2(l,s,b){return s=r2(s),s in l?Object.defineProperty(l,s,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[s]=b,l}function nh(l,s){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);s&&(S=S.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),b.push.apply(b,S)}return b}function ih(l){for(var s=1;s<arguments.length;s++){var b=arguments[s]!=null?arguments[s]:{};s%2?nh(Object(b),!0).forEach(function(S){o2(l,S,b[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):nh(Object(b)).forEach(function(S){Object.defineProperty(l,S,Object.getOwnPropertyDescriptor(b,S))})}return l}function lh(l,s){var b={};for(var S in l)b[S]=s(l[S],S);return b}var u2=(l,s,b)=>{for(var S of Object.keys(l)){var d;if(l[S]!==((d=s[S])!==null&&d!==void 0?d:b[S]))return!1}return!0},O0=l=>{var s=b=>{var S=l.defaultClassName,d=ih(ih({},l.defaultVariants),b);for(var h in d){var c,u=(c=d[h])!==null&&c!==void 0?c:l.defaultVariants[h];if(u!=null){var g=u;typeof g=="boolean"&&(g=g===!0?"true":"false");var y=l.variantClassNames[h][g];y&&(S+=" "+y)}}for(var[v,E]of l.compoundVariants)u2(v,d,l.defaultVariants)&&(S+=" "+E);return S};return s.variants=()=>Object.keys(l.variantClassNames),s.classNames={get base(){return l.defaultClassName.split(" ")[0]},get variants(){return lh(l.variantClassNames,b=>lh(b,S=>S.split(" ")[0]))}},s},c2=O0({defaultClassName:"svrs4m0",variantClassNames:{isFullWidth:{true:"svrs4m1",false:"svrs4m2"},modalPosition:{left:"svrs4m3",right:"svrs4m4",center:"svrs4m5"}},defaultVariants:{},compoundVariants:[]}),h2="svrs4m6",d2="svrs4m7",f2=O0({defaultClassName:"ceao1g0",variantClassNames:{iconPosition:{"top-left":"ceao1g1","top-right":"ceao1g2","bottom-left":"ceao1g3","bottom-right":"ceao1g4"}},defaultVariants:{},compoundVariants:[]}),g2="ceao1g5",m2="ceao1g6",p2="ceao1g7",sh="ceao1g8",v2="ceao1g9",y2="ceao1ga",_2="ceao1gb",Ql={exports:{}},oi={},Lr={},Vr={},rh;function At(){return rh||(rh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l._registerNode=l.Konva=l.glob=void 0;const s=Math.PI/180;function b(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}l.glob=typeof Wc<"u"?Wc:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},l.Konva={_global:l.glob,version:"9.3.22",isBrowser:b(),isUnminified:/param/.test((function(d){}).toString()),dblClickWindow:400,getAngle(d){return l.Konva.angleDeg?d*s:d},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return l.Konva.DD.isDragging},isTransforming(){var d;return(d=l.Konva.Transformer)===null||d===void 0?void 0:d.isTransforming()},isDragReady(){return!!l.Konva.DD.node},releaseCanvasOnDestroy:!0,document:l.glob.document,_injectGlobal(d){l.glob.Konva=d}};const S=d=>{l.Konva[d.prototype.getClassName()]=d};l._registerNode=S,l.Konva._injectGlobal(l.Konva)}(Vr)),Vr}var qr={},oh;function Kt(){return oh||(oh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Util=l.Transform=void 0;const s=At();class b{constructor(C=[1,0,0,1,0,0]){this.dirty=!1,this.m=C&&C.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new b(this.m)}copyInto(C){C.m[0]=this.m[0],C.m[1]=this.m[1],C.m[2]=this.m[2],C.m[3]=this.m[3],C.m[4]=this.m[4],C.m[5]=this.m[5]}point(C){const x=this.m;return{x:x[0]*C.x+x[2]*C.y+x[4],y:x[1]*C.x+x[3]*C.y+x[5]}}translate(C,x){return this.m[4]+=this.m[0]*C+this.m[2]*x,this.m[5]+=this.m[1]*C+this.m[3]*x,this}scale(C,x){return this.m[0]*=C,this.m[1]*=C,this.m[2]*=x,this.m[3]*=x,this}rotate(C){const x=Math.cos(C),B=Math.sin(C),P=this.m[0]*x+this.m[2]*B,R=this.m[1]*x+this.m[3]*B,O=this.m[0]*-B+this.m[2]*x,G=this.m[1]*-B+this.m[3]*x;return this.m[0]=P,this.m[1]=R,this.m[2]=O,this.m[3]=G,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(C,x){const B=this.m[0]+this.m[2]*x,P=this.m[1]+this.m[3]*x,R=this.m[2]+this.m[0]*C,O=this.m[3]+this.m[1]*C;return this.m[0]=B,this.m[1]=P,this.m[2]=R,this.m[3]=O,this}multiply(C){const x=this.m[0]*C.m[0]+this.m[2]*C.m[1],B=this.m[1]*C.m[0]+this.m[3]*C.m[1],P=this.m[0]*C.m[2]+this.m[2]*C.m[3],R=this.m[1]*C.m[2]+this.m[3]*C.m[3],O=this.m[0]*C.m[4]+this.m[2]*C.m[5]+this.m[4],G=this.m[1]*C.m[4]+this.m[3]*C.m[5]+this.m[5];return this.m[0]=x,this.m[1]=B,this.m[2]=P,this.m[3]=R,this.m[4]=O,this.m[5]=G,this}invert(){const C=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),x=this.m[3]*C,B=-this.m[1]*C,P=-this.m[2]*C,R=this.m[0]*C,O=C*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),G=C*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=x,this.m[1]=B,this.m[2]=P,this.m[3]=R,this.m[4]=O,this.m[5]=G,this}getMatrix(){return this.m}decompose(){const C=this.m[0],x=this.m[1],B=this.m[2],P=this.m[3],R=this.m[4],O=this.m[5],G=C*P-x*B,V={x:R,y:O,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(C!=0||x!=0){const j=Math.sqrt(C*C+x*x);V.rotation=x>0?Math.acos(C/j):-Math.acos(C/j),V.scaleX=j,V.scaleY=G/j,V.skewX=(C*B+x*P)/G,V.skewY=0}else if(B!=0||P!=0){const j=Math.sqrt(B*B+P*P);V.rotation=Math.PI/2-(P>0?Math.acos(-B/j):-Math.acos(B/j)),V.scaleX=G/j,V.scaleY=j,V.skewX=0,V.skewY=(C*B+x*P)/G}return V.rotation=l.Util._getRotation(V.rotation),V}}l.Transform=b;const S="[object Array]",d="[object Number]",h="[object String]",c="[object Boolean]",u=Math.PI/180,g=180/Math.PI,y="#",v="",E="0",_="Konva warning: ",f="Konva error: ",m="rgb(",A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},N=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let U=[];const p=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(o){setTimeout(o,60)};l.Util={_isElement(o){return!!(o&&o.nodeType==1)},_isFunction(o){return!!(o&&o.constructor&&o.call&&o.apply)},_isPlainObject(o){return!!o&&o.constructor===Object},_isArray(o){return Object.prototype.toString.call(o)===S},_isNumber(o){return Object.prototype.toString.call(o)===d&&!isNaN(o)&&isFinite(o)},_isString(o){return Object.prototype.toString.call(o)===h},_isBoolean(o){return Object.prototype.toString.call(o)===c},isObject(o){return o instanceof Object},isValidSelector(o){if(typeof o!="string")return!1;const C=o[0];return C==="#"||C==="."||C===C.toUpperCase()},_sign(o){return o===0||o>0?1:-1},requestAnimFrame(o){U.push(o),U.length===1&&p(function(){const C=U;U=[],C.forEach(function(x){x()})})},createCanvasElement(){const o=document.createElement("canvas");try{o.style=o.style||{}}catch{}return o},createImageElement(){return document.createElement("img")},_isInDocument(o){for(;o=o.parentNode;)if(o==document)return!0;return!1},_urlToImage(o,C){const x=l.Util.createImageElement();x.onload=function(){C(x)},x.src=o},_rgbToHex(o,C,x){return((1<<24)+(o<<16)+(C<<8)+x).toString(16).slice(1)},_hexToRgb(o){o=o.replace(y,v);const C=parseInt(o,16);return{r:C>>16&255,g:C>>8&255,b:C&255}},getRandomColor(){let o=(Math.random()*16777215<<0).toString(16);for(;o.length<6;)o=E+o;return y+o},getRGB(o){let C;return o in A?(C=A[o],{r:C[0],g:C[1],b:C[2]}):o[0]===y?this._hexToRgb(o.substring(1)):o.substr(0,4)===m?(C=N.exec(o.replace(/ /g,"")),{r:parseInt(C[1],10),g:parseInt(C[2],10),b:parseInt(C[3],10)}):{r:0,g:0,b:0}},colorToRGBA(o){return o=o||"black",l.Util._namedColorToRBA(o)||l.Util._hex3ColorToRGBA(o)||l.Util._hex4ColorToRGBA(o)||l.Util._hex6ColorToRGBA(o)||l.Util._hex8ColorToRGBA(o)||l.Util._rgbColorToRGBA(o)||l.Util._rgbaColorToRGBA(o)||l.Util._hslColorToRGBA(o)},_namedColorToRBA(o){const C=A[o.toLowerCase()];return C?{r:C[0],g:C[1],b:C[2],a:1}:null},_rgbColorToRGBA(o){if(o.indexOf("rgb(")===0){o=o.match(/rgb\(([^)]+)\)/)[1];const C=o.split(/ *, */).map(Number);return{r:C[0],g:C[1],b:C[2],a:1}}},_rgbaColorToRGBA(o){if(o.indexOf("rgba(")===0){o=o.match(/rgba\(([^)]+)\)/)[1];const C=o.split(/ *, */).map((x,B)=>x.slice(-1)==="%"?B===3?parseInt(x)/100:parseInt(x)/100*255:Number(x));return{r:C[0],g:C[1],b:C[2],a:C[3]}}},_hex8ColorToRGBA(o){if(o[0]==="#"&&o.length===9)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:parseInt(o.slice(7,9),16)/255}},_hex6ColorToRGBA(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:1}},_hex4ColorToRGBA(o){if(o[0]==="#"&&o.length===5)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:parseInt(o[4]+o[4],16)/255}},_hex3ColorToRGBA(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:1}},_hslColorToRGBA(o){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(o)){const[C,...x]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(o),B=Number(x[0])/360,P=Number(x[1])/100,R=Number(x[2])/100;let O,G,V;if(P===0)return V=R*255,{r:Math.round(V),g:Math.round(V),b:Math.round(V),a:1};R<.5?O=R*(1+P):O=R+P-R*P;const j=2*R-O,K=[0,0,0];for(let Q=0;Q<3;Q++)G=B+1/3*-(Q-1),G<0&&G++,G>1&&G--,6*G<1?V=j+(O-j)*6*G:2*G<1?V=O:3*G<2?V=j+(O-j)*(2/3-G)*6:V=j,K[Q]=V*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(o,C){return!(C.x>o.x+o.width||C.x+C.width<o.x||C.y>o.y+o.height||C.y+C.height<o.y)},cloneObject(o){const C={};for(const x in o)this._isPlainObject(o[x])?C[x]=this.cloneObject(o[x]):this._isArray(o[x])?C[x]=this.cloneArray(o[x]):C[x]=o[x];return C},cloneArray(o){return o.slice(0)},degToRad(o){return o*u},radToDeg(o){return o*g},_degToRad(o){return l.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),l.Util.degToRad(o)},_radToDeg(o){return l.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),l.Util.radToDeg(o)},_getRotation(o){return s.Konva.angleDeg?l.Util.radToDeg(o):o},_capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)},throw(o){throw new Error(f+o)},error(o){console.error(f+o)},warn(o){s.Konva.showWarnings&&console.warn(_+o)},each(o,C){for(const x in o)C(x,o[x])},_inRange(o,C,x){return C<=o&&o<x},_getProjectionToSegment(o,C,x,B,P,R){let O,G,V;const j=(o-x)*(o-x)+(C-B)*(C-B);if(j==0)O=o,G=C,V=(P-x)*(P-x)+(R-B)*(R-B);else{const K=((P-o)*(x-o)+(R-C)*(B-C))/j;K<0?(O=o,G=C,V=(o-P)*(o-P)+(C-R)*(C-R)):K>1?(O=x,G=B,V=(x-P)*(x-P)+(B-R)*(B-R)):(O=o+K*(x-o),G=C+K*(B-C),V=(O-P)*(O-P)+(G-R)*(G-R))}return[O,G,V]},_getProjectionToLine(o,C,x){const B=l.Util.cloneObject(o);let P=Number.MAX_VALUE;return C.forEach(function(R,O){if(!x&&O===C.length-1)return;const G=C[(O+1)%C.length],V=l.Util._getProjectionToSegment(R.x,R.y,G.x,G.y,o.x,o.y),j=V[0],K=V[1],Q=V[2];Q<P&&(B.x=j,B.y=K,P=Q)}),B},_prepareArrayForTween(o,C,x){const B=[],P=[];if(o.length>C.length){const O=C;C=o,o=O}for(let O=0;O<o.length;O+=2)B.push({x:o[O],y:o[O+1]});for(let O=0;O<C.length;O+=2)P.push({x:C[O],y:C[O+1]});const R=[];return P.forEach(function(O){const G=l.Util._getProjectionToLine(O,B,x);R.push(G.x),R.push(G.y)}),R},_prepareToStringify(o){let C;o.visitedByCircularReferenceRemoval=!0;for(const x in o)if(o.hasOwnProperty(x)&&o[x]&&typeof o[x]=="object"){if(C=Object.getOwnPropertyDescriptor(o,x),o[x].visitedByCircularReferenceRemoval||l.Util._isElement(o[x]))if(C.configurable)delete o[x];else return null;else if(l.Util._prepareToStringify(o[x])===null)if(C.configurable)delete o[x];else return null}return delete o.visitedByCircularReferenceRemoval,o},_assign(o,C){for(const x in C)o[x]=C[x];return o},_getFirstPointerId(o){return o.touches?o.changedTouches[0].identifier:o.pointerId||999},releaseCanvas(...o){s.Konva.releaseCanvasOnDestroy&&o.forEach(C=>{C.width=0,C.height=0})},drawRoundedRectPath(o,C,x,B){let P=0,R=0,O=0,G=0;typeof B=="number"?P=R=O=G=Math.min(B,C/2,x/2):(P=Math.min(B[0]||0,C/2,x/2),R=Math.min(B[1]||0,C/2,x/2),G=Math.min(B[2]||0,C/2,x/2),O=Math.min(B[3]||0,C/2,x/2)),o.moveTo(P,0),o.lineTo(C-R,0),o.arc(C-R,R,R,Math.PI*3/2,0,!1),o.lineTo(C,x-G),o.arc(C-G,x-G,G,0,Math.PI/2,!1),o.lineTo(O,x),o.arc(O,x-O,O,Math.PI/2,Math.PI,!1),o.lineTo(0,P),o.arc(P,P,P,Math.PI,Math.PI*3/2,!1)}}}(qr)),qr}var ui={},ha={},da={},uh;function D0(){if(uh)return da;uh=1,Object.defineProperty(da,"__esModule",{value:!0}),da.HitContext=da.SceneContext=da.Context=void 0;const l=Kt(),s=At();function b(U){const p=[],o=U.length,C=l.Util;for(let x=0;x<o;x++){let B=U[x];C._isNumber(B)?B=Math.round(B*1e3)/1e3:C._isString(B)||(B=B+""),p.push(B)}return p}const S=",",d="(",h=")",c="([",u="])",g=";",y="()",v="=",E=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let m=class{constructor(p){this.canvas=p,s.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(p){p.fillEnabled()&&this._fill(p)}_fill(p){}strokeShape(p){p.hasStroke()&&this._stroke(p)}_stroke(p){}fillStrokeShape(p){p.attrs.fillAfterStrokeEnabled?(this.strokeShape(p),this.fillShape(p)):(this.fillShape(p),this.strokeShape(p))}getTrace(p,o){let C=this.traceArr,x=C.length,B="",P,R,O,G;for(P=0;P<x;P++)R=C[P],O=R.method,O?(G=R.args,B+=O,p?B+=y:l.Util._isArray(G[0])?B+=c+G.join(S)+u:(o&&(G=G.map(V=>typeof V=="number"?Math.floor(V):V)),B+=d+G.join(S)+h)):(B+=R.property,p||(B+=v+R.val)),B+=g;return B}clearTrace(){this.traceArr=[]}_trace(p){let o=this.traceArr,C;o.push(p),C=o.length,C>=f&&o.shift()}reset(){const p=this.getCanvas().getPixelRatio();this.setTransform(1*p,0,0,1*p,0,0)}getCanvas(){return this.canvas}clear(p){const o=this.getCanvas();p?this.clearRect(p.x||0,p.y||0,p.width||0,p.height||0):this.clearRect(0,0,o.getWidth()/o.pixelRatio,o.getHeight()/o.pixelRatio)}_applyLineCap(p){const o=p.attrs.lineCap;o&&this.setAttr("lineCap",o)}_applyOpacity(p){const o=p.getAbsoluteOpacity();o!==1&&this.setAttr("globalAlpha",o)}_applyLineJoin(p){const o=p.attrs.lineJoin;o&&this.setAttr("lineJoin",o)}setAttr(p,o){this._context[p]=o}arc(p,o,C,x,B,P){this._context.arc(p,o,C,x,B,P)}arcTo(p,o,C,x,B){this._context.arcTo(p,o,C,x,B)}beginPath(){this._context.beginPath()}bezierCurveTo(p,o,C,x,B,P){this._context.bezierCurveTo(p,o,C,x,B,P)}clearRect(p,o,C,x){this._context.clearRect(p,o,C,x)}clip(...p){this._context.clip.apply(this._context,p)}closePath(){this._context.closePath()}createImageData(p,o){const C=arguments;if(C.length===2)return this._context.createImageData(p,o);if(C.length===1)return this._context.createImageData(p)}createLinearGradient(p,o,C,x){return this._context.createLinearGradient(p,o,C,x)}createPattern(p,o){return this._context.createPattern(p,o)}createRadialGradient(p,o,C,x,B,P){return this._context.createRadialGradient(p,o,C,x,B,P)}drawImage(p,o,C,x,B,P,R,O,G){const V=arguments,j=this._context;V.length===3?j.drawImage(p,o,C):V.length===5?j.drawImage(p,o,C,x,B):V.length===9&&j.drawImage(p,o,C,x,B,P,R,O,G)}ellipse(p,o,C,x,B,P,R,O){this._context.ellipse(p,o,C,x,B,P,R,O)}isPointInPath(p,o,C,x){return C?this._context.isPointInPath(C,p,o,x):this._context.isPointInPath(p,o,x)}fill(...p){this._context.fill.apply(this._context,p)}fillRect(p,o,C,x){this._context.fillRect(p,o,C,x)}strokeRect(p,o,C,x){this._context.strokeRect(p,o,C,x)}fillText(p,o,C,x){x?this._context.fillText(p,o,C,x):this._context.fillText(p,o,C)}measureText(p){return this._context.measureText(p)}getImageData(p,o,C,x){return this._context.getImageData(p,o,C,x)}lineTo(p,o){this._context.lineTo(p,o)}moveTo(p,o){this._context.moveTo(p,o)}rect(p,o,C,x){this._context.rect(p,o,C,x)}roundRect(p,o,C,x,B){this._context.roundRect(p,o,C,x,B)}putImageData(p,o,C){this._context.putImageData(p,o,C)}quadraticCurveTo(p,o,C,x){this._context.quadraticCurveTo(p,o,C,x)}restore(){this._context.restore()}rotate(p){this._context.rotate(p)}save(){this._context.save()}scale(p,o){this._context.scale(p,o)}setLineDash(p){this._context.setLineDash?this._context.setLineDash(p):"mozDash"in this._context?this._context.mozDash=p:"webkitLineDash"in this._context&&(this._context.webkitLineDash=p)}getLineDash(){return this._context.getLineDash()}setTransform(p,o,C,x,B,P){this._context.setTransform(p,o,C,x,B,P)}stroke(p){p?this._context.stroke(p):this._context.stroke()}strokeText(p,o,C,x){this._context.strokeText(p,o,C,x)}transform(p,o,C,x,B,P){this._context.transform(p,o,C,x,B,P)}translate(p,o){this._context.translate(p,o)}_enableTrace(){let p=this,o=E.length,C=this.setAttr,x,B;const P=function(R){let O=p[R],G;p[R]=function(){return B=b(Array.prototype.slice.call(arguments,0)),G=O.apply(p,arguments),p._trace({method:R,args:B}),G}};for(x=0;x<o;x++)P(E[x]);p.setAttr=function(){C.apply(p,arguments);const R=arguments[0];let O=arguments[1];(R==="shadowOffsetX"||R==="shadowOffsetY"||R==="shadowBlur")&&(O=O/this.canvas.getPixelRatio()),p._trace({property:R,val:O})}}_applyGlobalCompositeOperation(p){const o=p.attrs.globalCompositeOperation;!o||o==="source-over"||this.setAttr("globalCompositeOperation",o)}};da.Context=m,_.forEach(function(U){Object.defineProperty(m.prototype,U,{get(){return this._context[U]},set(p){this._context[U]=p}})});class A extends m{constructor(p,{willReadFrequently:o=!1}={}){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:o})}_fillColor(p){const o=p.fill();this.setAttr("fillStyle",o),p._fillFunc(this)}_fillPattern(p){this.setAttr("fillStyle",p._getFillPattern()),p._fillFunc(this)}_fillLinearGradient(p){const o=p._getLinearGradient();o&&(this.setAttr("fillStyle",o),p._fillFunc(this))}_fillRadialGradient(p){const o=p._getRadialGradient();o&&(this.setAttr("fillStyle",o),p._fillFunc(this))}_fill(p){const o=p.fill(),C=p.getFillPriority();if(o&&C==="color"){this._fillColor(p);return}const x=p.getFillPatternImage();if(x&&C==="pattern"){this._fillPattern(p);return}const B=p.getFillLinearGradientColorStops();if(B&&C==="linear-gradient"){this._fillLinearGradient(p);return}const P=p.getFillRadialGradientColorStops();if(P&&C==="radial-gradient"){this._fillRadialGradient(p);return}o?this._fillColor(p):x?this._fillPattern(p):B?this._fillLinearGradient(p):P&&this._fillRadialGradient(p)}_strokeLinearGradient(p){const o=p.getStrokeLinearGradientStartPoint(),C=p.getStrokeLinearGradientEndPoint(),x=p.getStrokeLinearGradientColorStops(),B=this.createLinearGradient(o.x,o.y,C.x,C.y);if(x){for(let P=0;P<x.length;P+=2)B.addColorStop(x[P],x[P+1]);this.setAttr("strokeStyle",B)}}_stroke(p){const o=p.dash(),C=p.getStrokeScaleEnabled();if(p.hasStroke()){if(!C){this.save();const B=this.getCanvas().getPixelRatio();this.setTransform(B,0,0,B,0,0)}this._applyLineCap(p),o&&p.dashEnabled()&&(this.setLineDash(o),this.setAttr("lineDashOffset",p.dashOffset())),this.setAttr("lineWidth",p.strokeWidth()),p.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),p.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(p):this.setAttr("strokeStyle",p.stroke()),p._strokeFunc(this),C||this.restore()}}_applyShadow(p){var o,C,x;const B=(o=p.getShadowRGBA())!==null&&o!==void 0?o:"black",P=(C=p.getShadowBlur())!==null&&C!==void 0?C:5,R=(x=p.getShadowOffset())!==null&&x!==void 0?x:{x:0,y:0},O=p.getAbsoluteScale(),G=this.canvas.getPixelRatio(),V=O.x*G,j=O.y*G;this.setAttr("shadowColor",B),this.setAttr("shadowBlur",P*Math.min(Math.abs(V),Math.abs(j))),this.setAttr("shadowOffsetX",R.x*V),this.setAttr("shadowOffsetY",R.y*j)}}da.SceneContext=A;class N extends m{constructor(p){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:!0})}_fill(p){this.save(),this.setAttr("fillStyle",p.colorKey),p._fillFuncHit(this),this.restore()}strokeShape(p){p.hasHitStroke()&&this._stroke(p)}_stroke(p){if(p.hasHitStroke()){const o=p.getStrokeScaleEnabled();if(!o){this.save();const B=this.getCanvas().getPixelRatio();this.setTransform(B,0,0,B,0,0)}this._applyLineCap(p);const C=p.hitStrokeWidth(),x=C==="auto"?p.strokeWidth():C;this.setAttr("lineWidth",x),this.setAttr("strokeStyle",p.colorKey),p._strokeFuncHit(this),o||this.restore()}}}return da.HitContext=N,da}var ch;function $l(){if(ch)return ha;ch=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.HitCanvas=ha.SceneCanvas=ha.Canvas=void 0;const l=Kt(),s=D0(),b=At();let S;function d(){if(S)return S;const g=l.Util.createCanvasElement(),y=g.getContext("2d");return S=function(){const v=b.Konva._global.devicePixelRatio||1,E=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return v/E}(),l.Util.releaseCanvas(g),S}let h=class{constructor(y){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const E=(y||{}).pixelRatio||b.Konva.pixelRatio||d();this.pixelRatio=E,this._canvas=l.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(y){const v=this.pixelRatio;this.pixelRatio=y,this.setSize(this.getWidth()/v,this.getHeight()/v)}setWidth(y){this.width=this._canvas.width=y*this.pixelRatio,this._canvas.style.width=y+"px";const v=this.pixelRatio;this.getContext()._context.scale(v,v)}setHeight(y){this.height=this._canvas.height=y*this.pixelRatio,this._canvas.style.height=y+"px";const v=this.pixelRatio;this.getContext()._context.scale(v,v)}getWidth(){return this.width}getHeight(){return this.height}setSize(y,v){this.setWidth(y||0),this.setHeight(v||0)}toDataURL(y,v){try{return this._canvas.toDataURL(y,v)}catch{try{return this._canvas.toDataURL()}catch(_){return l.Util.error("Unable to get data URL. "+_.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ha.Canvas=h;class c extends h{constructor(y={width:0,height:0,willReadFrequently:!1}){super(y),this.context=new s.SceneContext(this,{willReadFrequently:y.willReadFrequently}),this.setSize(y.width,y.height)}}ha.SceneCanvas=c;class u extends h{constructor(y={width:0,height:0}){super(y),this.hitCanvas=!0,this.context=new s.HitContext(this),this.setSize(y.width,y.height)}}return ha.HitCanvas=u,ha}var wr={},hh;function ao(){return hh||(hh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DD=void 0;const s=At(),b=Kt();l.DD={get isDragging(){let S=!1;return l.DD._dragElements.forEach(d=>{d.dragStatus==="dragging"&&(S=!0)}),S},justDragged:!1,get node(){let S;return l.DD._dragElements.forEach(d=>{S=d.node}),S},_dragElements:new Map,_drag(S){const d=[];l.DD._dragElements.forEach((h,c)=>{const{node:u}=h,g=u.getStage();g.setPointersPositions(S),h.pointerId===void 0&&(h.pointerId=b.Util._getFirstPointerId(S));const y=g._changedPointerPositions.find(v=>v.id===h.pointerId);if(y){if(h.dragStatus!=="dragging"){const v=u.dragDistance();if(Math.max(Math.abs(y.x-h.startPointerPos.x),Math.abs(y.y-h.startPointerPos.y))<v||(u.startDrag({evt:S}),!u.isDragging()))return}u._setDragPosition(S,h),d.push(u)}}),d.forEach(h=>{h.fire("dragmove",{type:"dragmove",target:h,evt:S},!0)})},_endDragBefore(S){const d=[];l.DD._dragElements.forEach(h=>{const{node:c}=h,u=c.getStage();if(S&&u.setPointersPositions(S),!u._changedPointerPositions.find(v=>v.id===h.pointerId))return;(h.dragStatus==="dragging"||h.dragStatus==="stopped")&&(l.DD.justDragged=!0,s.Konva._mouseListenClick=!1,s.Konva._touchListenClick=!1,s.Konva._pointerListenClick=!1,h.dragStatus="stopped");const y=h.node.getLayer()||h.node instanceof s.Konva.Stage&&h.node;y&&d.indexOf(y)===-1&&d.push(y)}),d.forEach(h=>{h.draw()})},_endDragAfter(S){l.DD._dragElements.forEach((d,h)=>{d.dragStatus==="stopped"&&d.node.fire("dragend",{type:"dragend",target:d.node,evt:S},!0),d.dragStatus!=="dragging"&&l.DD._dragElements.delete(h)})}},s.Konva.isBrowser&&(window.addEventListener("mouseup",l.DD._endDragBefore,!0),window.addEventListener("touchend",l.DD._endDragBefore,!0),window.addEventListener("touchcancel",l.DD._endDragBefore,!0),window.addEventListener("mousemove",l.DD._drag),window.addEventListener("touchmove",l.DD._drag),window.addEventListener("mouseup",l.DD._endDragAfter,!1),window.addEventListener("touchend",l.DD._endDragAfter,!1),window.addEventListener("touchcancel",l.DD._endDragAfter,!1))}(wr)),wr}var Pr={},Ee={},dh;function Nt(){if(dh)return Ee;dh=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.RGBComponent=S,Ee.alphaComponent=d,Ee.getNumberValidator=h,Ee.getNumberOrArrayOfNumbersValidator=c,Ee.getNumberOrAutoValidator=u,Ee.getStringValidator=g,Ee.getStringOrGradientValidator=y,Ee.getFunctionValidator=v,Ee.getNumberArrayValidator=E,Ee.getBooleanValidator=_,Ee.getComponentValidator=f;const l=At(),s=Kt();function b(m){return s.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||s.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function S(m){return m>255?255:m<0?0:Math.round(m)}function d(m){return m>1?1:m<1e-4?1e-4:m}function h(){if(l.Konva.isUnminified)return function(m,A){return s.Util._isNumber(m)||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a number.'),m}}function c(m){if(l.Konva.isUnminified)return function(A,N){let U=s.Util._isNumber(A),p=s.Util._isArray(A)&&A.length==m;return!U&&!p&&s.Util.warn(b(A)+' is a not valid value for "'+N+'" attribute. The value should be a number or Array<number>('+m+")"),A}}function u(){if(l.Konva.isUnminified)return function(m,A){return s.Util._isNumber(m)||m==="auto"||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a number or "auto".'),m}}function g(){if(l.Konva.isUnminified)return function(m,A){return s.Util._isString(m)||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a string.'),m}}function y(){if(l.Konva.isUnminified)return function(m,A){const N=s.Util._isString(m),U=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return N||U||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a string or a native gradient.'),m}}function v(){if(l.Konva.isUnminified)return function(m,A){return s.Util._isFunction(m)||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a function.'),m}}function E(){if(l.Konva.isUnminified)return function(m,A){const N=Int8Array?Object.getPrototypeOf(Int8Array):null;return N&&m instanceof N||(s.Util._isArray(m)?m.forEach(function(U){s.Util._isNumber(U)||s.Util.warn('"'+A+'" attribute has non numeric element '+U+". Make sure that all elements are numbers.")}):s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a array of numbers.')),m}}function _(){if(l.Konva.isUnminified)return function(m,A){return m===!0||m===!1||s.Util.warn(b(m)+' is a not valid value for "'+A+'" attribute. The value should be a boolean.'),m}}function f(m){if(l.Konva.isUnminified)return function(A,N){return A==null||s.Util.isObject(A)||s.Util.warn(b(A)+' is a not valid value for "'+N+'" attribute. The value should be an object with properties '+m),A}}return Ee}var fh;function xt(){return fh||(fh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Factory=void 0;const s=Kt(),b=Nt(),S="get",d="set";l.Factory={addGetterSetter(h,c,u,g,y){l.Factory.addGetter(h,c,u),l.Factory.addSetter(h,c,g,y),l.Factory.addOverloadedGetterSetter(h,c)},addGetter(h,c,u){const g=S+s.Util._capitalize(c);h.prototype[g]=h.prototype[g]||function(){const y=this.attrs[c];return y===void 0?u:y}},addSetter(h,c,u,g){const y=d+s.Util._capitalize(c);h.prototype[y]||l.Factory.overWriteSetter(h,c,u,g)},overWriteSetter(h,c,u,g){const y=d+s.Util._capitalize(c);h.prototype[y]=function(v){return u&&v!==void 0&&v!==null&&(v=u.call(this,v,c)),this._setAttr(c,v),g&&g.call(this),this}},addComponentsGetterSetter(h,c,u,g,y){const v=u.length,E=s.Util._capitalize,_=S+E(c),f=d+E(c);h.prototype[_]=function(){const A={};for(let N=0;N<v;N++){const U=u[N];A[U]=this.getAttr(c+E(U))}return A};const m=(0,b.getComponentValidator)(u);h.prototype[f]=function(A){const N=this.attrs[c];g&&(A=g.call(this,A,c)),m&&m.call(this,A,c);for(const U in A)A.hasOwnProperty(U)&&this._setAttr(c+E(U),A[U]);return A||u.forEach(U=>{this._setAttr(c+E(U),void 0)}),this._fireChangeEvent(c,N,A),y&&y.call(this),this},l.Factory.addOverloadedGetterSetter(h,c)},addOverloadedGetterSetter(h,c){const u=s.Util._capitalize(c),g=d+u,y=S+u;h.prototype[c]=function(){return arguments.length?(this[g](arguments[0]),this):this[y]()}},addDeprecatedGetterSetter(h,c,u,g){s.Util.error("Adding deprecated "+c);const y=S+s.Util._capitalize(c),v=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";h.prototype[y]=function(){s.Util.error(v);const E=this.attrs[c];return E===void 0?u:E},l.Factory.addSetter(h,c,g,function(){s.Util.error(v)}),l.Factory.addOverloadedGetterSetter(h,c)},backCompat(h,c){s.Util.each(c,function(u,g){const y=h.prototype[g],v=S+s.Util._capitalize(u),E=d+s.Util._capitalize(u);function _(){y.apply(this,arguments),s.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+g+'" instead.')}h.prototype[u]=_,h.prototype[v]=_,h.prototype[E]=_})},afterSetFilter(){this._filterUpToDate=!1}}}(Pr)),Pr}var gh;function Zt(){if(gh)return ui;gh=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Node=void 0;const l=$l(),s=ao(),b=xt(),S=At(),d=Kt(),h=Nt(),c="absoluteOpacity",u="allEventListeners",g="absoluteTransform",y="absoluteScale",v="canvas",E="Change",_="children",f="konva",m="listening",A="mouseenter",N="mouseleave",U="pointerenter",p="pointerleave",o="touchenter",C="touchleave",x="set",B="Shape",P=" ",R="stage",O="transform",G="Stage",V="visible",j=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(P);let K=1,Q=class kr{constructor(T){this._id=K++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(T),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(T){(T===O||T===g)&&this._cache.get(T)?this._cache.get(T).dirty=!0:T?this._cache.delete(T):this._cache.clear()}_getCache(T,M){let H=this._cache.get(T);return(H===void 0||(T===O||T===g)&&H.dirty===!0)&&(H=M.call(this),this._cache.set(T,H)),H}_calculate(T,M,H){if(!this._attachedDepsListeners.get(T)){const z=M.map(q=>q+"Change.konva").join(P);this.on(z,()=>{this._clearCache(T)}),this._attachedDepsListeners.set(T,!0)}return this._getCache(T,H)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(T){this._clearCache(T),T===g&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:T,filter:M,hit:H,buffer:z}=this._cache.get(v);d.Util.releaseCanvas(T,M,H,z),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(T){const M=T||{};let H={};(M.x===void 0||M.y===void 0||M.width===void 0||M.height===void 0)&&(H=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let z=Math.ceil(M.width||H.width),q=Math.ceil(M.height||H.height),$=M.pixelRatio,Y=M.x===void 0?Math.floor(H.x):M.x,tt=M.y===void 0?Math.floor(H.y):M.y,ot=M.offset||0,I=M.drawBorder||!1,L=M.hitCanvasPixelRatio||1;if(!z||!q){d.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const J=Math.abs(Math.round(H.x)-Y)>.5?1:0,rt=Math.abs(Math.round(H.y)-tt)>.5?1:0;z+=ot*2+J,q+=ot*2+rt,Y-=ot,tt-=ot;const ut=new l.SceneCanvas({pixelRatio:$,width:z,height:q}),dt=new l.SceneCanvas({pixelRatio:$,width:0,height:0,willReadFrequently:!0}),yt=new l.HitCanvas({pixelRatio:L,width:z,height:q}),_t=ut.getContext(),Gt=yt.getContext(),gt=new l.SceneCanvas({width:ut.width/ut.pixelRatio+Math.abs(Y),height:ut.height/ut.pixelRatio+Math.abs(tt),pixelRatio:ut.pixelRatio}),Vt=gt.getContext();return yt.isCache=!0,ut.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,M.imageSmoothingEnabled===!1&&(ut.getContext()._context.imageSmoothingEnabled=!1,dt.getContext()._context.imageSmoothingEnabled=!1),_t.save(),Gt.save(),Vt.save(),_t.translate(-Y,-tt),Gt.translate(-Y,-tt),Vt.translate(-Y,-tt),gt.x=Y,gt.y=tt,this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(y),this.drawScene(ut,this,gt),this.drawHit(yt,this),this._isUnderCache=!1,_t.restore(),Gt.restore(),I&&(_t.save(),_t.beginPath(),_t.rect(0,0,z,q),_t.closePath(),_t.setAttr("strokeStyle","red"),_t.setAttr("lineWidth",5),_t.stroke(),_t.restore()),this._cache.set(v,{scene:ut,filter:dt,hit:yt,buffer:gt,x:Y,y:tt}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(T){throw new Error('abstract "getClientRect" method call')}_transformedRect(T,M){const H=[{x:T.x,y:T.y},{x:T.x+T.width,y:T.y},{x:T.x+T.width,y:T.y+T.height},{x:T.x,y:T.y+T.height}];let z=1/0,q=1/0,$=-1/0,Y=-1/0;const tt=this.getAbsoluteTransform(M);return H.forEach(function(ot){const I=tt.point(ot);z===void 0&&(z=$=I.x,q=Y=I.y),z=Math.min(z,I.x),q=Math.min(q,I.y),$=Math.max($,I.x),Y=Math.max(Y,I.y)}),{x:z,y:q,width:$-z,height:Y-q}}_drawCachedSceneCanvas(T){T.save(),T._applyOpacity(this),T._applyGlobalCompositeOperation(this);const M=this._getCanvasCache();T.translate(M.x,M.y);const H=this._getCachedSceneCanvas(),z=H.pixelRatio;T.drawImage(H._canvas,0,0,H.width/z,H.height/z),T.restore()}_drawCachedHitCanvas(T){const M=this._getCanvasCache(),H=M.hit;T.save(),T.translate(M.x,M.y),T.drawImage(H._canvas,0,0,H.width/H.pixelRatio,H.height/H.pixelRatio),T.restore()}_getCachedSceneCanvas(){let T=this.filters(),M=this._getCanvasCache(),H=M.scene,z=M.filter,q=z.getContext(),$,Y,tt,ot;if(T){if(!this._filterUpToDate){const I=H.pixelRatio;z.setSize(H.width/H.pixelRatio,H.height/H.pixelRatio);try{for($=T.length,q.clear(),q.drawImage(H._canvas,0,0,H.getWidth()/I,H.getHeight()/I),Y=q.getImageData(0,0,z.getWidth(),z.getHeight()),tt=0;tt<$;tt++){if(ot=T[tt],typeof ot!="function"){d.Util.error("Filter should be type of function, but got "+typeof ot+" instead. Please check correct filters");continue}ot.call(this,Y),q.putImageData(Y,0,0)}}catch(L){d.Util.error("Unable to apply filter. "+L.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return z}return H}on(T,M){if(this._cache&&this._cache.delete(u),arguments.length===3)return this._delegate.apply(this,arguments);const H=T.split(P);for(let z=0;z<H.length;z++){const $=H[z].split("."),Y=$[0],tt=$[1]||"";this.eventListeners[Y]||(this.eventListeners[Y]=[]),this.eventListeners[Y].push({name:tt,handler:M})}return this}off(T,M){let H=(T||"").split(P),z=H.length,q,$,Y,tt,ot,I;if(this._cache&&this._cache.delete(u),!T)for($ in this.eventListeners)this._off($);for(q=0;q<z;q++)if(Y=H[q],tt=Y.split("."),ot=tt[0],I=tt[1],ot)this.eventListeners[ot]&&this._off(ot,I,M);else for($ in this.eventListeners)this._off($,I,M);return this}dispatchEvent(T){const M={target:this,type:T.type,evt:T};return this.fire(T.type,M),this}addEventListener(T,M){return this.on(T,function(H){M.call(this,H.evt)}),this}removeEventListener(T){return this.off(T),this}_delegate(T,M,H){const z=this;this.on(T,function(q){const $=q.target.findAncestors(M,!0,z);for(let Y=0;Y<$.length;Y++)q=d.Util.cloneObject(q),q.currentTarget=$[Y],H.call($[Y],q)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(V),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();const T=this.getParent();T&&T.children&&(T.children.splice(this.index,1),T._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(T){const M="get"+d.Util._capitalize(T);return d.Util._isFunction(this[M])?this[M]():this.attrs[T]}getAncestors(){let T=this.getParent(),M=[];for(;T;)M.push(T),T=T.getParent();return M}getAttrs(){return this.attrs||{}}setAttrs(T){return this._batchTransformChanges(()=>{let M,H;if(!T)return this;for(M in T)M!==_&&(H=x+d.Util._capitalize(M),d.Util._isFunction(this[H])?this[H](T[M]):this._setAttr(M,T[M]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(T){if(!this.listening())return!1;const H=this.getParent();return H&&H!==T&&this!==T?H._isListening(T):!0}isVisible(){return this._getCache(V,this._isVisible)}_isVisible(T){if(!this.visible())return!1;const H=this.getParent();return H&&H!==T&&this!==T?H._isVisible(T):!0}shouldDrawHit(T,M=!1){if(T)return this._isVisible(T)&&this._isListening(T);const H=this.getLayer();let z=!1;s.DD._dragElements.forEach($=>{$.dragStatus==="dragging"&&($.node.nodeType==="Stage"||$.node.getLayer()===H)&&(z=!0)});const q=!M&&!S.Konva.hitOnDragEnabled&&(z||S.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let T=this.getDepth(),M=this,H=0,z,q,$,Y;function tt(I){for(z=[],q=I.length,$=0;$<q;$++)Y=I[$],H++,Y.nodeType!==B&&(z=z.concat(Y.getChildren().slice())),Y._id===M._id&&($=q);z.length>0&&z[0].getDepth()<=T&&tt(z)}const ot=this.getStage();return M.nodeType!==G&&ot&&tt(ot.getChildren()),H}getDepth(){let T=0,M=this.parent;for(;M;)T++,M=M.parent;return T}_batchTransformChanges(T){this._batchingTransformChange=!0,T(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(O),this._clearSelfAndDescendantCache(g)),this._needClearTransformCache=!1}setPosition(T){return this._batchTransformChanges(()=>{this.x(T.x),this.y(T.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const T=this.getStage();if(!T)return null;const M=T.getPointerPosition();if(!M)return null;const H=this.getAbsoluteTransform().copy();return H.invert(),H.point(M)}getAbsolutePosition(T){let M=!1,H=this.parent;for(;H;){if(H.isCached()){M=!0;break}H=H.parent}M&&!T&&(T=!0);const z=this.getAbsoluteTransform(T).getMatrix(),q=new d.Transform,$=this.offset();return q.m=z.slice(),q.translate($.x,$.y),q.getTranslation()}setAbsolutePosition(T){const{x:M,y:H,...z}=this._clearTransform();this.attrs.x=M,this.attrs.y=H,this._clearCache(O);const q=this._getAbsoluteTransform().copy();return q.invert(),q.translate(T.x,T.y),T={x:this.attrs.x+q.getTranslation().x,y:this.attrs.y+q.getTranslation().y},this._setTransform(z),this.setPosition({x:T.x,y:T.y}),this._clearCache(O),this._clearSelfAndDescendantCache(g),this}_setTransform(T){let M;for(M in T)this.attrs[M]=T[M]}_clearTransform(){const T={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,T}move(T){let M=T.x,H=T.y,z=this.x(),q=this.y();return M!==void 0&&(z+=M),H!==void 0&&(q+=H),this.setPosition({x:z,y:q}),this}_eachAncestorReverse(T,M){let H=[],z=this.getParent(),q,$;if(!(M&&M._id===this._id)){for(H.unshift(this);z&&(!M||z._id!==M._id);)H.unshift(z),z=z.parent;for(q=H.length,$=0;$<q;$++)T(H[$])}}rotate(T){return this.rotation(this.rotation()+T),this}moveToTop(){if(!this.parent)return d.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const T=this.index,M=this.parent.getChildren().length;return T<M-1?(this.parent.children.splice(T,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return d.Util.warn("Node has no parent. moveUp function is ignored."),!1;const T=this.index,M=this.parent.getChildren().length;return T<M-1?(this.parent.children.splice(T,1),this.parent.children.splice(T+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return d.Util.warn("Node has no parent. moveDown function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.splice(T-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return d.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(T){if(!this.parent)return d.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(T<0||T>=this.parent.children.length)&&d.Util.warn("Unexpected value "+T+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const M=this.index;return this.parent.children.splice(M,1),this.parent.children.splice(T,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let T=this.opacity();const M=this.getParent();return M&&!M._isUnderCache&&(T*=M.getAbsoluteOpacity()),T}moveTo(T){return this.getParent()!==T&&(this._remove(),T.add(this)),this}toObject(){let T=this.getAttrs(),M,H,z,q,$;const Y={attrs:{},className:this.getClassName()};for(M in T)H=T[M],$=d.Util.isObject(H)&&!d.Util._isPlainObject(H)&&!d.Util._isArray(H),!$&&(z=typeof this[M]=="function"&&this[M],delete T[M],q=z?z.call(this):null,T[M]=H,q!==H&&(Y.attrs[M]=H));return d.Util._prepareToStringify(Y)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(T,M,H){const z=[];M&&this._isMatch(T)&&z.push(this);let q=this.parent;for(;q;){if(q===H)return z;q._isMatch(T)&&z.push(q),q=q.parent}return z}isAncestorOf(T){return!1}findAncestor(T,M,H){return this.findAncestors(T,M,H)[0]}_isMatch(T){if(!T)return!1;if(typeof T=="function")return T(this);let M=T.replace(/ /g,"").split(","),H=M.length,z,q;for(z=0;z<H;z++)if(q=M[z],d.Util.isValidSelector(q)||(d.Util.warn('Selector "'+q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),d.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),d.Util.warn("Konva is awesome, right?")),q.charAt(0)==="#"){if(this.id()===q.slice(1))return!0}else if(q.charAt(0)==="."){if(this.hasName(q.slice(1)))return!0}else if(this.className===q||this.nodeType===q)return!0;return!1}getLayer(){const T=this.getParent();return T?T.getLayer():null}getStage(){return this._getCache(R,this._getStage)}_getStage(){const T=this.getParent();return T?T.getStage():null}fire(T,M={},H){return M.target=M.target||this,H?this._fireAndBubble(T,M):this._fire(T,M),this}getAbsoluteTransform(T){return T?this._getAbsoluteTransform(T):this._getCache(g,this._getAbsoluteTransform)}_getAbsoluteTransform(T){let M;if(T)return M=new d.Transform,this._eachAncestorReverse(function(H){const z=H.transformsEnabled();z==="all"?M.multiply(H.getTransform()):z==="position"&&M.translate(H.x()-H.offsetX(),H.y()-H.offsetY())},T),M;{M=this._cache.get(g)||new d.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(M):M.reset();const H=this.transformsEnabled();if(H==="all")M.multiply(this.getTransform());else if(H==="position"){const z=this.attrs.x||0,q=this.attrs.y||0,$=this.attrs.offsetX||0,Y=this.attrs.offsetY||0;M.translate(z-$,q-Y)}return M.dirty=!1,M}}getAbsoluteScale(T){let M=this;for(;M;)M._isUnderCache&&(T=M),M=M.getParent();const z=this.getAbsoluteTransform(T).decompose();return{x:z.scaleX,y:z.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(O,this._getTransform)}_getTransform(){var T,M;const H=this._cache.get(O)||new d.Transform;H.reset();const z=this.x(),q=this.y(),$=S.Konva.getAngle(this.rotation()),Y=(T=this.attrs.scaleX)!==null&&T!==void 0?T:1,tt=(M=this.attrs.scaleY)!==null&&M!==void 0?M:1,ot=this.attrs.skewX||0,I=this.attrs.skewY||0,L=this.attrs.offsetX||0,J=this.attrs.offsetY||0;return(z!==0||q!==0)&&H.translate(z,q),$!==0&&H.rotate($),(ot!==0||I!==0)&&H.skew(ot,I),(Y!==1||tt!==1)&&H.scale(Y,tt),(L!==0||J!==0)&&H.translate(-1*L,-1*J),H.dirty=!1,H}clone(T){let M=d.Util.cloneObject(this.attrs),H,z,q,$,Y;for(H in T)M[H]=T[H];const tt=new this.constructor(M);for(H in this.eventListeners)for(z=this.eventListeners[H],q=z.length,$=0;$<q;$++)Y=z[$],Y.name.indexOf(f)<0&&(tt.eventListeners[H]||(tt.eventListeners[H]=[]),tt.eventListeners[H].push(Y));return tt}_toKonvaCanvas(T){T=T||{};const M=this.getClientRect(),H=this.getStage(),z=T.x!==void 0?T.x:Math.floor(M.x),q=T.y!==void 0?T.y:Math.floor(M.y),$=T.pixelRatio||1,Y=new l.SceneCanvas({width:T.width||Math.ceil(M.width)||(H?H.width():0),height:T.height||Math.ceil(M.height)||(H?H.height():0),pixelRatio:$}),tt=Y.getContext(),ot=new l.SceneCanvas({width:Y.width/Y.pixelRatio+Math.abs(z),height:Y.height/Y.pixelRatio+Math.abs(q),pixelRatio:Y.pixelRatio});return T.imageSmoothingEnabled===!1&&(tt._context.imageSmoothingEnabled=!1),tt.save(),(z||q)&&tt.translate(-1*z,-1*q),this.drawScene(Y,void 0,ot),tt.restore(),Y}toCanvas(T){return this._toKonvaCanvas(T)._canvas}toDataURL(T){T=T||{};const M=T.mimeType||null,H=T.quality||null,z=this._toKonvaCanvas(T).toDataURL(M,H);return T.callback&&T.callback(z),z}toImage(T){return new Promise((M,H)=>{try{const z=T?.callback;z&&delete T.callback,d.Util._urlToImage(this.toDataURL(T),function(q){M(q),z?.(q)})}catch(z){H(z)}})}toBlob(T){return new Promise((M,H)=>{try{const z=T?.callback;z&&delete T.callback,this.toCanvas(T).toBlob(q=>{M(q),z?.(q)},T?.mimeType,T?.quality)}catch(z){H(z)}})}setSize(T){return this.width(T.width),this.height(T.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():S.Konva.dragDistance}_off(T,M,H){let z=this.eventListeners[T],q,$,Y;for(q=0;q<z.length;q++)if($=z[q].name,Y=z[q].handler,($!=="konva"||M==="konva")&&(!M||$===M)&&(!H||H===Y)){if(z.splice(q,1),z.length===0){delete this.eventListeners[T];break}q--}}_fireChangeEvent(T,M,H){this._fire(T+E,{oldVal:M,newVal:H})}addName(T){if(!this.hasName(T)){const M=this.name(),H=M?M+" "+T:T;this.name(H)}return this}hasName(T){if(!T)return!1;const M=this.name();return M?(M||"").split(/\s/g).indexOf(T)!==-1:!1}removeName(T){const M=(this.name()||"").split(/\s/g),H=M.indexOf(T);return H!==-1&&(M.splice(H,1),this.name(M.join(" "))),this}setAttr(T,M){const H=this[x+d.Util._capitalize(T)];return d.Util._isFunction(H)?H.call(this,M):this._setAttr(T,M),this}_requestDraw(){if(S.Konva.autoDrawEnabled){const T=this.getLayer()||this.getStage();T?.batchDraw()}}_setAttr(T,M){const H=this.attrs[T];H===M&&!d.Util.isObject(M)||(M==null?delete this.attrs[T]:this.attrs[T]=M,this._shouldFireChangeEvents&&this._fireChangeEvent(T,H,M),this._requestDraw())}_setComponentAttr(T,M,H){let z;H!==void 0&&(z=this.attrs[T],z||(this.attrs[T]=this.getAttr(T)),this.attrs[T][M]=H,this._fireChangeEvent(T,z,H))}_fireAndBubble(T,M,H){M&&this.nodeType===B&&(M.target=this);const z=[A,N,U,p,o,C];if(!(z.indexOf(T)!==-1&&(H&&(this===H||this.isAncestorOf&&this.isAncestorOf(H))||this.nodeType==="Stage"&&!H))){this._fire(T,M);const $=z.indexOf(T)!==-1&&H&&H.isAncestorOf&&H.isAncestorOf(this)&&!H.isAncestorOf(this.parent);(M&&!M.cancelBubble||!M)&&this.parent&&this.parent.isListening()&&!$&&(H&&H.parent?this._fireAndBubble.call(this.parent,T,M,H):this._fireAndBubble.call(this.parent,T,M))}}_getProtoListeners(T){var M,H,z;const q=(M=this._cache.get(u))!==null&&M!==void 0?M:{};let $=q?.[T];if($===void 0){$=[];let Y=Object.getPrototypeOf(this);for(;Y;){const tt=(z=(H=Y.eventListeners)===null||H===void 0?void 0:H[T])!==null&&z!==void 0?z:[];$.push(...tt),Y=Object.getPrototypeOf(Y)}q[T]=$,this._cache.set(u,q)}return $}_fire(T,M){M=M||{},M.currentTarget=this,M.type=T;const H=this._getProtoListeners(T);if(H)for(let q=0;q<H.length;q++)H[q].handler.call(this,M);const z=this.eventListeners[T];if(z)for(let q=0;q<z.length;q++)z[q].handler.call(this,M)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(T){const M=T?T.pointerId:void 0,H=this.getStage(),z=this.getAbsolutePosition();if(!H)return;const q=H._getPointerById(M)||H._changedPointerPositions[0]||z;s.DD._dragElements.set(this._id,{node:this,startPointerPos:q,offset:{x:q.x-z.x,y:q.y-z.y},dragStatus:"ready",pointerId:M})}startDrag(T,M=!0){s.DD._dragElements.has(this._id)||this._createDragElement(T);const H=s.DD._dragElements.get(this._id);H.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:T&&T.evt},M)}_setDragPosition(T,M){const H=this.getStage()._getPointerById(M.pointerId);if(!H)return;let z={x:H.x-M.offset.x,y:H.y-M.offset.y};const q=this.dragBoundFunc();if(q!==void 0){const $=q.call(this,z,T);$?z=$:d.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==z.x||this._lastPos.y!==z.y)&&(this.setAbsolutePosition(z),this._requestDraw()),this._lastPos=z}stopDrag(T){const M=s.DD._dragElements.get(this._id);M&&(M.dragStatus="stopped"),s.DD._endDragBefore(T),s.DD._endDragAfter(T)}setDraggable(T){this._setAttr("draggable",T),this._dragChange()}isDragging(){const T=s.DD._dragElements.get(this._id);return T?T.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(T){if(!(!(T.evt.button!==void 0)||S.Konva.dragButtons.indexOf(T.evt.button)>=0)||this.isDragging())return;let z=!1;s.DD._dragElements.forEach(q=>{this.isAncestorOf(q.node)&&(z=!0)}),z||this._createDragElement(T)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const M=s.DD._dragElements.get(this._id),H=M&&M.dragStatus==="dragging",z=M&&M.dragStatus==="ready";H?this.stopDrag():z&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(T={x:0,y:0}){const M=this.getStage();if(!M)return!1;const H={x:-T.x,y:-T.y,width:M.width()+2*T.x,height:M.height()+2*T.y};return d.Util.haveIntersection(H,this.getClientRect())}static create(T,M){return d.Util._isString(T)&&(T=JSON.parse(T)),this._createNode(T,M)}static _createNode(T,M){let H=kr.prototype.getClassName.call(T),z=T.children,q,$,Y;M&&(T.attrs.container=M),S.Konva[H]||(d.Util.warn('Can not find a node with class name "'+H+'". Fallback to "Shape".'),H="Shape");const tt=S.Konva[H];if(q=new tt(T.attrs),z)for($=z.length,Y=0;Y<$;Y++)q.add(kr._createNode(z[Y]));return q}};ui.Node=Q,Q.prototype.nodeType="Node",Q.prototype._attrsAffectingSize=[],Q.prototype.eventListeners={},Q.prototype.on.call(Q.prototype,j,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(O),this._clearSelfAndDescendantCache(g)}),Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(V)}),Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const F=b.Factory.addGetterSetter;return F(Q,"zIndex"),F(Q,"absolutePosition"),F(Q,"position"),F(Q,"x",0,(0,h.getNumberValidator)()),F(Q,"y",0,(0,h.getNumberValidator)()),F(Q,"globalCompositeOperation","source-over",(0,h.getStringValidator)()),F(Q,"opacity",1,(0,h.getNumberValidator)()),F(Q,"name","",(0,h.getStringValidator)()),F(Q,"id","",(0,h.getStringValidator)()),F(Q,"rotation",0,(0,h.getNumberValidator)()),b.Factory.addComponentsGetterSetter(Q,"scale",["x","y"]),F(Q,"scaleX",1,(0,h.getNumberValidator)()),F(Q,"scaleY",1,(0,h.getNumberValidator)()),b.Factory.addComponentsGetterSetter(Q,"skew",["x","y"]),F(Q,"skewX",0,(0,h.getNumberValidator)()),F(Q,"skewY",0,(0,h.getNumberValidator)()),b.Factory.addComponentsGetterSetter(Q,"offset",["x","y"]),F(Q,"offsetX",0,(0,h.getNumberValidator)()),F(Q,"offsetY",0,(0,h.getNumberValidator)()),F(Q,"dragDistance",void 0,(0,h.getNumberValidator)()),F(Q,"width",0,(0,h.getNumberValidator)()),F(Q,"height",0,(0,h.getNumberValidator)()),F(Q,"listening",!0,(0,h.getBooleanValidator)()),F(Q,"preventDefault",!0,(0,h.getBooleanValidator)()),F(Q,"filters",void 0,function(it){return this._filterUpToDate=!1,it}),F(Q,"visible",!0,(0,h.getBooleanValidator)()),F(Q,"transformsEnabled","all",(0,h.getStringValidator)()),F(Q,"size"),F(Q,"dragBoundFunc"),F(Q,"draggable",!1,(0,h.getBooleanValidator)()),b.Factory.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),ui}var ci={},mh;function ts(){if(mh)return ci;mh=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Container=void 0;const l=xt(),s=Zt(),b=Nt();let S=class extends s.Node{constructor(){super(...arguments),this.children=[]}getChildren(h){const c=this.children||[];return h?c.filter(h):c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(h=>{h.parent=null,h.index=0,h.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(h=>{h.parent=null,h.index=0,h.destroy()}),this.children=[],this._requestDraw(),this}add(...h){if(h.length===0)return this;if(h.length>1){for(let u=0;u<h.length;u++)this.add(h[u]);return this}const c=h[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(h){return this._generalFind(h,!1)}findOne(h){const c=this._generalFind(h,!0);return c.length>0?c[0]:void 0}_generalFind(h,c){const u=[];return this._descendants(g=>{const y=g._isMatch(h);return y&&u.push(g),!!(y&&c)}),u}_descendants(h){let c=!1;const u=this.getChildren();for(const g of u){if(c=h(g),c)return!0;if(g.hasChildren()&&(c=g._descendants(h),c))return!0}return!1}toObject(){const h=s.Node.prototype.toObject.call(this);return h.children=[],this.getChildren().forEach(c=>{h.children.push(c.toObject())}),h}isAncestorOf(h){let c=h.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(h){const c=s.Node.prototype.clone.call(this,h);return this.getChildren().forEach(function(u){c.add(u.clone())}),c}getAllIntersections(h){const c=[];return this.find("Shape").forEach(u=>{u.isVisible()&&u.intersects(h)&&c.push(u)}),c}_clearSelfAndDescendantCache(h){var c;super._clearSelfAndDescendantCache(h),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(u){u._clearSelfAndDescendantCache(h)}))}_setChildrenIndices(){var h;(h=this.children)===null||h===void 0||h.forEach(function(c,u){c.index=u}),this._requestDraw()}drawScene(h,c,u){const g=this.getLayer(),y=h||g&&g.getCanvas(),v=y&&y.getContext(),E=this._getCanvasCache(),_=E&&E.scene,f=y&&y.isCache;if(!this.isVisible()&&!f)return this;if(_){v.save();const m=this.getAbsoluteTransform(c).getMatrix();v.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(v),v.restore()}else this._drawChildren("drawScene",y,c,u);return this}drawHit(h,c){if(!this.shouldDrawHit(c))return this;const u=this.getLayer(),g=h||u&&u.hitCanvas,y=g&&g.getContext(),v=this._getCanvasCache();if(v&&v.hit){y.save();const _=this.getAbsoluteTransform(c).getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(y),y.restore()}else this._drawChildren("drawHit",g,c);return this}_drawChildren(h,c,u,g){var y;const v=c&&c.getContext(),E=this.clipWidth(),_=this.clipHeight(),f=this.clipFunc(),m=typeof E=="number"&&typeof _=="number"||f,A=u===this;if(m){v.save();const U=this.getAbsoluteTransform(u);let p=U.getMatrix();v.transform(p[0],p[1],p[2],p[3],p[4],p[5]),v.beginPath();let o;if(f)o=f.call(this,v,this);else{const C=this.clipX(),x=this.clipY();v.rect(C||0,x||0,E,_)}v.clip.apply(v,o),p=U.copy().invert().getMatrix(),v.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const N=!A&&this.globalCompositeOperation()!=="source-over"&&h==="drawScene";N&&(v.save(),v._applyGlobalCompositeOperation(this)),(y=this.children)===null||y===void 0||y.forEach(function(U){U[h](c,u,g)}),N&&v.restore(),m&&v.restore()}getClientRect(h={}){var c;const u=h.skipTransform,g=h.relativeTo;let y,v,E,_,f={x:1/0,y:1/0,width:0,height:0};const m=this;(c=this.children)===null||c===void 0||c.forEach(function(U){if(!U.visible())return;const p=U.getClientRect({relativeTo:m,skipShadow:h.skipShadow,skipStroke:h.skipStroke});p.width===0&&p.height===0||(y===void 0?(y=p.x,v=p.y,E=p.x+p.width,_=p.y+p.height):(y=Math.min(y,p.x),v=Math.min(v,p.y),E=Math.max(E,p.x+p.width),_=Math.max(_,p.y+p.height)))});const A=this.find("Shape");let N=!1;for(let U=0;U<A.length;U++)if(A[U]._isVisible(this)){N=!0;break}return N&&y!==void 0?f={x:y,y:v,width:E-y,height:_-v}:f={x:0,y:0,width:0,height:0},u?f:this._transformedRect(f,g)}};return ci.Container=S,l.Factory.addComponentsGetterSetter(S,"clip",["x","y","width","height"]),l.Factory.addGetterSetter(S,"clipX",void 0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(S,"clipY",void 0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(S,"clipWidth",void 0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(S,"clipHeight",void 0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(S,"clipFunc"),ci}var jr={},Ba={},ph;function G0(){if(ph)return Ba;ph=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.getCapturedShape=S,Ba.createEvent=d,Ba.hasPointerCapture=h,Ba.setPointerCapture=c,Ba.releaseCapture=u;const l=At(),s=new Map,b=l.Konva._global.PointerEvent!==void 0;function S(g){return s.get(g)}function d(g){return{evt:g,pointerId:g.pointerId}}function h(g,y){return s.get(g)===y}function c(g,y){u(g),y.getStage()&&(s.set(g,y),b&&y._fire("gotpointercapture",d(new PointerEvent("gotpointercapture"))))}function u(g,y){const v=s.get(g);if(!v)return;const E=v.getStage();E&&E.content,s.delete(g),b&&v._fire("lostpointercapture",d(new PointerEvent("lostpointercapture")))}return Ba}var vh;function S2(){return vh||(vh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Stage=l.stages=void 0;const s=Kt(),b=xt(),S=ts(),d=At(),h=$l(),c=ao(),u=At(),g=G0(),y="Stage",v="string",E="px",_="mouseout",f="mouseleave",m="mouseover",A="mouseenter",N="mousemove",U="mousedown",p="mouseup",o="pointermove",C="pointerdown",x="pointerup",B="pointercancel",P="lostpointercapture",R="pointerout",O="pointerleave",G="pointerover",V="pointerenter",j="contextmenu",K="touchstart",Q="touchend",F="touchmove",it="touchcancel",T="wheel",M=5,H=[[A,"_pointerenter"],[U,"_pointerdown"],[N,"_pointermove"],[p,"_pointerup"],[f,"_pointerleave"],[K,"_pointerdown"],[F,"_pointermove"],[Q,"_pointerup"],[it,"_pointercancel"],[m,"_pointerover"],[T,"_wheel"],[j,"_contextmenu"],[C,"_pointerdown"],[o,"_pointermove"],[x,"_pointerup"],[B,"_pointercancel"],[O,"_pointerleave"],[P,"_lostpointercapture"]],z={mouse:{[R]:_,[O]:f,[G]:m,[V]:A,[o]:N,[C]:U,[x]:p,[B]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[O]:"touchleave",[G]:"touchover",[V]:"touchenter",[o]:F,[C]:K,[x]:Q,[B]:it,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[O]:O,[G]:G,[V]:V,[o]:o,[C]:C,[x]:x,[B]:B,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},q=I=>I.indexOf("pointer")>=0?"pointer":I.indexOf("touch")>=0?"touch":"mouse",$=I=>{const L=q(I);if(L==="pointer")return d.Konva.pointerEventsEnabled&&z.pointer;if(L==="touch")return z.touch;if(L==="mouse")return z.mouse};function Y(I={}){return(I.clipFunc||I.clipWidth||I.clipHeight)&&s.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),I}const tt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";l.stages=[];class ot extends S.Container{constructor(L){super(Y(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),l.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Y(this.attrs)}),this._checkVisibility()}_validateAdd(L){const J=L.getType()==="Layer",rt=L.getType()==="FastLayer";J||rt||s.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===v){let J;if(L.charAt(0)==="."){const rt=L.slice(1);L=document.getElementsByClassName(rt)[0]}else L.charAt(0)!=="#"?J=L:J=L.slice(1),L=document.getElementById(J);if(!L)throw"Can not find container in document with id "+J}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const L=this.children,J=L.length;for(let rt=0;rt<J;rt++)L[rt].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),S.Container.prototype.clone.call(this,L)}destroy(){super.destroy();const L=this.content;L&&s.Util._isInDocument(L)&&this.container().removeChild(L);const J=l.stages.indexOf(this);return J>-1&&l.stages.splice(J,1),s.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(s.Util.warn(tt),null)}_getPointerById(L){return this._pointerPositions.find(J=>J.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();const J=new h.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),rt=J.getContext()._context,ut=this.children;return(L.x||L.y)&&rt.translate(-1*L.x,-1*L.y),ut.forEach(function(dt){if(!dt.isVisible())return;const yt=dt._toKonvaCanvas(L);rt.drawImage(yt._canvas,L.x,L.y,yt.getWidth()/yt.getPixelRatio(),yt.getHeight()/yt.getPixelRatio())}),J}getIntersection(L){if(!L)return null;const J=this.children,rt=J.length,ut=rt-1;for(let dt=ut;dt>=0;dt--){const yt=J[dt].getIntersection(L);if(yt)return yt}return null}_resizeDOM(){const L=this.width(),J=this.height();this.content&&(this.content.style.width=L+E,this.content.style.height=J+E),this.bufferCanvas.setSize(L,J),this.bufferHitCanvas.setSize(L,J),this.children.forEach(rt=>{rt.setSize({width:L,height:J}),rt.draw()})}add(L,...J){if(arguments.length>1){for(let ut=0;ut<arguments.length;ut++)this.add(arguments[ut]);return this}super.add(L);const rt=this.children.length;return rt>M&&s.Util.warn("The stage has "+rt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),d.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return g.hasPointerCapture(L,this)}setPointerCapture(L){g.setPointerCapture(L,this)}releaseCapture(L){g.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){d.Konva.isBrowser&&H.forEach(([L,J])=>{this.content.addEventListener(L,rt=>{this[J](rt)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const J=$(L.type);J&&this._fire(J.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const J=$(L.type);J&&this._fire(J.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let J=this[L+"targetShape"];return J&&!J.getStage()&&(J=null),J}_pointerleave(L){const J=$(L.type),rt=q(L.type);if(!J)return;this.setPointersPositions(L);const ut=this._getTargetShape(rt),dt=!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled;ut&&dt?(ut._fireAndBubble(J.pointerout,{evt:L}),ut._fireAndBubble(J.pointerleave,{evt:L}),this._fire(J.pointerleave,{evt:L,target:this,currentTarget:this}),this[rt+"targetShape"]=null):dt&&(this._fire(J.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(J.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(L){const J=$(L.type),rt=q(L.type);if(!J)return;this.setPointersPositions(L);let ut=!1;this._changedPointerPositions.forEach(dt=>{const yt=this.getIntersection(dt);if(c.DD.justDragged=!1,d.Konva["_"+rt+"ListenClick"]=!0,!yt||!yt.isListening()){this[rt+"ClickStartShape"]=void 0;return}d.Konva.capturePointerEventsEnabled&&yt.setPointerCapture(dt.id),this[rt+"ClickStartShape"]=yt,yt._fireAndBubble(J.pointerdown,{evt:L,pointerId:dt.id}),ut=!0;const _t=L.type.indexOf("touch")>=0;yt.preventDefault()&&L.cancelable&&_t&&L.preventDefault()}),ut||this._fire(J.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(L){const J=$(L.type),rt=q(L.type);if(!J||(d.Konva.isDragging()&&c.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L),!(!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled)))return;const dt={};let yt=!1;const _t=this._getTargetShape(rt);this._changedPointerPositions.forEach(Gt=>{const gt=g.getCapturedShape(Gt.id)||this.getIntersection(Gt),Vt=Gt.id,Ut={evt:L,pointerId:Vt},wt=_t!==gt;if(wt&&_t&&(_t._fireAndBubble(J.pointerout,{...Ut},gt),_t._fireAndBubble(J.pointerleave,{...Ut},gt)),gt){if(dt[gt._id])return;dt[gt._id]=!0}gt&&gt.isListening()?(yt=!0,wt&&(gt._fireAndBubble(J.pointerover,{...Ut},_t),gt._fireAndBubble(J.pointerenter,{...Ut},_t),this[rt+"targetShape"]=gt),gt._fireAndBubble(J.pointermove,{...Ut})):_t&&(this._fire(J.pointerover,{evt:L,target:this,currentTarget:this,pointerId:Vt}),this[rt+"targetShape"]=null)}),yt||this._fire(J.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const J=$(L.type),rt=q(L.type);if(!J)return;this.setPointersPositions(L);const ut=this[rt+"ClickStartShape"],dt=this[rt+"ClickEndShape"],yt={};let _t=!1;this._changedPointerPositions.forEach(Gt=>{const gt=g.getCapturedShape(Gt.id)||this.getIntersection(Gt);if(gt){if(gt.releaseCapture(Gt.id),yt[gt._id])return;yt[gt._id]=!0}const Vt=Gt.id,Ut={evt:L,pointerId:Vt};let wt=!1;d.Konva["_"+rt+"InDblClickWindow"]?(wt=!0,clearTimeout(this[rt+"DblTimeout"])):c.DD.justDragged||(d.Konva["_"+rt+"InDblClickWindow"]=!0,clearTimeout(this[rt+"DblTimeout"])),this[rt+"DblTimeout"]=setTimeout(function(){d.Konva["_"+rt+"InDblClickWindow"]=!1},d.Konva.dblClickWindow),gt&&gt.isListening()?(_t=!0,this[rt+"ClickEndShape"]=gt,gt._fireAndBubble(J.pointerup,{...Ut}),d.Konva["_"+rt+"ListenClick"]&&ut&&ut===gt&&(gt._fireAndBubble(J.pointerclick,{...Ut}),wt&&dt&&dt===gt&&gt._fireAndBubble(J.pointerdblclick,{...Ut}))):(this[rt+"ClickEndShape"]=null,d.Konva["_"+rt+"ListenClick"]&&this._fire(J.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:Vt}),wt&&this._fire(J.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:Vt}))}),_t||this._fire(J.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d.Konva["_"+rt+"ListenClick"]=!1,L.cancelable&&rt!=="touch"&&rt!=="pointer"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble(j,{evt:L}):this._fire(j,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble(T,{evt:L}):this._fire(T,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const J=g.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());J&&J._fireAndBubble(x,g.createEvent(L)),g.releaseCapture(L.pointerId)}_lostpointercapture(L){g.releaseCapture(L.pointerId)}setPointersPositions(L){const J=this._getContentPosition();let rt=null,ut=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,dt=>{this._pointerPositions.push({id:dt.identifier,x:(dt.clientX-J.left)/J.scaleX,y:(dt.clientY-J.top)/J.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,dt=>{this._changedPointerPositions.push({id:dt.identifier,x:(dt.clientX-J.left)/J.scaleX,y:(dt.clientY-J.top)/J.scaleY})})):(rt=(L.clientX-J.left)/J.scaleX,ut=(L.clientY-J.top)/J.scaleY,this.pointerPos={x:rt,y:ut},this._pointerPositions=[{x:rt,y:ut,id:s.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:rt,y:ut,id:s.Util._getFirstPointerId(L)}])}_setPointerPosition(L){s.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new h.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new h.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!d.Konva.isBrowser)return;const L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}cache(){return s.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}l.Stage=ot,ot.prototype.nodeType=y,(0,u._registerNode)(ot),b.Factory.addGetterSetter(ot,"container"),d.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{l.stages.forEach(I=>{I.batchDraw()})})}(jr)),jr}var hi={},Fr={},yh;function oe(){return yh||(yh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Shape=l.shapes=void 0;const s=At(),b=Kt(),S=xt(),d=Zt(),h=Nt(),c=At(),u=G0(),g="hasShadow",y="shadowRGBA",v="patternImage",E="linearGradient",_="radialGradient";let f;function m(){return f||(f=b.Util.createCanvasElement().getContext("2d"),f)}l.shapes={};function A(O){const G=this.attrs.fillRule;G?O.fill(G):O.fill()}function N(O){O.stroke()}function U(O){const G=this.attrs.fillRule;G?O.fill(G):O.fill()}function p(O){O.stroke()}function o(){this._clearCache(g)}function C(){this._clearCache(y)}function x(){this._clearCache(v)}function B(){this._clearCache(E)}function P(){this._clearCache(_)}class R extends d.Node{constructor(G){super(G);let V;for(;V=b.Util.getRandomColor(),!(V&&!(V in l.shapes)););this.colorKey=V,l.shapes[V]=this}getContext(){return b.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return b.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(g,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const V=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(V&&V.setTransform){const j=new b.Transform;j.translate(this.fillPatternX(),this.fillPatternY()),j.rotate(s.Konva.getAngle(this.fillPatternRotation())),j.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),j.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=j.getMatrix(),Q=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);V.setTransform(Q)}return V}}_getLinearGradient(){return this._getCache(E,this.__getLinearGradient)}__getLinearGradient(){const G=this.fillLinearGradientColorStops();if(G){const V=m(),j=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),Q=V.createLinearGradient(j.x,j.y,K.x,K.y);for(let F=0;F<G.length;F+=2)Q.addColorStop(G[F],G[F+1]);return Q}}_getRadialGradient(){return this._getCache(_,this.__getRadialGradient)}__getRadialGradient(){const G=this.fillRadialGradientColorStops();if(G){const V=m(),j=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),Q=V.createRadialGradient(j.x,j.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let F=0;F<G.length;F+=2)Q.addColorStop(G[F],G[F+1]);return Q}}getShadowRGBA(){return this._getCache(y,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const G=b.Util.colorToRGBA(this.shadowColor());if(G)return"rgba("+G.r+","+G.g+","+G.b+","+G.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const G=this.hitStrokeWidth();return G==="auto"?this.hasStroke():this.strokeEnabled()&&!!G}intersects(G){const V=this.getStage();if(!V)return!1;const j=V.bufferHitCanvas;return j.getContext().clear(),this.drawHit(j,void 0,!0),j.context.getImageData(Math.round(G.x),Math.round(G.y),1,1).data[3]>0}destroy(){return d.Node.prototype.destroy.call(this),delete l.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(G){var V;if(!((V=this.attrs.perfectDrawEnabled)!==null&&V!==void 0?V:!0))return!1;const K=G||this.hasFill(),Q=this.hasStroke(),F=this.getAbsoluteOpacity()!==1;if(K&&Q&&F)return!0;const it=this.hasShadow(),T=this.shadowForStrokeEnabled();return!!(K&&Q&&it&&T)}setStrokeHitEnabled(G){b.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),G?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const G=this.size();return{x:this._centroid?-G.width/2:0,y:this._centroid?-G.height/2:0,width:G.width,height:G.height}}getClientRect(G={}){let V=!1,j=this.getParent();for(;j;){if(j.isCached()){V=!0;break}j=j.getParent()}const K=G.skipTransform,Q=G.relativeTo||V&&this.getStage()||void 0,F=this.getSelfRect(),T=!G.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,M=F.width+T,H=F.height+T,z=!G.skipShadow&&this.hasShadow(),q=z?this.shadowOffsetX():0,$=z?this.shadowOffsetY():0,Y=M+Math.abs(q),tt=H+Math.abs($),ot=z&&this.shadowBlur()||0,I=Y+ot*2,L=tt+ot*2,J={width:I,height:L,x:-(T/2+ot)+Math.min(q,0)+F.x,y:-(T/2+ot)+Math.min($,0)+F.y};return K?J:this._transformedRect(J,Q)}drawScene(G,V,j){const K=this.getLayer(),Q=G||K.getCanvas(),F=Q.getContext(),it=this._getCanvasCache(),T=this.getSceneFunc(),M=this.hasShadow();let H;const z=V===this;if(!this.isVisible()&&!z)return this;if(it){F.save();const q=this.getAbsoluteTransform(V).getMatrix();return F.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedSceneCanvas(F),F.restore(),this}if(!T)return this;if(F.save(),this._useBufferCanvas()){H=this.getStage();const q=j||H.bufferCanvas,$=q.getContext();$.clear(),$.save(),$._applyLineJoin(this);const Y=this.getAbsoluteTransform(V).getMatrix();$.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),T.call(this,$,this),$.restore();const tt=q.pixelRatio;M&&F._applyShadow(this),F._applyOpacity(this),F._applyGlobalCompositeOperation(this),F.drawImage(q._canvas,q.x||0,q.y||0,q.width/tt,q.height/tt)}else{if(F._applyLineJoin(this),!z){const q=this.getAbsoluteTransform(V).getMatrix();F.transform(q[0],q[1],q[2],q[3],q[4],q[5]),F._applyOpacity(this),F._applyGlobalCompositeOperation(this)}M&&F._applyShadow(this),T.call(this,F,this)}return F.restore(),this}drawHit(G,V,j=!1){if(!this.shouldDrawHit(V,j))return this;const K=this.getLayer(),Q=G||K.hitCanvas,F=Q&&Q.getContext(),it=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),M=T&&T.hit;if(this.colorKey||b.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),M){F.save();const z=this.getAbsoluteTransform(V).getMatrix();return F.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedHitCanvas(F),F.restore(),this}if(!it)return this;if(F.save(),F._applyLineJoin(this),!(this===V)){const z=this.getAbsoluteTransform(V).getMatrix();F.transform(z[0],z[1],z[2],z[3],z[4],z[5])}return it.call(this,F,this),F.restore(),this}drawHitFromCache(G=0){const V=this._getCanvasCache(),j=this._getCachedSceneCanvas(),K=V.hit,Q=K.getContext(),F=K.getWidth(),it=K.getHeight();Q.clear(),Q.drawImage(j._canvas,0,0,F,it);try{const T=Q.getImageData(0,0,F,it),M=T.data,H=M.length,z=b.Util._hexToRgb(this.colorKey);for(let q=0;q<H;q+=4)M[q+3]>G?(M[q]=z.r,M[q+1]=z.g,M[q+2]=z.b,M[q+3]=255):M[q+3]=0;Q.putImageData(T,0,0)}catch(T){b.Util.error("Unable to draw hit graph from cached scene canvas. "+T.message)}return this}hasPointerCapture(G){return u.hasPointerCapture(G,this)}setPointerCapture(G){u.setPointerCapture(G,this)}releaseCapture(G){u.releaseCapture(G,this)}}l.Shape=R,R.prototype._fillFunc=A,R.prototype._strokeFunc=N,R.prototype._fillFuncHit=U,R.prototype._strokeFuncHit=p,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,c._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",x),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",B),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",P),S.Factory.addGetterSetter(R,"stroke",void 0,(0,h.getStringOrGradientValidator)()),S.Factory.addGetterSetter(R,"strokeWidth",2,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),S.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,h.getNumberOrAutoValidator)()),S.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,h.getBooleanValidator)()),S.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,h.getBooleanValidator)()),S.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,h.getBooleanValidator)()),S.Factory.addGetterSetter(R,"lineJoin"),S.Factory.addGetterSetter(R,"lineCap"),S.Factory.addGetterSetter(R,"sceneFunc"),S.Factory.addGetterSetter(R,"hitFunc"),S.Factory.addGetterSetter(R,"dash"),S.Factory.addGetterSetter(R,"dashOffset",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"shadowColor",void 0,(0,h.getStringValidator)()),S.Factory.addGetterSetter(R,"shadowBlur",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"shadowOpacity",1,(0,h.getNumberValidator)()),S.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),S.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillPatternImage"),S.Factory.addGetterSetter(R,"fill",void 0,(0,h.getStringOrGradientValidator)()),S.Factory.addGetterSetter(R,"fillPatternX",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillPatternY",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),S.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),S.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),S.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),S.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),S.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),S.Factory.addGetterSetter(R,"fillEnabled",!0),S.Factory.addGetterSetter(R,"strokeEnabled",!0),S.Factory.addGetterSetter(R,"shadowEnabled",!0),S.Factory.addGetterSetter(R,"dashEnabled",!0),S.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),S.Factory.addGetterSetter(R,"fillPriority","color"),S.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),S.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,h.getNumberValidator)()),S.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),S.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,h.getNumberValidator)()),S.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,h.getNumberValidator)()),S.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),S.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),S.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),S.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),S.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),S.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),S.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),S.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),S.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),S.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),S.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),S.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),S.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),S.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),S.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),S.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),S.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),S.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),S.Factory.addGetterSetter(R,"fillPatternRotation",0),S.Factory.addGetterSetter(R,"fillRule",void 0,(0,h.getStringValidator)()),S.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Fr)),Fr}var _h;function U0(){if(_h)return hi;_h=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Layer=void 0;const l=Kt(),s=ts(),b=Zt(),S=xt(),d=$l(),h=Nt(),c=oe(),u=At(),g="#",y="beforeDraw",v="draw",E=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],_=E.length;class f extends s.Container{constructor(A){super(A),this.canvas=new d.SceneCanvas,this.hitCanvas=new d.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(A){return this.getContext().clear(A),this.getHitCanvas().getContext().clear(A),this}setZIndex(A){super.setZIndex(A);const N=this.getStage();return N&&N.content&&(N.content.removeChild(this.getNativeCanvasElement()),A<N.children.length-1?N.content.insertBefore(this.getNativeCanvasElement(),N.children[A+1].getCanvas()._canvas):N.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){b.Node.prototype.moveToTop.call(this);const A=this.getStage();return A&&A.content&&(A.content.removeChild(this.getNativeCanvasElement()),A.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!b.Node.prototype.moveUp.call(this))return!1;const N=this.getStage();return!N||!N.content?!1:(N.content.removeChild(this.getNativeCanvasElement()),this.index<N.children.length-1?N.content.insertBefore(this.getNativeCanvasElement(),N.children[this.index+1].getCanvas()._canvas):N.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(b.Node.prototype.moveDown.call(this)){const A=this.getStage();if(A){const N=A.children;A.content&&(A.content.removeChild(this.getNativeCanvasElement()),A.content.insertBefore(this.getNativeCanvasElement(),N[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(b.Node.prototype.moveToBottom.call(this)){const A=this.getStage();if(A){const N=A.children;A.content&&(A.content.removeChild(this.getNativeCanvasElement()),A.content.insertBefore(this.getNativeCanvasElement(),N[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const A=this.getNativeCanvasElement();return b.Node.prototype.remove.call(this),A&&A.parentNode&&l.Util._isInDocument(A)&&A.parentNode.removeChild(A),this}getStage(){return this.parent}setSize({width:A,height:N}){return this.canvas.setSize(A,N),this.hitCanvas.setSize(A,N),this._setSmoothEnabled(),this}_validateAdd(A){const N=A.getType();N!=="Group"&&N!=="Shape"&&l.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(A){return A=A||{},A.width=A.width||this.getWidth(),A.height=A.height||this.getHeight(),A.x=A.x!==void 0?A.x:this.x(),A.y=A.y!==void 0?A.y:this.y(),b.Node.prototype._toKonvaCanvas.call(this,A)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){l.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){l.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,l.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(A){if(!this.isListening()||!this.isVisible())return null;let N=1,U=!1;for(;;){for(let p=0;p<_;p++){const o=E[p],C=this._getIntersection({x:A.x+o.x*N,y:A.y+o.y*N}),x=C.shape;if(x)return x;if(U=!!C.antialiased,!C.antialiased)break}if(U)N+=1;else return null}}_getIntersection(A){const N=this.hitCanvas.pixelRatio,U=this.hitCanvas.context.getImageData(Math.round(A.x*N),Math.round(A.y*N),1,1).data,p=U[3];if(p===255){const o=l.Util._rgbToHex(U[0],U[1],U[2]),C=c.shapes[g+o];return C?{shape:C}:{antialiased:!0}}else if(p>0)return{antialiased:!0};return{}}drawScene(A,N,U){const p=this.getLayer(),o=A||p&&p.getCanvas();return this._fire(y,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),s.Container.prototype.drawScene.call(this,o,N,U),this._fire(v,{node:this}),this}drawHit(A,N){const U=this.getLayer(),p=A||U&&U.hitCanvas;return U&&U.clearBeforeDraw()&&U.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,p,N),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(A){l.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(A)}getHitGraphEnabled(A){return l.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const A=this.parent;!!this.hitCanvas._canvas.parentNode?A.content.removeChild(this.hitCanvas._canvas):A.content.appendChild(this.hitCanvas._canvas)}destroy(){return l.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return hi.Layer=f,f.prototype.nodeType="Layer",(0,u._registerNode)(f),S.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),S.Factory.addGetterSetter(f,"clearBeforeDraw",!0),S.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,h.getBooleanValidator)()),hi}var di={},Sh;function b2(){if(Sh)return di;Sh=1,Object.defineProperty(di,"__esModule",{value:!0}),di.FastLayer=void 0;const l=Kt(),s=U0(),b=At();let S=class extends s.Layer{constructor(h){super(h),this.listening(!1),l.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return di.FastLayer=S,S.prototype.nodeType="FastLayer",(0,b._registerNode)(S),di}var fi={},bh;function no(){if(bh)return fi;bh=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Group=void 0;const l=Kt(),s=ts(),b=At();let S=class extends s.Container{_validateAdd(h){const c=h.getType();c!=="Group"&&c!=="Shape"&&l.Util.throw("You may only add groups and shapes to groups.")}};return fi.Group=S,S.prototype.nodeType="Group",(0,b._registerNode)(S),fi}var gi={},Ch;function io(){if(Ch)return gi;Ch=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Animation=void 0;const l=At(),s=Kt(),b=function(){return l.glob.performance&&l.glob.performance.now?function(){return l.glob.performance.now()}:function(){return new Date().getTime()}}();let S=class Dn{constructor(h,c){this.id=Dn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:b(),frameRate:0},this.func=h,this.setLayers(c)}setLayers(h){let c=[];return h&&(c=Array.isArray(h)?h:[h]),this.layers=c,this}getLayers(){return this.layers}addLayer(h){const c=this.layers,u=c.length;for(let g=0;g<u;g++)if(c[g]._id===h._id)return!1;return this.layers.push(h),!0}isRunning(){const c=Dn.animations,u=c.length;for(let g=0;g<u;g++)if(c[g].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=b(),Dn._addAnimation(this),this}stop(){return Dn._removeAnimation(this),this}_updateFrameObject(h){this.frame.timeDiff=h-this.frame.lastTime,this.frame.lastTime=h,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(h){this.animations.push(h),this._handleAnimation()}static _removeAnimation(h){const c=h.id,u=this.animations,g=u.length;for(let y=0;y<g;y++)if(u[y].id===c){this.animations.splice(y,1);break}}static _runFrames(){const h={},c=this.animations;for(let u=0;u<c.length;u++){const g=c[u],y=g.layers,v=g.func;g._updateFrameObject(b());const E=y.length;let _;if(v?_=v.call(g,g.frame)!==!1:_=!0,!!_)for(let f=0;f<E;f++){const m=y[f];m._id!==void 0&&(h[m._id]=m)}}for(const u in h)h.hasOwnProperty(u)&&h[u].batchDraw()}static _animationLoop(){const h=Dn;h.animations.length?(h._runFrames(),s.Util.requestAnimFrame(h._animationLoop)):h.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,s.Util.requestAnimFrame(this._animationLoop))}};return gi.Animation=S,S.animations=[],S.animIdCounter=0,S.animRunning=!1,gi}var Yr={},Ah;function C2(){return Ah||(Ah=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Easings=l.Tween=void 0;const s=Kt(),b=io(),S=Zt(),d=At(),h={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,u=2,g=3,y=["fill","stroke","shadowColor"];let v=0;class E{constructor(m,A,N,U,p,o,C){this.prop=m,this.propFunc=A,this.begin=U,this._pos=U,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=C,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=N,this._change=p-this.begin,this.pause()}fire(m){const A=this[m];A&&A()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=g,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const m=this.getTimer()-this._startTime;this.state===u?this.setTime(m):this.state===g&&this.setTime(this.duration-m)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class _{constructor(m){const A=this,N=m.node,U=N._id,p=m.easing||l.Easings.Linear,o=!!m.yoyo;let C,x;typeof m.duration>"u"?C=.3:m.duration===0?C=.001:C=m.duration,this.node=N,this._id=v++;const B=N.getLayer()||(N instanceof d.Konva.Stage?N.getLayers():null);B||s.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new b.Animation(function(){A.tween.onEnterFrame()},B),this.tween=new E(x,function(P){A._tweenFunc(P)},p,0,1,C*1e3,o),this._addListeners(),_.attrs[U]||(_.attrs[U]={}),_.attrs[U][this._id]||(_.attrs[U][this._id]={}),_.tweens[U]||(_.tweens[U]={});for(x in m)h[x]===void 0&&this._addAttr(x,m[x]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,A){const N=this.node,U=N._id;let p,o,C,x,B;const P=_.tweens[U][m];P&&delete _.attrs[U][P][m];let R=N.getAttr(m);if(s.Util._isArray(A))if(p=[],o=Math.max(A.length,R.length),m==="points"&&A.length!==R.length&&(A.length>R.length?(x=R,R=s.Util._prepareArrayForTween(R,A,N.closed())):(C=A,A=s.Util._prepareArrayForTween(A,R,N.closed()))),m.indexOf("fill")===0)for(let O=0;O<o;O++)if(O%2===0)p.push(A[O]-R[O]);else{const G=s.Util.colorToRGBA(R[O]);B=s.Util.colorToRGBA(A[O]),R[O]=G,p.push({r:B.r-G.r,g:B.g-G.g,b:B.b-G.b,a:B.a-G.a})}else for(let O=0;O<o;O++)p.push(A[O]-R[O]);else y.indexOf(m)!==-1?(R=s.Util.colorToRGBA(R),B=s.Util.colorToRGBA(A),p={r:B.r-R.r,g:B.g-R.g,b:B.b-R.b,a:B.a-R.a}):p=A-R;_.attrs[U][this._id][m]={start:R,diff:p,end:A,trueEnd:C,trueStart:x},_.tweens[U][m]=this._id}_tweenFunc(m){const A=this.node,N=_.attrs[A._id][this._id];let U,p,o,C,x,B,P,R;for(U in N){if(p=N[U],o=p.start,C=p.diff,R=p.end,s.Util._isArray(o))if(x=[],P=Math.max(o.length,R.length),U.indexOf("fill")===0)for(B=0;B<P;B++)B%2===0?x.push((o[B]||0)+C[B]*m):x.push("rgba("+Math.round(o[B].r+C[B].r*m)+","+Math.round(o[B].g+C[B].g*m)+","+Math.round(o[B].b+C[B].b*m)+","+(o[B].a+C[B].a*m)+")");else for(B=0;B<P;B++)x.push((o[B]||0)+C[B]*m);else y.indexOf(U)!==-1?x="rgba("+Math.round(o.r+C.r*m)+","+Math.round(o.g+C.g*m)+","+Math.round(o.b+C.b*m)+","+(o.a+C.a*m)+")":x=o+C*m;A.setAttr(U,x)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const m=this.node,A=_.attrs[m._id][this._id];A.points&&A.points.trueEnd&&m.setAttr("points",A.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const m=this.node,A=_.attrs[m._id][this._id];A.points&&A.points.trueStart&&m.points(A.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const m=this.node._id,A=this._id,N=_.tweens[m];this.pause(),this.anim&&this.anim.stop();for(const U in N)delete _.tweens[m][U];delete _.attrs[m][A],_.tweens[m]&&(Object.keys(_.tweens[m]).length===0&&delete _.tweens[m],Object.keys(_.attrs[m]).length===0&&delete _.attrs[m])}}l.Tween=_,_.attrs={},_.tweens={},S.Node.prototype.to=function(f){const m=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),m&&m()},new _(f).play()},l.Easings={BackEaseIn(f,m,A,N){return A*(f/=N)*f*((1.70158+1)*f-1.70158)+m},BackEaseOut(f,m,A,N){return A*((f=f/N-1)*f*((1.70158+1)*f+1.70158)+1)+m},BackEaseInOut(f,m,A,N){let U=1.70158;return(f/=N/2)<1?A/2*(f*f*(((U*=1.525)+1)*f-U))+m:A/2*((f-=2)*f*(((U*=1.525)+1)*f+U)+2)+m},ElasticEaseIn(f,m,A,N,U,p){let o=0;return f===0?m:(f/=N)===1?m+A:(p||(p=N*.3),!U||U<Math.abs(A)?(U=A,o=p/4):o=p/(2*Math.PI)*Math.asin(A/U),-(U*Math.pow(2,10*(f-=1))*Math.sin((f*N-o)*(2*Math.PI)/p))+m)},ElasticEaseOut(f,m,A,N,U,p){let o=0;return f===0?m:(f/=N)===1?m+A:(p||(p=N*.3),!U||U<Math.abs(A)?(U=A,o=p/4):o=p/(2*Math.PI)*Math.asin(A/U),U*Math.pow(2,-10*f)*Math.sin((f*N-o)*(2*Math.PI)/p)+A+m)},ElasticEaseInOut(f,m,A,N,U,p){let o=0;return f===0?m:(f/=N/2)===2?m+A:(p||(p=N*(.3*1.5)),!U||U<Math.abs(A)?(U=A,o=p/4):o=p/(2*Math.PI)*Math.asin(A/U),f<1?-.5*(U*Math.pow(2,10*(f-=1))*Math.sin((f*N-o)*(2*Math.PI)/p))+m:U*Math.pow(2,-10*(f-=1))*Math.sin((f*N-o)*(2*Math.PI)/p)*.5+A+m)},BounceEaseOut(f,m,A,N){return(f/=N)<1/2.75?A*(7.5625*f*f)+m:f<2/2.75?A*(7.5625*(f-=1.5/2.75)*f+.75)+m:f<2.5/2.75?A*(7.5625*(f-=2.25/2.75)*f+.9375)+m:A*(7.5625*(f-=2.625/2.75)*f+.984375)+m},BounceEaseIn(f,m,A,N){return A-l.Easings.BounceEaseOut(N-f,0,A,N)+m},BounceEaseInOut(f,m,A,N){return f<N/2?l.Easings.BounceEaseIn(f*2,0,A,N)*.5+m:l.Easings.BounceEaseOut(f*2-N,0,A,N)*.5+A*.5+m},EaseIn(f,m,A,N){return A*(f/=N)*f+m},EaseOut(f,m,A,N){return-A*(f/=N)*(f-2)+m},EaseInOut(f,m,A,N){return(f/=N/2)<1?A/2*f*f+m:-A/2*(--f*(f-2)-1)+m},StrongEaseIn(f,m,A,N){return A*(f/=N)*f*f*f*f+m},StrongEaseOut(f,m,A,N){return A*((f=f/N-1)*f*f*f*f+1)+m},StrongEaseInOut(f,m,A,N){return(f/=N/2)<1?A/2*f*f*f*f*f+m:A/2*((f-=2)*f*f*f*f+2)+m},Linear(f,m,A,N){return A*f/N+m}}}(Yr)),Yr}var Eh;function Wr(){return Eh||(Eh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Konva=void 0;const s=At(),b=Kt(),S=Zt(),d=ts(),h=S2(),c=U0(),u=b2(),g=no(),y=ao(),v=oe(),E=io(),_=C2(),f=D0(),m=$l();l.Konva=b.Util._assign(s.Konva,{Util:b.Util,Transform:b.Transform,Node:S.Node,Container:d.Container,Stage:h.Stage,stages:h.stages,Layer:c.Layer,FastLayer:u.FastLayer,Group:g.Group,DD:y.DD,Shape:v.Shape,shapes:v.shapes,Animation:E.Animation,Tween:_.Tween,Easings:_.Easings,Context:f.Context,Canvas:m.Canvas}),l.default=l.Konva}(Lr)),Lr}var mi={},Th;function A2(){if(Th)return mi;Th=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Arc=void 0;const l=xt(),s=oe(),b=At(),S=Nt(),d=At();let h=class extends s.Shape{_sceneFunc(u){const g=b.Konva.getAngle(this.angle()),y=this.clockwise();u.beginPath(),u.arc(0,0,this.outerRadius(),0,g,y),u.arc(0,0,this.innerRadius(),g,0,!y),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}getSelfRect(){const u=this.innerRadius(),g=this.outerRadius(),y=this.clockwise(),v=b.Konva.getAngle(y?360-this.angle():this.angle()),E=Math.cos(Math.min(v,Math.PI)),_=1,f=Math.sin(Math.min(Math.max(Math.PI,v),3*Math.PI/2)),m=Math.sin(Math.min(v,Math.PI/2)),A=E*(E>0?u:g),N=_*g,U=f*(f>0?u:g),p=m*(m>0?g:u);return{x:A,y:y?-1*p:U,width:N-A,height:p-U}}};return mi.Arc=h,h.prototype._centroid=!0,h.prototype.className="Arc",h.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,d._registerNode)(h),l.Factory.addGetterSetter(h,"innerRadius",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"outerRadius",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"angle",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"clockwise",!1,(0,S.getBooleanValidator)()),mi}var pi={},vi={},xh;function B0(){if(xh)return vi;xh=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Line=void 0;const l=xt(),s=At(),b=oe(),S=Nt();function d(u,g,y,v,E,_,f){const m=Math.sqrt(Math.pow(y-u,2)+Math.pow(v-g,2)),A=Math.sqrt(Math.pow(E-y,2)+Math.pow(_-v,2)),N=f*m/(m+A),U=f*A/(m+A),p=y-N*(E-u),o=v-N*(_-g),C=y+U*(E-u),x=v+U*(_-g);return[p,o,C,x]}function h(u,g){const y=u.length,v=[];for(let E=2;E<y-2;E+=2){const _=d(u[E-2],u[E-1],u[E],u[E+1],u[E+2],u[E+3],g);isNaN(_[0])||(v.push(_[0]),v.push(_[1]),v.push(u[E]),v.push(u[E+1]),v.push(_[2]),v.push(_[3]))}return v}let c=class extends b.Shape{constructor(g){super(g),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(g){const y=this.points(),v=y.length,E=this.tension(),_=this.closed(),f=this.bezier();if(!v)return;let m=0;if(g.beginPath(),g.moveTo(y[0],y[1]),E!==0&&v>4){const A=this.getTensionPoints(),N=A.length;for(m=_?0:4,_||g.quadraticCurveTo(A[0],A[1],A[2],A[3]);m<N-2;)g.bezierCurveTo(A[m++],A[m++],A[m++],A[m++],A[m++],A[m++]);_||g.quadraticCurveTo(A[N-2],A[N-1],y[v-2],y[v-1])}else if(f)for(m=2;m<v;)g.bezierCurveTo(y[m++],y[m++],y[m++],y[m++],y[m++],y[m++]);else for(m=2;m<v;m+=2)g.lineTo(y[m],y[m+1]);_?(g.closePath(),g.fillStrokeShape(this)):g.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():h(this.points(),this.tension())}_getTensionPointsClosed(){const g=this.points(),y=g.length,v=this.tension(),E=d(g[y-2],g[y-1],g[0],g[1],g[2],g[3],v),_=d(g[y-4],g[y-3],g[y-2],g[y-1],g[0],g[1],v),f=h(g,v);return[E[2],E[3]].concat(f).concat([_[0],_[1],g[y-2],g[y-1],_[2],_[3],E[0],E[1],g[0],g[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let g=this.points();if(g.length<4)return{x:g[0]||0,y:g[1]||0,width:0,height:0};this.tension()!==0?g=[g[0],g[1],...this._getTensionPoints(),g[g.length-2],g[g.length-1]]:g=this.points();let y=g[0],v=g[0],E=g[1],_=g[1],f,m;for(let A=0;A<g.length/2;A++)f=g[A*2],m=g[A*2+1],y=Math.min(y,f),v=Math.max(v,f),E=Math.min(E,m),_=Math.max(_,m);return{x:y,y:E,width:v-y,height:_-E}}};return vi.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,s._registerNode)(c),l.Factory.addGetterSetter(c,"closed",!1),l.Factory.addGetterSetter(c,"bezier",!1),l.Factory.addGetterSetter(c,"tension",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(c,"points",[],(0,S.getNumberArrayValidator)()),vi}var yi={},Kr={},Nh;function E2(){return Nh||(Nh=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.t2length=l.getQuadraticArcLength=l.getCubicArcLength=l.binomialCoefficients=l.cValues=l.tValues=void 0,l.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],l.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],l.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const s=(c,u,g)=>{let y,v;const _=g/2;y=0;for(let f=0;f<20;f++)v=_*l.tValues[20][f]+_,y+=l.cValues[20][f]*S(c,u,v);return _*y};l.getCubicArcLength=s;const b=(c,u,g)=>{g===void 0&&(g=1);const y=c[0]-2*c[1]+c[2],v=u[0]-2*u[1]+u[2],E=2*c[1]-2*c[0],_=2*u[1]-2*u[0],f=4*(y*y+v*v),m=4*(y*E+v*_),A=E*E+_*_;if(f===0)return g*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(u[2]-u[0],2));const N=m/(2*f),U=A/f,p=g+N,o=U-N*N,C=p*p+o>0?Math.sqrt(p*p+o):0,x=N*N+o>0?Math.sqrt(N*N+o):0,B=N+Math.sqrt(N*N+o)!==0?o*Math.log(Math.abs((p+C)/(N+x))):0;return Math.sqrt(f)/2*(p*C-N*x+B)};l.getQuadraticArcLength=b;function S(c,u,g){const y=d(1,g,c),v=d(1,g,u),E=y*y+v*v;return Math.sqrt(E)}const d=(c,u,g)=>{const y=g.length-1;let v,E;if(y===0)return 0;if(c===0){E=0;for(let _=0;_<=y;_++)E+=l.binomialCoefficients[y][_]*Math.pow(1-u,y-_)*Math.pow(u,_)*g[_];return E}else{v=new Array(y);for(let _=0;_<y;_++)v[_]=y*(g[_+1]-g[_]);return d(c-1,u,v)}},h=(c,u,g)=>{let y=1,v=c/u,E=(c-g(v))/u,_=0;for(;y>.001;){const f=g(v+E),m=Math.abs(c-f)/u;if(m<y)y=m,v+=E;else{const A=g(v-E),N=Math.abs(c-A)/u;N<y?(y=N,v-=E):E/=2}if(_++,_>500)break}return v};l.t2length=h}(Kr)),Kr}var Rh;function lo(){if(Rh)return yi;Rh=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Path=void 0;const l=xt(),s=At(),b=oe(),S=E2();let d=class Te extends b.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Te.parsePathData(this.data()),this.pathLength=Te.getPathLength(this.dataArray)}_sceneFunc(c){const u=this.dataArray;c.beginPath();let g=!1;for(let y=0;y<u.length;y++){const v=u[y].command,E=u[y].points;switch(v){case"L":c.lineTo(E[0],E[1]);break;case"M":c.moveTo(E[0],E[1]);break;case"C":c.bezierCurveTo(E[0],E[1],E[2],E[3],E[4],E[5]);break;case"Q":c.quadraticCurveTo(E[0],E[1],E[2],E[3]);break;case"A":const _=E[0],f=E[1],m=E[2],A=E[3],N=E[4],U=E[5],p=E[6],o=E[7],C=m>A?m:A,x=m>A?1:m/A,B=m>A?A/m:1;c.translate(_,f),c.rotate(p),c.scale(x,B),c.arc(0,0,C,N,N+U,1-o),c.scale(1/x,1/B),c.rotate(-p),c.translate(-_,-f);break;case"z":g=!0,c.closePath();break}}!g&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(f){if(f.command==="A"){const m=f.points[4],A=f.points[5],N=f.points[4]+A;let U=Math.PI/180;if(Math.abs(m-N)<U&&(U=Math.abs(m-N)),A<0)for(let p=m-U;p>N;p-=U){const o=Te.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],p,0);c.push(o.x,o.y)}else for(let p=m+U;p<N;p+=U){const o=Te.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],p,0);c.push(o.x,o.y)}}else if(f.command==="C")for(let m=0;m<=1;m+=.01){const A=Te.getPointOnCubicBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);c.push(A.x,A.y)}else c=c.concat(f.points)});let u=c[0],g=c[0],y=c[1],v=c[1],E,_;for(let f=0;f<c.length/2;f++)E=c[f*2],_=c[f*2+1],isNaN(E)||(u=Math.min(u,E),g=Math.max(g,E)),isNaN(_)||(y=Math.min(y,_),v=Math.max(v,_));return{x:u,y,width:g-u,height:v-y}}getLength(){return this.pathLength}getPointAtLength(c){return Te.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,u,g,y){return Math.sqrt((g-c)*(g-c)+(y-u)*(y-u))}static getPathLength(c){let u=0;for(let g=0;g<c.length;++g)u+=c[g].pathLength;return u}static getPointAtLengthOfDataArray(c,u){let g,y=0,v=u.length;if(!v)return null;for(;y<v&&c>u[y].pathLength;)c-=u[y].pathLength,++y;if(y===v)return g=u[y-1].points.slice(-2),{x:g[0],y:g[1]};if(c<.01)return u[y].command==="M"?(g=u[y].points.slice(0,2),{x:g[0],y:g[1]}):{x:u[y].start.x,y:u[y].start.y};const E=u[y],_=E.points;switch(E.command){case"L":return Te.getPointOnLine(c,E.start.x,E.start.y,_[0],_[1]);case"C":return Te.getPointOnCubicBezier((0,S.t2length)(c,Te.getPathLength(u),C=>(0,S.getCubicArcLength)([E.start.x,_[0],_[2],_[4]],[E.start.y,_[1],_[3],_[5]],C)),E.start.x,E.start.y,_[0],_[1],_[2],_[3],_[4],_[5]);case"Q":return Te.getPointOnQuadraticBezier((0,S.t2length)(c,Te.getPathLength(u),C=>(0,S.getQuadraticArcLength)([E.start.x,_[0],_[2]],[E.start.y,_[1],_[3]],C)),E.start.x,E.start.y,_[0],_[1],_[2],_[3]);case"A":const f=_[0],m=_[1],A=_[2],N=_[3],U=_[5],p=_[6];let o=_[4];return o+=U*c/E.pathLength,Te.getPointOnEllipticalArc(f,m,A,N,o,p)}return null}static getPointOnLine(c,u,g,y,v,E,_){E=E??u,_=_??g;const f=this.getLineLength(u,g,y,v);if(f<1e-10)return{x:u,y:g};if(y===u)return{x:E,y:_+(v>g?c:-c)};const m=(v-g)/(y-u),A=Math.sqrt(c*c/(1+m*m))*(y<u?-1:1),N=m*A;if(Math.abs(_-g-m*(E-u))<1e-10)return{x:E+A,y:_+N};const U=((E-u)*(y-u)+(_-g)*(v-g))/(f*f),p=u+U*(y-u),o=g+U*(v-g),C=this.getLineLength(E,_,p,o),x=Math.sqrt(c*c-C*C),B=Math.sqrt(x*x/(1+m*m))*(y<u?-1:1),P=m*B;return{x:p+B,y:o+P}}static getPointOnCubicBezier(c,u,g,y,v,E,_,f,m){function A(x){return x*x*x}function N(x){return 3*x*x*(1-x)}function U(x){return 3*x*(1-x)*(1-x)}function p(x){return(1-x)*(1-x)*(1-x)}const o=f*A(c)+E*N(c)+y*U(c)+u*p(c),C=m*A(c)+_*N(c)+v*U(c)+g*p(c);return{x:o,y:C}}static getPointOnQuadraticBezier(c,u,g,y,v,E,_){function f(p){return p*p}function m(p){return 2*p*(1-p)}function A(p){return(1-p)*(1-p)}const N=E*f(c)+y*m(c)+u*A(c),U=_*f(c)+v*m(c)+g*A(c);return{x:N,y:U}}static getPointOnEllipticalArc(c,u,g,y,v,E){const _=Math.cos(E),f=Math.sin(E),m={x:g*Math.cos(v),y:y*Math.sin(v)};return{x:c+(m.x*_-m.y*f),y:u+(m.x*f+m.y*_)}}static parsePathData(c){if(!c)return[];let u=c;const g=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];u=u.replace(new RegExp(" ","g"),",");for(let N=0;N<g.length;N++)u=u.replace(new RegExp(g[N],"g"),"|"+g[N]);const y=u.split("|"),v=[],E=[];let _=0,f=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let A;for(let N=1;N<y.length;N++){let U=y[N],p=U.charAt(0);for(U=U.slice(1),E.length=0;A=m.exec(U);)E.push(A[0]);const o=[];for(let C=0,x=E.length;C<x;C++){if(E[C]==="00"){o.push(0,0);continue}const B=parseFloat(E[C]);isNaN(B)?o.push(0):o.push(B)}for(;o.length>0&&!isNaN(o[0]);){let C="",x=[];const B=_,P=f;let R,O,G,V,j,K,Q,F,it,T;switch(p){case"l":_+=o.shift(),f+=o.shift(),C="L",x.push(_,f);break;case"L":_=o.shift(),f=o.shift(),x.push(_,f);break;case"m":const M=o.shift(),H=o.shift();if(_+=M,f+=H,C="M",v.length>2&&v[v.length-1].command==="z"){for(let z=v.length-2;z>=0;z--)if(v[z].command==="M"){_=v[z].points[0]+M,f=v[z].points[1]+H;break}}x.push(_,f),p="l";break;case"M":_=o.shift(),f=o.shift(),C="M",x.push(_,f),p="L";break;case"h":_+=o.shift(),C="L",x.push(_,f);break;case"H":_=o.shift(),C="L",x.push(_,f);break;case"v":f+=o.shift(),C="L",x.push(_,f);break;case"V":f=o.shift(),C="L",x.push(_,f);break;case"C":x.push(o.shift(),o.shift(),o.shift(),o.shift()),_=o.shift(),f=o.shift(),x.push(_,f);break;case"c":x.push(_+o.shift(),f+o.shift(),_+o.shift(),f+o.shift()),_+=o.shift(),f+=o.shift(),C="C",x.push(_,f);break;case"S":O=_,G=f,R=v[v.length-1],R.command==="C"&&(O=_+(_-R.points[2]),G=f+(f-R.points[3])),x.push(O,G,o.shift(),o.shift()),_=o.shift(),f=o.shift(),C="C",x.push(_,f);break;case"s":O=_,G=f,R=v[v.length-1],R.command==="C"&&(O=_+(_-R.points[2]),G=f+(f-R.points[3])),x.push(O,G,_+o.shift(),f+o.shift()),_+=o.shift(),f+=o.shift(),C="C",x.push(_,f);break;case"Q":x.push(o.shift(),o.shift()),_=o.shift(),f=o.shift(),x.push(_,f);break;case"q":x.push(_+o.shift(),f+o.shift()),_+=o.shift(),f+=o.shift(),C="Q",x.push(_,f);break;case"T":O=_,G=f,R=v[v.length-1],R.command==="Q"&&(O=_+(_-R.points[0]),G=f+(f-R.points[1])),_=o.shift(),f=o.shift(),C="Q",x.push(O,G,_,f);break;case"t":O=_,G=f,R=v[v.length-1],R.command==="Q"&&(O=_+(_-R.points[0]),G=f+(f-R.points[1])),_+=o.shift(),f+=o.shift(),C="Q",x.push(O,G,_,f);break;case"A":V=o.shift(),j=o.shift(),K=o.shift(),Q=o.shift(),F=o.shift(),it=_,T=f,_=o.shift(),f=o.shift(),C="A",x=this.convertEndpointToCenterParameterization(it,T,_,f,Q,F,V,j,K);break;case"a":V=o.shift(),j=o.shift(),K=o.shift(),Q=o.shift(),F=o.shift(),it=_,T=f,_+=o.shift(),f+=o.shift(),C="A",x=this.convertEndpointToCenterParameterization(it,T,_,f,Q,F,V,j,K);break}v.push({command:C||p,points:x,start:{x:B,y:P},pathLength:this.calcLength(B,P,C||p,x)})}(p==="z"||p==="Z")&&v.push({command:"z",points:[],start:void 0,pathLength:0})}return v}static calcLength(c,u,g,y){let v,E,_,f;const m=Te;switch(g){case"L":return m.getLineLength(c,u,y[0],y[1]);case"C":return(0,S.getCubicArcLength)([c,y[0],y[2],y[4]],[u,y[1],y[3],y[5]],1);case"Q":return(0,S.getQuadraticArcLength)([c,y[0],y[2]],[u,y[1],y[3]],1);case"A":v=0;const A=y[4],N=y[5],U=y[4]+N;let p=Math.PI/180;if(Math.abs(A-U)<p&&(p=Math.abs(A-U)),E=m.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],A,0),N<0)for(f=A-p;f>U;f-=p)_=m.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],f,0),v+=m.getLineLength(E.x,E.y,_.x,_.y),E=_;else for(f=A+p;f<U;f+=p)_=m.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],f,0),v+=m.getLineLength(E.x,E.y,_.x,_.y),E=_;return _=m.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],U,0),v+=m.getLineLength(E.x,E.y,_.x,_.y),v}return 0}static convertEndpointToCenterParameterization(c,u,g,y,v,E,_,f,m){const A=m*(Math.PI/180),N=Math.cos(A)*(c-g)/2+Math.sin(A)*(u-y)/2,U=-1*Math.sin(A)*(c-g)/2+Math.cos(A)*(u-y)/2,p=N*N/(_*_)+U*U/(f*f);p>1&&(_*=Math.sqrt(p),f*=Math.sqrt(p));let o=Math.sqrt((_*_*(f*f)-_*_*(U*U)-f*f*(N*N))/(_*_*(U*U)+f*f*(N*N)));v===E&&(o*=-1),isNaN(o)&&(o=0);const C=o*_*U/f,x=o*-f*N/_,B=(c+g)/2+Math.cos(A)*C-Math.sin(A)*x,P=(u+y)/2+Math.sin(A)*C+Math.cos(A)*x,R=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},O=function(F,it){return(F[0]*it[0]+F[1]*it[1])/(R(F)*R(it))},G=function(F,it){return(F[0]*it[1]<F[1]*it[0]?-1:1)*Math.acos(O(F,it))},V=G([1,0],[(N-C)/_,(U-x)/f]),j=[(N-C)/_,(U-x)/f],K=[(-1*N-C)/_,(-1*U-x)/f];let Q=G(j,K);return O(j,K)<=-1&&(Q=Math.PI),O(j,K)>=1&&(Q=0),E===0&&Q>0&&(Q=Q-2*Math.PI),E===1&&Q<0&&(Q=Q+2*Math.PI),[B,P,_,f,V,Q,A,E]}};return yi.Path=d,d.prototype.className="Path",d.prototype._attrsAffectingSize=["data"],(0,s._registerNode)(d),l.Factory.addGetterSetter(d,"data"),yi}var Mh;function T2(){if(Mh)return pi;Mh=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Arrow=void 0;const l=xt(),s=B0(),b=Nt(),S=At(),d=lo();let h=class extends s.Line{_sceneFunc(u){super._sceneFunc(u);const g=Math.PI*2,y=this.points();let v=y;const E=this.tension()!==0&&y.length>4;E&&(v=this.getTensionPoints());const _=this.pointerLength(),f=y.length;let m,A;if(E){const p=[v[v.length-4],v[v.length-3],v[v.length-2],v[v.length-1],y[f-2],y[f-1]],o=d.Path.calcLength(v[v.length-4],v[v.length-3],"C",p),C=d.Path.getPointOnQuadraticBezier(Math.min(1,1-_/o),p[0],p[1],p[2],p[3],p[4],p[5]);m=y[f-2]-C.x,A=y[f-1]-C.y}else m=y[f-2]-y[f-4],A=y[f-1]-y[f-3];const N=(Math.atan2(A,m)+g)%g,U=this.pointerWidth();this.pointerAtEnding()&&(u.save(),u.beginPath(),u.translate(y[f-2],y[f-1]),u.rotate(N),u.moveTo(0,0),u.lineTo(-_,U/2),u.lineTo(-_,-U/2),u.closePath(),u.restore(),this.__fillStroke(u)),this.pointerAtBeginning()&&(u.save(),u.beginPath(),u.translate(y[0],y[1]),E?(m=(v[0]+v[2])/2-y[0],A=(v[1]+v[3])/2-y[1]):(m=y[2]-y[0],A=y[3]-y[1]),u.rotate((Math.atan2(-A,-m)+g)%g),u.moveTo(0,0),u.lineTo(-_,U/2),u.lineTo(-_,-U/2),u.closePath(),u.restore(),this.__fillStroke(u))}__fillStroke(u){const g=this.dashEnabled();g&&(this.attrs.dashEnabled=!1,u.setLineDash([])),u.fillStrokeShape(this),g&&(this.attrs.dashEnabled=!0)}getSelfRect(){const u=super.getSelfRect(),g=this.pointerWidth()/2;return{x:u.x,y:u.y-g,width:u.width,height:u.height+g*2}}};return pi.Arrow=h,h.prototype.className="Arrow",(0,S._registerNode)(h),l.Factory.addGetterSetter(h,"pointerLength",10,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(h,"pointerWidth",10,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(h,"pointerAtBeginning",!1),l.Factory.addGetterSetter(h,"pointerAtEnding",!0),pi}var _i={},Oh;function x2(){if(Oh)return _i;Oh=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.Circle=void 0;const l=xt(),s=oe(),b=Nt(),S=At();let d=class extends s.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}};return _i.Circle=d,d.prototype._centroid=!0,d.prototype.className="Circle",d.prototype._attrsAffectingSize=["radius"],(0,S._registerNode)(d),l.Factory.addGetterSetter(d,"radius",0,(0,b.getNumberValidator)()),_i}var Si={},Dh;function N2(){if(Dh)return Si;Dh=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.Ellipse=void 0;const l=xt(),s=oe(),b=Nt(),S=At();let d=class extends s.Shape{_sceneFunc(c){const u=this.radiusX(),g=this.radiusY();c.beginPath(),c.save(),u!==g&&c.scale(1,g/u),c.arc(0,0,u,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return Si.Ellipse=d,d.prototype.className="Ellipse",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,S._registerNode)(d),l.Factory.addComponentsGetterSetter(d,"radius",["x","y"]),l.Factory.addGetterSetter(d,"radiusX",0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(d,"radiusY",0,(0,b.getNumberValidator)()),Si}var bi={},Gh;function R2(){if(Gh)return bi;Gh=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Image=void 0;const l=Kt(),s=xt(),b=oe(),S=At(),d=Nt();class h extends b.Shape{constructor(u){super(u),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",g=>{this._removeImageLoad(g.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const u=this.image();u&&u.complete||u&&u.readyState===4||u&&u.addEventListener&&u.addEventListener("load",this._loadListener)}_removeImageLoad(u){u&&u.removeEventListener&&u.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const u=!!this.cornerRadius(),g=this.hasShadow();return u&&g?!0:super._useBufferCanvas(!0)}_sceneFunc(u){const g=this.getWidth(),y=this.getHeight(),v=this.cornerRadius(),E=this.attrs.image;let _;if(E){const f=this.attrs.cropWidth,m=this.attrs.cropHeight;f&&m?_=[E,this.cropX(),this.cropY(),f,m,0,0,g,y]:_=[E,0,0,g,y]}(this.hasFill()||this.hasStroke()||v)&&(u.beginPath(),v?l.Util.drawRoundedRectPath(u,g,y,v):u.rect(0,0,g,y),u.closePath(),u.fillStrokeShape(this)),E&&(v&&u.clip(),u.drawImage.apply(u,_))}_hitFunc(u){const g=this.width(),y=this.height(),v=this.cornerRadius();u.beginPath(),v?l.Util.drawRoundedRectPath(u,g,y,v):u.rect(0,0,g,y),u.closePath(),u.fillStrokeShape(this)}getWidth(){var u,g;return(u=this.attrs.width)!==null&&u!==void 0?u:(g=this.image())===null||g===void 0?void 0:g.width}getHeight(){var u,g;return(u=this.attrs.height)!==null&&u!==void 0?u:(g=this.image())===null||g===void 0?void 0:g.height}static fromURL(u,g,y=null){const v=l.Util.createImageElement();v.onload=function(){const E=new h({image:v});g(E)},v.onerror=y,v.crossOrigin="Anonymous",v.src=u}}return bi.Image=h,h.prototype.className="Image",(0,S._registerNode)(h),s.Factory.addGetterSetter(h,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),s.Factory.addGetterSetter(h,"image"),s.Factory.addComponentsGetterSetter(h,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(h,"cropX",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(h,"cropY",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(h,"cropWidth",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(h,"cropHeight",0,(0,d.getNumberValidator)()),bi}var Ia={},Uh;function M2(){if(Uh)return Ia;Uh=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.Tag=Ia.Label=void 0;const l=xt(),s=oe(),b=no(),S=Nt(),d=At(),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",u="none",g="up",y="right",v="down",E="left",_=h.length;let f=class extends b.Group{constructor(N){super(N),this.on("add.konva",function(U){this._addListeners(U.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(N){let U=this,p;const o=function(){U._sync()};for(p=0;p<_;p++)N.on(h[p]+c,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let N=this.getText(),U=this.getTag(),p,o,C,x,B,P,R;if(N&&U){switch(p=N.width(),o=N.height(),C=U.pointerDirection(),x=U.pointerWidth(),R=U.pointerHeight(),B=0,P=0,C){case g:B=p/2,P=-1*R;break;case y:B=p+x,P=o/2;break;case v:B=p/2,P=o+R;break;case E:B=-1*x,P=o/2;break}U.setAttrs({x:-1*B,y:-1*P,width:p,height:o}),N.setAttrs({x:-1*B,y:-1*P})}}};Ia.Label=f,f.prototype.className="Label",(0,d._registerNode)(f);class m extends s.Shape{_sceneFunc(N){const U=this.width(),p=this.height(),o=this.pointerDirection(),C=this.pointerWidth(),x=this.pointerHeight(),B=this.cornerRadius();let P=0,R=0,O=0,G=0;typeof B=="number"?P=R=O=G=Math.min(B,U/2,p/2):(P=Math.min(B[0]||0,U/2,p/2),R=Math.min(B[1]||0,U/2,p/2),G=Math.min(B[2]||0,U/2,p/2),O=Math.min(B[3]||0,U/2,p/2)),N.beginPath(),N.moveTo(P,0),o===g&&(N.lineTo((U-C)/2,0),N.lineTo(U/2,-1*x),N.lineTo((U+C)/2,0)),N.lineTo(U-R,0),N.arc(U-R,R,R,Math.PI*3/2,0,!1),o===y&&(N.lineTo(U,(p-x)/2),N.lineTo(U+C,p/2),N.lineTo(U,(p+x)/2)),N.lineTo(U,p-G),N.arc(U-G,p-G,G,0,Math.PI/2,!1),o===v&&(N.lineTo((U+C)/2,p),N.lineTo(U/2,p+x),N.lineTo((U-C)/2,p)),N.lineTo(O,p),N.arc(O,p-O,O,Math.PI/2,Math.PI,!1),o===E&&(N.lineTo(0,(p+x)/2),N.lineTo(-1*C,p/2),N.lineTo(0,(p-x)/2)),N.lineTo(0,P),N.arc(P,P,P,Math.PI,Math.PI*3/2,!1),N.closePath(),N.fillStrokeShape(this)}getSelfRect(){let N=0,U=0,p=this.pointerWidth(),o=this.pointerHeight(),C=this.pointerDirection(),x=this.width(),B=this.height();return C===g?(U-=o,B+=o):C===v?B+=o:C===E?(N-=p*1.5,x+=p):C===y&&(x+=p*1.5),{x:N,y:U,width:x,height:B}}}return Ia.Tag=m,m.prototype.className="Tag",(0,d._registerNode)(m),l.Factory.addGetterSetter(m,"pointerDirection",u),l.Factory.addGetterSetter(m,"pointerWidth",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(m,"pointerHeight",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(m,"cornerRadius",0,(0,S.getNumberOrArrayOfNumbersValidator)(4)),Ia}var Ci={},Bh;function z0(){if(Bh)return Ci;Bh=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Rect=void 0;const l=xt(),s=oe(),b=At(),S=Kt(),d=Nt();class h extends s.Shape{_sceneFunc(u){const g=this.cornerRadius(),y=this.width(),v=this.height();u.beginPath(),g?S.Util.drawRoundedRectPath(u,y,v,g):u.rect(0,0,y,v),u.closePath(),u.fillStrokeShape(this)}}return Ci.Rect=h,h.prototype.className="Rect",(0,b._registerNode)(h),l.Factory.addGetterSetter(h,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),Ci}var Ai={},zh;function O2(){if(zh)return Ai;zh=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.RegularPolygon=void 0;const l=xt(),s=oe(),b=Nt(),S=At();let d=class extends s.Shape{_sceneFunc(c){const u=this._getPoints();c.beginPath(),c.moveTo(u[0].x,u[0].y);for(let g=1;g<u.length;g++)c.lineTo(u[g].x,u[g].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,u=this.attrs.radius||0,g=[];for(let y=0;y<c;y++)g.push({x:u*Math.sin(y*2*Math.PI/c),y:-1*u*Math.cos(y*2*Math.PI/c)});return g}getSelfRect(){const c=this._getPoints();let u=c[0].x,g=c[0].y,y=c[0].x,v=c[0].y;return c.forEach(E=>{u=Math.min(u,E.x),g=Math.max(g,E.x),y=Math.min(y,E.y),v=Math.max(v,E.y)}),{x:u,y,width:g-u,height:v-y}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return Ai.RegularPolygon=d,d.prototype.className="RegularPolygon",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,S._registerNode)(d),l.Factory.addGetterSetter(d,"radius",0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(d,"sides",0,(0,b.getNumberValidator)()),Ai}var Ei={},Hh;function D2(){if(Hh)return Ei;Hh=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Ring=void 0;const l=xt(),s=oe(),b=Nt(),S=At(),d=Math.PI*2;let h=class extends s.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.innerRadius(),0,d,!1),u.moveTo(this.outerRadius(),0),u.arc(0,0,this.outerRadius(),d,0,!0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}};return Ei.Ring=h,h.prototype.className="Ring",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,S._registerNode)(h),l.Factory.addGetterSetter(h,"innerRadius",0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(h,"outerRadius",0,(0,b.getNumberValidator)()),Ei}var Ti={},Lh;function G2(){if(Lh)return Ti;Lh=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Sprite=void 0;const l=xt(),s=oe(),b=io(),S=Nt(),d=At();let h=class extends s.Shape{constructor(u){super(u),this._updated=!0,this.anim=new b.Animation(()=>{const g=this._updated;return this._updated=!1,g}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(u){const g=this.animation(),y=this.frameIndex(),v=y*4,E=this.animations()[g],_=this.frameOffsets(),f=E[v+0],m=E[v+1],A=E[v+2],N=E[v+3],U=this.image();if((this.hasFill()||this.hasStroke())&&(u.beginPath(),u.rect(0,0,A,N),u.closePath(),u.fillStrokeShape(this)),U)if(_){const p=_[g],o=y*2;u.drawImage(U,f,m,A,N,p[o+0],p[o+1],A,N)}else u.drawImage(U,f,m,A,N,0,0,A,N)}_hitFunc(u){const g=this.animation(),y=this.frameIndex(),v=y*4,E=this.animations()[g],_=this.frameOffsets(),f=E[v+2],m=E[v+3];if(u.beginPath(),_){const A=_[g],N=y*2;u.rect(A[N+0],A[N+1],f,m)}else u.rect(0,0,f,m);u.closePath(),u.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const u=this;this.interval=setInterval(function(){u._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const u=this.getLayer();this.anim.setLayers(u),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const u=this.frameIndex(),g=this.animation(),y=this.animations(),v=y[g],E=v.length/4;u<E-1?this.frameIndex(u+1):this.frameIndex(0)}};return Ti.Sprite=h,h.prototype.className="Sprite",(0,d._registerNode)(h),l.Factory.addGetterSetter(h,"animation"),l.Factory.addGetterSetter(h,"animations"),l.Factory.addGetterSetter(h,"frameOffsets"),l.Factory.addGetterSetter(h,"image"),l.Factory.addGetterSetter(h,"frameIndex",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"frameRate",17,(0,S.getNumberValidator)()),l.Factory.backCompat(h,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Ti}var xi={},Vh;function U2(){if(Vh)return xi;Vh=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Star=void 0;const l=xt(),s=oe(),b=Nt(),S=At();let d=class extends s.Shape{_sceneFunc(c){const u=this.innerRadius(),g=this.outerRadius(),y=this.numPoints();c.beginPath(),c.moveTo(0,0-g);for(let v=1;v<y*2;v++){const E=v%2===0?g:u,_=E*Math.sin(v*Math.PI/y),f=-1*E*Math.cos(v*Math.PI/y);c.lineTo(_,f)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return xi.Star=d,d.prototype.className="Star",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,S._registerNode)(d),l.Factory.addGetterSetter(d,"numPoints",5,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(d,"innerRadius",0,(0,b.getNumberValidator)()),l.Factory.addGetterSetter(d,"outerRadius",0,(0,b.getNumberValidator)()),xi}var On={},qh;function H0(){if(qh)return On;qh=1,Object.defineProperty(On,"__esModule",{value:!0}),On.Text=void 0,On.stringToArray=c;const l=Kt(),s=xt(),b=oe(),S=At(),d=Nt(),h=At();function c($){return[...$].reduce((Y,tt,ot,I)=>{if(new RegExp("\\p{Emoji}","u").test(tt)){const L=I[ot+1];L&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(L)?(Y.push(tt+L),I[ot+1]=""):Y.push(tt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(tt+(I[ot+1]||""))?Y.push(tt+I[ot+1]):ot>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(tt)?Y[Y.length-1]+=tt:tt&&Y.push(tt);return Y},[])}const u="auto",g="center",y="inherit",v="justify",E="Change.konva",_="2d",f="-",m="left",A="text",N="Text",U="top",p="bottom",o="middle",C="normal",x="px ",B=" ",P="right",R="rtl",O="word",G="char",V="none",j="…",K=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Q=K.length;function F($){return $.split(",").map(Y=>{Y=Y.trim();const tt=Y.indexOf(" ")>=0,ot=Y.indexOf('"')>=0||Y.indexOf("'")>=0;return tt&&!ot&&(Y=`"${Y}"`),Y}).join(", ")}let it;function T(){return it||(it=l.Util.createCanvasElement().getContext(_),it)}function M($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function H($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function z($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}class q extends b.Shape{constructor(Y){super(z(Y)),this._partialTextX=0,this._partialTextY=0;for(let tt=0;tt<Q;tt++)this.on(K[tt]+E,this._setTextData);this._setTextData()}_sceneFunc(Y){const tt=this.textArr,ot=tt.length;if(!this.text())return;let I=this.padding(),L=this.fontSize(),J=this.lineHeight()*L,rt=this.verticalAlign(),ut=this.direction(),dt=0,yt=this.align(),_t=this.getWidth(),Gt=this.letterSpacing(),gt=this.fill(),Vt=this.textDecoration(),Ut=Vt.indexOf("underline")!==-1,wt=Vt.indexOf("line-through")!==-1,Le;ut=ut===y?Y.direction:ut;let ue=J/2,xe=o;if(S.Konva._fixTextRendering){const St=this.measureSize("M");xe="alphabetic",ue=(St.fontBoundingBoxAscent-St.fontBoundingBoxDescent)/2+J/2}for(ut===R&&Y.setAttr("direction",ut),Y.setAttr("font",this._getContextFont()),Y.setAttr("textBaseline",xe),Y.setAttr("textAlign",m),rt===o?dt=(this.getHeight()-ot*J-I*2)/2:rt===p&&(dt=this.getHeight()-ot*J-I*2),Y.translate(I,dt+I),Le=0;Le<ot;Le++){let St=0,me=0;const Ne=tt[Le],Ke=Ne.text,Jt=Ne.width,$t=Ne.lastInParagraph;if(Y.save(),yt===P?St+=_t-Jt-I*2:yt===g&&(St+=(_t-Jt-I*2)/2),Ut){Y.save(),Y.beginPath();const ne=S.Konva._fixTextRendering?Math.round(L/4):Math.round(L/2),Re=St,ce=ue+me+ne;Y.moveTo(Re,ce);const he=yt===v&&!$t?_t-I*2:Jt;Y.lineTo(Re+Math.round(he),ce),Y.lineWidth=L/15;const ga=this._getLinearGradient();Y.strokeStyle=ga||gt,Y.stroke(),Y.restore()}if(wt){Y.save(),Y.beginPath();const ne=S.Konva._fixTextRendering?-Math.round(L/4):0;Y.moveTo(St,ue+me+ne);const Re=yt===v&&!$t?_t-I*2:Jt;Y.lineTo(St+Math.round(Re),ue+me+ne),Y.lineWidth=L/15;const ce=this._getLinearGradient();Y.strokeStyle=ce||gt,Y.stroke(),Y.restore()}if(ut!==R&&(Gt!==0||yt===v)){const ne=Ke.split(" ").length-1,Re=c(Ke);for(let ce=0;ce<Re.length;ce++){const he=Re[ce];he===" "&&!$t&&yt===v&&(St+=(_t-I*2-Jt)/ne),this._partialTextX=St,this._partialTextY=ue+me,this._partialText=he,Y.fillStrokeShape(this),St+=this.measureSize(he).width+Gt}}else Gt!==0&&Y.setAttr("letterSpacing",`${Gt}px`),this._partialTextX=St,this._partialTextY=ue+me,this._partialText=Ke,Y.fillStrokeShape(this);Y.restore(),ot>1&&(ue+=J)}}_hitFunc(Y){const tt=this.getWidth(),ot=this.getHeight();Y.beginPath(),Y.rect(0,0,tt,ot),Y.closePath(),Y.fillStrokeShape(this)}setText(Y){const tt=l.Util._isString(Y)?Y:Y==null?"":Y+"";return this._setAttr(A,tt),this}getWidth(){return this.attrs.width===u||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===u||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return l.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(Y){var tt,ot,I,L,J,rt,ut,dt,yt,_t,Gt;let gt=T(),Vt=this.fontSize(),Ut;gt.save(),gt.font=this._getContextFont(),Ut=gt.measureText(Y),gt.restore();const wt=Vt/100;return{actualBoundingBoxAscent:(tt=Ut.actualBoundingBoxAscent)!==null&&tt!==void 0?tt:71.58203125*wt,actualBoundingBoxDescent:(ot=Ut.actualBoundingBoxDescent)!==null&&ot!==void 0?ot:0,actualBoundingBoxLeft:(I=Ut.actualBoundingBoxLeft)!==null&&I!==void 0?I:-7.421875*wt,actualBoundingBoxRight:(L=Ut.actualBoundingBoxRight)!==null&&L!==void 0?L:75.732421875*wt,alphabeticBaseline:(J=Ut.alphabeticBaseline)!==null&&J!==void 0?J:0,emHeightAscent:(rt=Ut.emHeightAscent)!==null&&rt!==void 0?rt:100*wt,emHeightDescent:(ut=Ut.emHeightDescent)!==null&&ut!==void 0?ut:-20*wt,fontBoundingBoxAscent:(dt=Ut.fontBoundingBoxAscent)!==null&&dt!==void 0?dt:91*wt,fontBoundingBoxDescent:(yt=Ut.fontBoundingBoxDescent)!==null&&yt!==void 0?yt:21*wt,hangingBaseline:(_t=Ut.hangingBaseline)!==null&&_t!==void 0?_t:72.80000305175781*wt,ideographicBaseline:(Gt=Ut.ideographicBaseline)!==null&&Gt!==void 0?Gt:-21*wt,width:Ut.width,height:Vt}}_getContextFont(){return this.fontStyle()+B+this.fontVariant()+B+(this.fontSize()+x)+F(this.fontFamily())}_addTextLine(Y){this.align()===v&&(Y=Y.trim());const ot=this._getTextWidth(Y);return this.textArr.push({text:Y,width:ot,lastInParagraph:!1})}_getTextWidth(Y){const tt=this.letterSpacing(),ot=Y.length;return T().measureText(Y).width+tt*ot}_setTextData(){let Y=this.text().split(`
`),tt=+this.fontSize(),ot=0,I=this.lineHeight()*tt,L=this.attrs.width,J=this.attrs.height,rt=L!==u&&L!==void 0,ut=J!==u&&J!==void 0,dt=this.padding(),yt=L-dt*2,_t=J-dt*2,Gt=0,gt=this.wrap(),Vt=gt!==V,Ut=gt!==G&&Vt,wt=this.ellipsis();this.textArr=[],T().font=this._getContextFont();const Le=wt?this._getTextWidth(j):0;for(let ue=0,xe=Y.length;ue<xe;++ue){let St=Y[ue],me=this._getTextWidth(St);if(rt&&me>yt)for(;St.length>0;){let Ne=0,Ke=c(St).length,Jt="",$t=0;for(;Ne<Ke;){const ne=Ne+Ke>>>1,Re=c(St),ce=Re.slice(0,ne+1).join(""),he=this._getTextWidth(ce);(wt&&ut&&Gt+I>_t?he+Le:he)<=yt?(Ne=ne+1,Jt=ce,$t=he):Ke=ne}if(Jt){if(Ut){const ce=c(St),he=c(Jt),ga=ce[he.length],Un=ga===B||ga===f;let $a;if(Un&&$t<=yt)$a=he.length;else{const Bn=he.lastIndexOf(B),ns=he.lastIndexOf(f);$a=Math.max(Bn,ns)+1}$a>0&&(Ne=$a,Jt=ce.slice(0,Ne).join(""),$t=this._getTextWidth(Jt))}if(Jt=Jt.trimRight(),this._addTextLine(Jt),ot=Math.max(ot,$t),Gt+=I,this._shouldHandleEllipsis(Gt)){this._tryToAddEllipsisToLastLine();break}if(St=c(St).slice(Ne).join("").trimLeft(),St.length>0&&(me=this._getTextWidth(St),me<=yt)){this._addTextLine(St),Gt+=I,ot=Math.max(ot,me);break}}else break}else this._addTextLine(St),Gt+=I,ot=Math.max(ot,me),this._shouldHandleEllipsis(Gt)&&ue<xe-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ut&&Gt+I>_t)break}this.textHeight=tt,this.textWidth=ot}_shouldHandleEllipsis(Y){const tt=+this.fontSize(),ot=this.lineHeight()*tt,I=this.attrs.height,L=I!==u&&I!==void 0,J=this.padding(),rt=I-J*2;return!(this.wrap()!==V)||L&&Y+ot>rt}_tryToAddEllipsisToLastLine(){const Y=this.attrs.width,tt=Y!==u&&Y!==void 0,ot=this.padding(),I=Y-ot*2,L=this.ellipsis(),J=this.textArr[this.textArr.length-1];!J||!L||(tt&&(this._getTextWidth(J.text+j)<I||(J.text=J.text.slice(0,J.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(J.text+j))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const Y=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,tt=this.hasShadow();return Y&&tt?!0:super._useBufferCanvas()}}return On.Text=q,q.prototype._fillFunc=M,q.prototype._strokeFunc=H,q.prototype.className=N,q.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,h._registerNode)(q),s.Factory.overWriteSetter(q,"width",(0,d.getNumberOrAutoValidator)()),s.Factory.overWriteSetter(q,"height",(0,d.getNumberOrAutoValidator)()),s.Factory.addGetterSetter(q,"direction",y),s.Factory.addGetterSetter(q,"fontFamily","Arial"),s.Factory.addGetterSetter(q,"fontSize",12,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(q,"fontStyle",C),s.Factory.addGetterSetter(q,"fontVariant",C),s.Factory.addGetterSetter(q,"padding",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(q,"align",m),s.Factory.addGetterSetter(q,"verticalAlign",U),s.Factory.addGetterSetter(q,"lineHeight",1,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(q,"wrap",O),s.Factory.addGetterSetter(q,"ellipsis",!1,(0,d.getBooleanValidator)()),s.Factory.addGetterSetter(q,"letterSpacing",0,(0,d.getNumberValidator)()),s.Factory.addGetterSetter(q,"text","",(0,d.getStringValidator)()),s.Factory.addGetterSetter(q,"textDecoration",""),On}var Ni={},wh;function B2(){if(wh)return Ni;wh=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.TextPath=void 0;const l=Kt(),s=xt(),b=oe(),S=lo(),d=H0(),h=Nt(),c=At(),u="",g="normal";function y(_){_.fillText(this.partialText,0,0)}function v(_){_.strokeText(this.partialText,0,0)}let E=class extends b.Shape{constructor(f){super(f),this.dummyCanvas=l.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return S.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const m=this.pathLength;return f-1>m?null:S.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=S.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const m=this.textDecoration(),A=this.fill(),N=this.fontSize(),U=this.glyphInfo;m==="underline"&&f.beginPath();for(let p=0;p<U.length;p++){f.save();const o=U[p].p0;f.translate(o.x,o.y),f.rotate(U[p].rotation),this.partialText=U[p].text,f.fillStrokeShape(this),m==="underline"&&(p===0&&f.moveTo(0,N/2+1),f.lineTo(N,N/2+1)),f.restore()}m==="underline"&&(f.strokeStyle=A,f.lineWidth=N/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const m=this.glyphInfo;if(m.length>=1){const A=m[0].p0;f.moveTo(A.x,A.y)}for(let A=0;A<m.length;A++){const N=m[A].p1;f.lineTo(N.x,N.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return l.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return d.Text.prototype.setText.call(this,f)}_getContextFont(){return d.Text.prototype._getContextFont.call(this)}_getTextSize(f){const A=this.dummyCanvas.getContext("2d");A.save(),A.font=this._getContextFont();const N=A.measureText(f);return A.restore(),{width:N.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const A=this.letterSpacing(),N=this.align(),U=this.kerningFunc(),p=Math.max(this.textWidth+((this.attrs.text||"").length-1)*A,0);let o=0;N==="center"&&(o=Math.max(0,this.pathLength/2-p/2)),N==="right"&&(o=Math.max(0,this.pathLength-p));const C=(0,d.stringToArray)(this.text());let x=o;for(let B=0;B<C.length;B++){const P=this._getPointAtLength(x);if(!P)return;let R=this._getTextSize(C[B]).width+A;if(C[B]===" "&&N==="justify"){const Q=this.text().split(" ").length-1;R+=(this.pathLength-p)/Q}const O=this._getPointAtLength(x+R);if(!O)return;const G=S.Path.getLineLength(P.x,P.y,O.x,O.y);let V=0;if(U)try{V=U(C[B-1],C[B])*this.fontSize()}catch{V=0}P.x+=V,O.x+=V,this.textWidth+=V;const j=S.Path.getPointOnLine(V+G/2,P.x,P.y,O.x,O.y),K=Math.atan2(O.y-P.y,O.x-P.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:C[B],rotation:K,p0:P,p1:O}),x+=R}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(x){f.push(x.p0.x),f.push(x.p0.y),f.push(x.p1.x),f.push(x.p1.y)});let m=f[0]||0,A=f[0]||0,N=f[1]||0,U=f[1]||0,p,o;for(let x=0;x<f.length/2;x++)p=f[x*2],o=f[x*2+1],m=Math.min(m,p),A=Math.max(A,p),N=Math.min(N,o),U=Math.max(U,o);const C=this.fontSize();return{x:m-C/2,y:N-C/2,width:A-m+C,height:U-N+C}}destroy(){return l.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ni.TextPath=E,E.prototype._fillFunc=y,E.prototype._strokeFunc=v,E.prototype._fillFuncHit=y,E.prototype._strokeFuncHit=v,E.prototype.className="TextPath",E.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(E),s.Factory.addGetterSetter(E,"data"),s.Factory.addGetterSetter(E,"fontFamily","Arial"),s.Factory.addGetterSetter(E,"fontSize",12,(0,h.getNumberValidator)()),s.Factory.addGetterSetter(E,"fontStyle",g),s.Factory.addGetterSetter(E,"align","left"),s.Factory.addGetterSetter(E,"letterSpacing",0,(0,h.getNumberValidator)()),s.Factory.addGetterSetter(E,"textBaseline","middle"),s.Factory.addGetterSetter(E,"fontVariant",g),s.Factory.addGetterSetter(E,"text",u),s.Factory.addGetterSetter(E,"textDecoration",""),s.Factory.addGetterSetter(E,"kerningFunc",void 0),Ni}var Ri={},Ph;function z2(){if(Ph)return Ri;Ph=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Transformer=void 0;const l=Kt(),s=xt(),b=Zt(),S=oe(),d=z0(),h=no(),c=At(),u=Nt(),g=At(),y="tr-konva",v=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(R=>R+`.${y}`).join(" "),E="nodesRect",_=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in c.Konva._global;function A(R,O,G){if(R==="rotater")return G;O+=l.Util.degToRad(f[R]||0);const V=(l.Util.radToDeg(O)%360+360)%360;return l.Util._inRange(V,315+22.5,360)||l.Util._inRange(V,0,22.5)?"ns-resize":l.Util._inRange(V,45-22.5,45+22.5)?"nesw-resize":l.Util._inRange(V,90-22.5,90+22.5)?"ew-resize":l.Util._inRange(V,135-22.5,135+22.5)?"nwse-resize":l.Util._inRange(V,180-22.5,180+22.5)?"ns-resize":l.Util._inRange(V,225-22.5,225+22.5)?"nesw-resize":l.Util._inRange(V,270-22.5,270+22.5)?"ew-resize":l.Util._inRange(V,315-22.5,315+22.5)?"nwse-resize":(l.Util.error("Transformer has unknown angle for cursor detection: "+V),"pointer")}const N=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function U(R){return{x:R.x+R.width/2*Math.cos(R.rotation)+R.height/2*Math.sin(-R.rotation),y:R.y+R.height/2*Math.cos(R.rotation)+R.width/2*Math.sin(R.rotation)}}function p(R,O,G){const V=G.x+(R.x-G.x)*Math.cos(O)-(R.y-G.y)*Math.sin(O),j=G.y+(R.x-G.x)*Math.sin(O)+(R.y-G.y)*Math.cos(O);return{...R,rotation:R.rotation+O,x:V,y:j}}function o(R,O){const G=U(R);return p(R,O,G)}function C(R,O,G){let V=O;for(let j=0;j<R.length;j++){const K=c.Konva.getAngle(R[j]),Q=Math.abs(K-O)%(Math.PI*2);Math.min(Q,Math.PI*2-Q)<G&&(V=K)}return V}let x=0;class B extends h.Group{constructor(O){super(O),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(v,this.update),this.getNode()&&this.update()}attachTo(O){return this.setNode(O),this}setNode(O){return l.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([O])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return y+this._id}setNodes(O=[]){this._nodes&&this._nodes.length&&this.detach();const G=O.filter(j=>j.isAncestorOf(this)?(l.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=O=G,O.length===1&&this.useSingleNodeRotation()?this.rotation(O[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(j=>{const K=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(j._attrsAffectingSize.length){const Q=j._attrsAffectingSize.map(F=>F+"Change."+this._getEventNamespace()).join(" ");j.on(Q,K)}j.on(_.map(Q=>Q+`.${this._getEventNamespace()}`).join(" "),K),j.on(`absoluteTransformChange.${this._getEventNamespace()}`,K),this._proxyDrag(j)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(O){let G;O.on(`dragstart.${this._getEventNamespace()}`,V=>{G=O.getAbsolutePosition(),!this.isDragging()&&O!==this.findOne(".back")&&this.startDrag(V,!1)}),O.on(`dragmove.${this._getEventNamespace()}`,V=>{if(!G)return;const j=O.getAbsolutePosition(),K=j.x-G.x,Q=j.y-G.y;this.nodes().forEach(F=>{if(F===O||F.isDragging())return;const it=F.getAbsolutePosition();F.setAbsolutePosition({x:it.x+K,y:it.y+Q}),F.startDrag(V)}),G=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(O=>{O.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(E),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(E,this.__getNodeRect)}__getNodeShape(O,G=this.rotation(),V){const j=O.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),K=O.getAbsoluteScale(V),Q=O.getAbsolutePosition(V),F=j.x*K.x-O.offsetX()*K.x,it=j.y*K.y-O.offsetY()*K.y,T=(c.Konva.getAngle(O.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),M={x:Q.x+F*Math.cos(T)+it*Math.sin(-T),y:Q.y+it*Math.cos(T)+F*Math.sin(T),width:j.width*K.x,height:j.height*K.y,rotation:T};return p(M,-c.Konva.getAngle(G),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const G=[];this.nodes().map(T=>{const M=T.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),H=[{x:M.x,y:M.y},{x:M.x+M.width,y:M.y},{x:M.x+M.width,y:M.y+M.height},{x:M.x,y:M.y+M.height}],z=T.getAbsoluteTransform();H.forEach(function(q){const $=z.point(q);G.push($)})});const V=new l.Transform;V.rotate(-c.Konva.getAngle(this.rotation()));let j=1/0,K=1/0,Q=-1/0,F=-1/0;G.forEach(function(T){const M=V.point(T);j===void 0&&(j=Q=M.x,K=F=M.y),j=Math.min(j,M.x),K=Math.min(K,M.y),Q=Math.max(Q,M.x),F=Math.max(F,M.y)}),V.invert();const it=V.point({x:j,y:K});return{x:it.x,y:it.y,width:Q-j,height:F-K,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),N.forEach(O=>{this._createAnchor(O)}),this._createAnchor("rotater")}_createAnchor(O){const G=new d.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:O+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),V=this;G.on("mousedown touchstart",function(j){V._handleMouseDown(j)}),G.on("dragstart",j=>{G.stopDrag(),j.cancelBubble=!0}),G.on("dragend",j=>{j.cancelBubble=!0}),G.on("mouseenter",()=>{const j=c.Konva.getAngle(this.rotation()),K=this.rotateAnchorCursor(),Q=A(O,j,K);G.getStage().content&&(G.getStage().content.style.cursor=Q),this._cursorChange=!0}),G.on("mouseout",()=>{G.getStage().content&&(G.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(G)}_createBack(){const O=new S.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(G,V){const j=V.getParent(),K=j.padding();G.beginPath(),G.rect(-K,-K,V.width()+K*2,V.height()+K*2),G.moveTo(V.width()/2,-K),j.rotateEnabled()&&j.rotateLineVisible()&&G.lineTo(V.width()/2,-j.rotateAnchorOffset()*l.Util._sign(V.height())-K),G.fillStrokeShape(V)},hitFunc:(G,V)=>{if(!this.shouldOverdrawWholeArea())return;const j=this.padding();G.beginPath(),G.rect(-j,-j,V.width()+j*2,V.height()+j*2),G.fillStrokeShape(V)}});this.add(O),this._proxyDrag(O),O.on("dragstart",G=>{G.cancelBubble=!0}),O.on("dragmove",G=>{G.cancelBubble=!0}),O.on("dragend",G=>{G.cancelBubble=!0}),this.on("dragmove",G=>{this.update()})}_handleMouseDown(O){if(this._transforming)return;this._movingAnchorName=O.target.name().split(" ")[0];const G=this._getNodeRect(),V=G.width,j=G.height,K=Math.sqrt(Math.pow(V,2)+Math.pow(j,2));this.sin=Math.abs(j/K),this.cos=Math.abs(V/K),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Q=O.target.getAbsolutePosition(),F=O.target.getStage().getPointerPosition();this._anchorDragOffset={x:F.x-Q.x,y:F.y-Q.y},x++,this._fire("transformstart",{evt:O.evt,target:this.getNode()}),this._nodes.forEach(it=>{it._fire("transformstart",{evt:O.evt,target:it})})}_handleMouseMove(O){let G,V,j;const K=this.findOne("."+this._movingAnchorName),Q=K.getStage();Q.setPointersPositions(O);const F=Q.getPointerPosition();let it={x:F.x-this._anchorDragOffset.x,y:F.y-this._anchorDragOffset.y};const T=K.getAbsolutePosition();this.anchorDragBoundFunc()&&(it=this.anchorDragBoundFunc()(T,it,O)),K.setAbsolutePosition(it);const M=K.getAbsolutePosition();if(T.x===M.x&&T.y===M.y)return;if(this._movingAnchorName==="rotater"){const I=this._getNodeRect();G=K.x()-I.width/2,V=-K.y()+I.height/2;let L=Math.atan2(-V,G)+Math.PI/2;I.height<0&&(L-=Math.PI);const rt=c.Konva.getAngle(this.rotation())+L,ut=c.Konva.getAngle(this.rotationSnapTolerance()),yt=C(this.rotationSnaps(),rt,ut)-I.rotation,_t=o(I,yt);this._fitNodesInto(_t,O);return}const H=this.shiftBehavior();let z;H==="inverted"?z=this.keepRatio()&&!O.shiftKey:H==="none"?z=this.keepRatio():z=this.keepRatio()||O.shiftKey;let q=this.centeredScaling()||O.altKey;if(this._movingAnchorName==="top-left"){if(z){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};j=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(I.y-K.y(),2));const L=this.findOne(".top-left").x()>I.x?-1:1,J=this.findOne(".top-left").y()>I.y?-1:1;G=j*this.cos*L,V=j*this.sin*J,this.findOne(".top-left").x(I.x-G),this.findOne(".top-left").y(I.y-V)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(K.y());else if(this._movingAnchorName==="top-right"){if(z){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};j=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(I.y-K.y(),2));const L=this.findOne(".top-right").x()<I.x?-1:1,J=this.findOne(".top-right").y()>I.y?-1:1;G=j*this.cos*L,V=j*this.sin*J,this.findOne(".top-right").x(I.x+G),this.findOne(".top-right").y(I.y-V)}var $=K.position();this.findOne(".top-left").y($.y),this.findOne(".bottom-right").x($.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(K.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(K.x());else if(this._movingAnchorName==="bottom-left"){if(z){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};j=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(K.y()-I.y,2));const L=I.x<K.x()?-1:1,J=K.y()<I.y?-1:1;G=j*this.cos*L,V=j*this.sin*J,K.x(I.x-G),K.y(I.y+V)}$=K.position(),this.findOne(".top-left").x($.x),this.findOne(".bottom-right").y($.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(K.y());else if(this._movingAnchorName==="bottom-right"){if(z){const I=q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};j=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(K.y()-I.y,2));const L=this.findOne(".bottom-right").x()<I.x?-1:1,J=this.findOne(".bottom-right").y()<I.y?-1:1;G=j*this.cos*L,V=j*this.sin*J,this.findOne(".bottom-right").x(I.x+G),this.findOne(".bottom-right").y(I.y+V)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(q=this.centeredScaling()||O.altKey,q){const I=this.findOne(".top-left"),L=this.findOne(".bottom-right"),J=I.x(),rt=I.y(),ut=this.getWidth()-L.x(),dt=this.getHeight()-L.y();L.move({x:-J,y:-rt}),I.move({x:ut,y:dt})}const Y=this.findOne(".top-left").getAbsolutePosition();G=Y.x,V=Y.y;const tt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ot=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:G,y:V,width:tt,height:ot,rotation:c.Konva.getAngle(this.rotation())},O)}_handleMouseUp(O){this._removeEvents(O)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(O){var G;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const V=this.getNode();x--,this._fire("transformend",{evt:O,target:V}),(G=this.getLayer())===null||G===void 0||G.batchDraw(),V&&this._nodes.forEach(j=>{var K;j._fire("transformend",{evt:O,target:j}),(K=j.getLayer())===null||K===void 0||K.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(O,G){const V=this._getNodeRect(),j=1;if(l.Util._inRange(O.width,-this.padding()*2-j,j)){this.update();return}if(l.Util._inRange(O.height,-this.padding()*2-j,j)){this.update();return}const K=new l.Transform;if(K.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("left")>=0){const z=K.point({x:-this.padding()*2,y:0});O.x+=z.x,O.y+=z.y,O.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y}else if(this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("right")>=0){const z=K.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,O.width+=this.padding()*2}if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("top")>=0){const z=K.point({x:0,y:-this.padding()*2});O.x+=z.x,O.y+=z.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,O.height+=this.padding()*2}else if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const z=K.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=z.x,this._anchorDragOffset.y-=z.y,O.height+=this.padding()*2}if(this.boundBoxFunc()){const z=this.boundBoxFunc()(V,O);z?O=z:l.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Q=1e7,F=new l.Transform;F.translate(V.x,V.y),F.rotate(V.rotation),F.scale(V.width/Q,V.height/Q);const it=new l.Transform,T=O.width/Q,M=O.height/Q;this.flipEnabled()===!1?(it.translate(O.x,O.y),it.rotate(O.rotation),it.translate(O.width<0?O.width:0,O.height<0?O.height:0),it.scale(Math.abs(T),Math.abs(M))):(it.translate(O.x,O.y),it.rotate(O.rotation),it.scale(T,M));const H=it.multiply(F.invert());this._nodes.forEach(z=>{var q;const $=z.getParent().getAbsoluteTransform(),Y=z.getTransform().copy();Y.translate(z.offsetX(),z.offsetY());const tt=new l.Transform;tt.multiply($.copy().invert()).multiply(H).multiply($).multiply(Y);const ot=tt.decompose();z.setAttrs(ot),(q=z.getLayer())===null||q===void 0||q.batchDraw()}),this.rotation(l.Util._getRotation(O.rotation)),this._nodes.forEach(z=>{this._fire("transform",{evt:G,target:z}),z._fire("transform",{evt:G,target:z})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(O,G){this.findOne(O).setAttrs(G)}update(){var O;const G=this._getNodeRect();this.rotation(l.Util._getRotation(G.rotation));const V=G.width,j=G.height,K=this.enabledAnchors(),Q=this.resizeEnabled(),F=this.padding(),it=this.anchorSize(),T=this.find("._anchor");T.forEach(H=>{H.setAttrs({width:it,height:it,offsetX:it/2,offsetY:it/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:it/2+F,offsetY:it/2+F,visible:Q&&K.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:V/2,y:0,offsetY:it/2+F,visible:Q&&K.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:V,y:0,offsetX:it/2-F,offsetY:it/2+F,visible:Q&&K.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:j/2,offsetX:it/2+F,visible:Q&&K.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:V,y:j/2,offsetX:it/2-F,visible:Q&&K.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:j,offsetX:it/2+F,offsetY:it/2-F,visible:Q&&K.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:V/2,y:j,offsetY:it/2-F,visible:Q&&K.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:V,y:j,offsetX:it/2-F,offsetY:it/2-F,visible:Q&&K.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:V/2,y:-this.rotateAnchorOffset()*l.Util._sign(j)-F,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:V,height:j,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const M=this.anchorStyleFunc();M&&T.forEach(H=>{M(H)}),(O=this.getLayer())===null||O===void 0||O.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const O=this.findOne("."+this._movingAnchorName);O&&O.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),h.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return b.Node.prototype.toObject.call(this)}clone(O){return b.Node.prototype.clone.call(this,O)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Ri.Transformer=B,B.isTransforming=()=>x>0;function P(R){return R instanceof Array||l.Util.warn("enabledAnchors value should be an array"),R instanceof Array&&R.forEach(function(O){N.indexOf(O)===-1&&l.Util.warn("Unknown anchor name: "+O+". Available names are: "+N.join(", "))}),R||[]}return B.prototype.className="Transformer",(0,g._registerNode)(B),s.Factory.addGetterSetter(B,"enabledAnchors",N,P),s.Factory.addGetterSetter(B,"flipEnabled",!0,(0,u.getBooleanValidator)()),s.Factory.addGetterSetter(B,"resizeEnabled",!0),s.Factory.addGetterSetter(B,"anchorSize",10,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"rotateEnabled",!0),s.Factory.addGetterSetter(B,"rotateLineVisible",!0),s.Factory.addGetterSetter(B,"rotationSnaps",[]),s.Factory.addGetterSetter(B,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"rotateAnchorCursor","crosshair"),s.Factory.addGetterSetter(B,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"borderEnabled",!0),s.Factory.addGetterSetter(B,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(B,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"anchorFill","white"),s.Factory.addGetterSetter(B,"anchorCornerRadius",0,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(B,"borderStrokeWidth",1,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"borderDash"),s.Factory.addGetterSetter(B,"keepRatio",!0),s.Factory.addGetterSetter(B,"shiftBehavior","default"),s.Factory.addGetterSetter(B,"centeredScaling",!1),s.Factory.addGetterSetter(B,"ignoreStroke",!1),s.Factory.addGetterSetter(B,"padding",0,(0,u.getNumberValidator)()),s.Factory.addGetterSetter(B,"nodes"),s.Factory.addGetterSetter(B,"node"),s.Factory.addGetterSetter(B,"boundBoxFunc"),s.Factory.addGetterSetter(B,"anchorDragBoundFunc"),s.Factory.addGetterSetter(B,"anchorStyleFunc"),s.Factory.addGetterSetter(B,"shouldOverdrawWholeArea",!1),s.Factory.addGetterSetter(B,"useSingleNodeRotation",!0),s.Factory.backCompat(B,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ri}var Mi={},jh;function H2(){if(jh)return Mi;jh=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Wedge=void 0;const l=xt(),s=oe(),b=At(),S=Nt(),d=At();let h=class extends s.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.radius(),0,b.Konva.getAngle(this.angle()),this.clockwise()),u.lineTo(0,0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius(u/2)}setHeight(u){this.radius(u/2)}};return Mi.Wedge=h,h.prototype.className="Wedge",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radius"],(0,d._registerNode)(h),l.Factory.addGetterSetter(h,"radius",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"angle",0,(0,S.getNumberValidator)()),l.Factory.addGetterSetter(h,"clockwise",!1),l.Factory.backCompat(h,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Mi}var Oi={},Fh;function L2(){if(Fh)return Oi;Fh=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Blur=void 0;const l=xt(),s=Zt(),b=Nt();function S(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const d=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(g,y){const v=g.data,E=g.width,_=g.height;let f,m,A,N,U,p,o,C,x,B,P,R,O,G,V,j,K,Q,F,it;const T=y+y+1,M=E-1,H=_-1,z=y+1,q=z*(z+1)/2,$=new S,Y=d[y],tt=h[y];let ot=null,I=$,L=null,J=null;for(let rt=1;rt<T;rt++)I=I.next=new S,rt===z&&(ot=I);I.next=$,A=m=0;for(let rt=0;rt<_;rt++){R=O=G=V=N=U=p=o=0,C=z*(j=v[m]),x=z*(K=v[m+1]),B=z*(Q=v[m+2]),P=z*(F=v[m+3]),N+=q*j,U+=q*K,p+=q*Q,o+=q*F,I=$;for(let ut=0;ut<z;ut++)I.r=j,I.g=K,I.b=Q,I.a=F,I=I.next;for(let ut=1;ut<z;ut++)f=m+((M<ut?M:ut)<<2),N+=(I.r=j=v[f])*(it=z-ut),U+=(I.g=K=v[f+1])*it,p+=(I.b=Q=v[f+2])*it,o+=(I.a=F=v[f+3])*it,R+=j,O+=K,G+=Q,V+=F,I=I.next;L=$,J=ot;for(let ut=0;ut<E;ut++)v[m+3]=F=o*Y>>tt,F!==0?(F=255/F,v[m]=(N*Y>>tt)*F,v[m+1]=(U*Y>>tt)*F,v[m+2]=(p*Y>>tt)*F):v[m]=v[m+1]=v[m+2]=0,N-=C,U-=x,p-=B,o-=P,C-=L.r,x-=L.g,B-=L.b,P-=L.a,f=A+((f=ut+y+1)<M?f:M)<<2,R+=L.r=v[f],O+=L.g=v[f+1],G+=L.b=v[f+2],V+=L.a=v[f+3],N+=R,U+=O,p+=G,o+=V,L=L.next,C+=j=J.r,x+=K=J.g,B+=Q=J.b,P+=F=J.a,R-=j,O-=K,G-=Q,V-=F,J=J.next,m+=4;A+=E}for(let rt=0;rt<E;rt++){O=G=V=R=U=p=o=N=0,m=rt<<2,C=z*(j=v[m]),x=z*(K=v[m+1]),B=z*(Q=v[m+2]),P=z*(F=v[m+3]),N+=q*j,U+=q*K,p+=q*Q,o+=q*F,I=$;for(let dt=0;dt<z;dt++)I.r=j,I.g=K,I.b=Q,I.a=F,I=I.next;let ut=E;for(let dt=1;dt<=y;dt++)m=ut+rt<<2,N+=(I.r=j=v[m])*(it=z-dt),U+=(I.g=K=v[m+1])*it,p+=(I.b=Q=v[m+2])*it,o+=(I.a=F=v[m+3])*it,R+=j,O+=K,G+=Q,V+=F,I=I.next,dt<H&&(ut+=E);m=rt,L=$,J=ot;for(let dt=0;dt<_;dt++)f=m<<2,v[f+3]=F=o*Y>>tt,F>0?(F=255/F,v[f]=(N*Y>>tt)*F,v[f+1]=(U*Y>>tt)*F,v[f+2]=(p*Y>>tt)*F):v[f]=v[f+1]=v[f+2]=0,N-=C,U-=x,p-=B,o-=P,C-=L.r,x-=L.g,B-=L.b,P-=L.a,f=rt+((f=dt+z)<H?f:H)*E<<2,N+=R+=L.r=v[f],U+=O+=L.g=v[f+1],p+=G+=L.b=v[f+2],o+=V+=L.a=v[f+3],L=L.next,C+=j=J.r,x+=K=J.g,B+=Q=J.b,P+=F=J.a,R-=j,O-=K,G-=Q,V-=F,J=J.next,m+=E}}const u=function(y){const v=Math.round(this.blurRadius());v>0&&c(y,v)};return Oi.Blur=u,l.Factory.addGetterSetter(s.Node,"blurRadius",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Oi}var Di={},Yh;function V2(){if(Yh)return Di;Yh=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.Brighten=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=this.brightness()*255,c=d.data,u=c.length;for(let g=0;g<u;g+=4)c[g]+=h,c[g+1]+=h,c[g+2]+=h};return Di.Brighten=S,l.Factory.addGetterSetter(s.Node,"brightness",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Di}var Gi={},Kh;function q2(){if(Kh)return Gi;Kh=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Contrast=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=Math.pow((this.contrast()+100)/100,2),c=d.data,u=c.length;let g=150,y=150,v=150;for(let E=0;E<u;E+=4)g=c[E],y=c[E+1],v=c[E+2],g/=255,g-=.5,g*=h,g+=.5,g*=255,y/=255,y-=.5,y*=h,y+=.5,y*=255,v/=255,v-=.5,v*=h,v+=.5,v*=255,g=g<0?0:g>255?255:g,y=y<0?0:y>255?255:y,v=v<0?0:v>255?255:v,c[E]=g,c[E+1]=y,c[E+2]=v};return Gi.Contrast=S,l.Factory.addGetterSetter(s.Node,"contrast",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Gi}var Ui={},Xh;function w2(){if(Xh)return Ui;Xh=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Emboss=void 0;const l=xt(),s=Zt(),b=Kt(),S=Nt(),d=function(h){const c=this.embossStrength()*10,u=this.embossWhiteLevel()*255,g=this.embossDirection(),y=this.embossBlend(),v=h.data,E=h.width,_=h.height,f=E*4;let m=0,A=0,N=_;switch(g){case"top-left":m=-1,A=-1;break;case"top":m=-1,A=0;break;case"top-right":m=-1,A=1;break;case"right":m=0,A=1;break;case"bottom-right":m=1,A=1;break;case"bottom":m=1,A=0;break;case"bottom-left":m=1,A=-1;break;case"left":m=0,A=-1;break;default:b.Util.error("Unknown emboss direction: "+g)}do{const U=(N-1)*f;let p=m;N+p<1&&(p=0),N+p>_&&(p=0);const o=(N-1+p)*E*4;let C=E;do{const x=U+(C-1)*4;let B=A;C+B<1&&(B=0),C+B>E&&(B=0);const P=o+(C-1+B)*4,R=v[x]-v[P],O=v[x+1]-v[P+1],G=v[x+2]-v[P+2];let V=R;const j=V>0?V:-V,K=O>0?O:-O,Q=G>0?G:-G;if(K>j&&(V=O),Q>j&&(V=G),V*=c,y){const F=v[x]+V,it=v[x+1]+V,T=v[x+2]+V;v[x]=F>255?255:F<0?0:F,v[x+1]=it>255?255:it<0?0:it,v[x+2]=T>255?255:T<0?0:T}else{let F=u-V;F<0?F=0:F>255&&(F=255),v[x]=v[x+1]=v[x+2]=F}}while(--C)}while(--N)};return Ui.Emboss=d,l.Factory.addGetterSetter(s.Node,"embossStrength",.5,(0,S.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"embossWhiteLevel",.5,(0,S.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"embossDirection","top-left",void 0,l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"embossBlend",!1,void 0,l.Factory.afterSetFilter),Ui}var Bi={},Qh;function P2(){if(Qh)return Bi;Qh=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Enhance=void 0;const l=xt(),s=Zt(),b=Nt();function S(h,c,u,g,y){const v=u-c,E=y-g;if(v===0)return g+E/2;if(E===0)return g;let _=(h-c)/v;return _=E*_+g,_}const d=function(h){const c=h.data,u=c.length;let g=c[0],y=g,v,E=c[1],_=E,f,m=c[2],A=m,N;const U=this.enhance();if(U===0)return;for(let R=0;R<u;R+=4)v=c[R+0],v<g?g=v:v>y&&(y=v),f=c[R+1],f<E?E=f:f>_&&(_=f),N=c[R+2],N<m?m=N:N>A&&(A=N);y===g&&(y=255,g=0),_===E&&(_=255,E=0),A===m&&(A=255,m=0);let p,o,C,x,B,P;if(U>0)p=y+U*(255-y),o=g-U*(g-0),C=_+U*(255-_),x=E-U*(E-0),B=A+U*(255-A),P=m-U*(m-0);else{const R=(y+g)*.5;p=y+U*(y-R),o=g+U*(g-R);const O=(_+E)*.5;C=_+U*(_-O),x=E+U*(E-O);const G=(A+m)*.5;B=A+U*(A-G),P=m+U*(m-G)}for(let R=0;R<u;R+=4)c[R+0]=S(c[R+0],g,y,o,p),c[R+1]=S(c[R+1],E,_,x,C),c[R+2]=S(c[R+2],m,A,P,B)};return Bi.Enhance=d,l.Factory.addGetterSetter(s.Node,"enhance",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Bi}var zi={},Zh;function j2(){if(Zh)return zi;Zh=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Grayscale=void 0;const l=function(s){const b=s.data,S=b.length;for(let d=0;d<S;d+=4){const h=.34*b[d]+.5*b[d+1]+.16*b[d+2];b[d]=h,b[d+1]=h,b[d+2]=h}};return zi.Grayscale=l,zi}var Hi={},Jh;function F2(){if(Jh)return Hi;Jh=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.HSL=void 0;const l=xt(),s=Zt(),b=Nt();l.Factory.addGetterSetter(s.Node,"hue",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"saturation",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"luminance",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter);const S=function(d){const h=d.data,c=h.length,u=1,g=Math.pow(2,this.saturation()),y=Math.abs(this.hue()+360)%360,v=this.luminance()*127,E=u*g*Math.cos(y*Math.PI/180),_=u*g*Math.sin(y*Math.PI/180),f=.299*u+.701*E+.167*_,m=.587*u-.587*E+.33*_,A=.114*u-.114*E-.497*_,N=.299*u-.299*E-.328*_,U=.587*u+.413*E+.035*_,p=.114*u-.114*E+.293*_,o=.299*u-.3*E+1.25*_,C=.587*u-.586*E-1.05*_,x=.114*u+.886*E-.2*_;let B,P,R,O;for(let G=0;G<c;G+=4)B=h[G+0],P=h[G+1],R=h[G+2],O=h[G+3],h[G+0]=f*B+m*P+A*R+v,h[G+1]=N*B+U*P+p*R+v,h[G+2]=o*B+C*P+x*R+v,h[G+3]=O};return Hi.HSL=S,Hi}var Li={},kh;function Y2(){if(kh)return Li;kh=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.HSV=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=d.data,c=h.length,u=Math.pow(2,this.value()),g=Math.pow(2,this.saturation()),y=Math.abs(this.hue()+360)%360,v=u*g*Math.cos(y*Math.PI/180),E=u*g*Math.sin(y*Math.PI/180),_=.299*u+.701*v+.167*E,f=.587*u-.587*v+.33*E,m=.114*u-.114*v-.497*E,A=.299*u-.299*v-.328*E,N=.587*u+.413*v+.035*E,U=.114*u-.114*v+.293*E,p=.299*u-.3*v+1.25*E,o=.587*u-.586*v-1.05*E,C=.114*u+.886*v-.2*E;for(let x=0;x<c;x+=4){const B=h[x+0],P=h[x+1],R=h[x+2],O=h[x+3];h[x+0]=_*B+f*P+m*R,h[x+1]=A*B+N*P+U*R,h[x+2]=p*B+o*P+C*R,h[x+3]=O}};return Li.HSV=S,l.Factory.addGetterSetter(s.Node,"hue",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"saturation",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"value",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Li}var Vi={},Wh;function K2(){if(Wh)return Vi;Wh=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Invert=void 0;const l=function(s){const b=s.data,S=b.length;for(let d=0;d<S;d+=4)b[d]=255-b[d],b[d+1]=255-b[d+1],b[d+2]=255-b[d+2]};return Vi.Invert=l,Vi}var qi={},Ih;function X2(){if(Ih)return qi;Ih=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Kaleidoscope=void 0;const l=xt(),s=Zt(),b=Kt(),S=Nt(),d=function(u,g,y){const v=u.data,E=g.data,_=u.width,f=u.height,m=y.polarCenterX||_/2,A=y.polarCenterY||f/2;let N=Math.sqrt(m*m+A*A),U=_-m,p=f-A;const o=Math.sqrt(U*U+p*p);N=o>N?o:N;const C=f,x=_,B=360/x*Math.PI/180;for(let P=0;P<x;P+=1){const R=Math.sin(P*B),O=Math.cos(P*B);for(let G=0;G<C;G+=1){U=Math.floor(m+N*G/C*O),p=Math.floor(A+N*G/C*R);let V=(p*_+U)*4;const j=v[V+0],K=v[V+1],Q=v[V+2],F=v[V+3];V=(P+G*_)*4,E[V+0]=j,E[V+1]=K,E[V+2]=Q,E[V+3]=F}}},h=function(u,g,y){const v=u.data,E=g.data,_=u.width,f=u.height,m=y.polarCenterX||_/2,A=y.polarCenterY||f/2;let N=Math.sqrt(m*m+A*A),U=_-m,p=f-A;const o=Math.sqrt(U*U+p*p);N=o>N?o:N;const C=f,x=_,B=0;let P,R;for(U=0;U<_;U+=1)for(p=0;p<f;p+=1){const O=U-m,G=p-A,V=Math.sqrt(O*O+G*G)*C/N;let j=(Math.atan2(G,O)*180/Math.PI+360+B)%360;j=j*x/360,P=Math.floor(j),R=Math.floor(V);let K=(R*_+P)*4;const Q=v[K+0],F=v[K+1],it=v[K+2],T=v[K+3];K=(p*_+U)*4,E[K+0]=Q,E[K+1]=F,E[K+2]=it,E[K+3]=T}},c=function(u){const g=u.width,y=u.height;let v,E,_,f,m,A,N,U,p,o,C=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),B=Math.floor(g*(x%360)/360);if(C<1)return;const P=b.Util.createCanvasElement();P.width=g,P.height=y;const R=P.getContext("2d").getImageData(0,0,g,y);b.Util.releaseCanvas(P),d(u,R,{polarCenterX:g/2,polarCenterY:y/2});let O=g/Math.pow(2,C);for(;O<=8;)O=O*2,C-=1;O=Math.ceil(O);let G=O,V=0,j=G,K=1;for(B+O>g&&(V=G,j=0,K=-1),E=0;E<y;E+=1)for(v=V;v!==j;v+=K)_=Math.round(v+B)%g,p=(g*E+_)*4,m=R.data[p+0],A=R.data[p+1],N=R.data[p+2],U=R.data[p+3],o=(g*E+v)*4,R.data[o+0]=m,R.data[o+1]=A,R.data[o+2]=N,R.data[o+3]=U;for(E=0;E<y;E+=1)for(G=Math.floor(O),f=0;f<C;f+=1){for(v=0;v<G+1;v+=1)p=(g*E+v)*4,m=R.data[p+0],A=R.data[p+1],N=R.data[p+2],U=R.data[p+3],o=(g*E+G*2-v-1)*4,R.data[o+0]=m,R.data[o+1]=A,R.data[o+2]=N,R.data[o+3]=U;G*=2}h(R,u,{})};return qi.Kaleidoscope=c,l.Factory.addGetterSetter(s.Node,"kaleidoscopePower",2,(0,S.getNumberValidator)(),l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"kaleidoscopeAngle",0,(0,S.getNumberValidator)(),l.Factory.afterSetFilter),qi}var wi={},$h;function Q2(){if($h)return wi;$h=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Mask=void 0;const l=xt(),s=Zt(),b=Nt();function S(_,f,m){let A=(m*_.width+f)*4;const N=[];return N.push(_.data[A++],_.data[A++],_.data[A++],_.data[A++]),N}function d(_,f){return Math.sqrt(Math.pow(_[0]-f[0],2)+Math.pow(_[1]-f[1],2)+Math.pow(_[2]-f[2],2))}function h(_){const f=[0,0,0];for(let m=0;m<_.length;m++)f[0]+=_[m][0],f[1]+=_[m][1],f[2]+=_[m][2];return f[0]/=_.length,f[1]/=_.length,f[2]/=_.length,f}function c(_,f){const m=S(_,0,0),A=S(_,_.width-1,0),N=S(_,0,_.height-1),U=S(_,_.width-1,_.height-1),p=f||10;if(d(m,A)<p&&d(A,U)<p&&d(U,N)<p&&d(N,m)<p){const o=h([A,m,U,N]),C=[];for(let x=0;x<_.width*_.height;x++){const B=d(o,[_.data[x*4],_.data[x*4+1],_.data[x*4+2]]);C[x]=B<p?0:255}return C}}function u(_,f){for(let m=0;m<_.width*_.height;m++)_.data[4*m+3]=f[m]}function g(_,f,m){const A=[1,1,1,1,0,1,1,1,1],N=Math.round(Math.sqrt(A.length)),U=Math.floor(N/2),p=[];for(let o=0;o<m;o++)for(let C=0;C<f;C++){const x=o*f+C;let B=0;for(let P=0;P<N;P++)for(let R=0;R<N;R++){const O=o+P-U,G=C+R-U;if(O>=0&&O<m&&G>=0&&G<f){const V=O*f+G,j=A[P*N+R];B+=_[V]*j}}p[x]=B===255*8?255:0}return p}function y(_,f,m){const A=[1,1,1,1,1,1,1,1,1],N=Math.round(Math.sqrt(A.length)),U=Math.floor(N/2),p=[];for(let o=0;o<m;o++)for(let C=0;C<f;C++){const x=o*f+C;let B=0;for(let P=0;P<N;P++)for(let R=0;R<N;R++){const O=o+P-U,G=C+R-U;if(O>=0&&O<m&&G>=0&&G<f){const V=O*f+G,j=A[P*N+R];B+=_[V]*j}}p[x]=B>=255*4?255:0}return p}function v(_,f,m){const A=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],N=Math.round(Math.sqrt(A.length)),U=Math.floor(N/2),p=[];for(let o=0;o<m;o++)for(let C=0;C<f;C++){const x=o*f+C;let B=0;for(let P=0;P<N;P++)for(let R=0;R<N;R++){const O=o+P-U,G=C+R-U;if(O>=0&&O<m&&G>=0&&G<f){const V=O*f+G,j=A[P*N+R];B+=_[V]*j}}p[x]=B}return p}const E=function(_){const f=this.threshold();let m=c(_,f);return m&&(m=g(m,_.width,_.height),m=y(m,_.width,_.height),m=v(m,_.width,_.height),u(_,m)),_};return wi.Mask=E,l.Factory.addGetterSetter(s.Node,"threshold",0,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),wi}var Pi={},t0;function Z2(){if(t0)return Pi;t0=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Noise=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=this.noise()*255,c=d.data,u=c.length,g=h/2;for(let y=0;y<u;y+=4)c[y+0]+=g-2*g*Math.random(),c[y+1]+=g-2*g*Math.random(),c[y+2]+=g-2*g*Math.random()};return Pi.Noise=S,l.Factory.addGetterSetter(s.Node,"noise",.2,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Pi}var ji={},e0;function J2(){if(e0)return ji;e0=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.Pixelate=void 0;const l=xt(),s=Kt(),b=Zt(),S=Nt(),d=function(h){let c=Math.ceil(this.pixelSize()),u=h.width,g=h.height,y=Math.ceil(u/c),v=Math.ceil(g/c),E=h.data;if(c<=0){s.Util.error("pixelSize value can not be <= 0");return}for(let _=0;_<y;_+=1)for(let f=0;f<v;f+=1){let m=0,A=0,N=0,U=0;const p=_*c,o=p+c,C=f*c,x=C+c;let B=0;for(let P=p;P<o;P+=1)if(!(P>=u))for(let R=C;R<x;R+=1){if(R>=g)continue;const O=(u*R+P)*4;m+=E[O+0],A+=E[O+1],N+=E[O+2],U+=E[O+3],B+=1}m=m/B,A=A/B,N=N/B,U=U/B;for(let P=p;P<o;P+=1)if(!(P>=u))for(let R=C;R<x;R+=1){if(R>=g)continue;const O=(u*R+P)*4;E[O+0]=m,E[O+1]=A,E[O+2]=N,E[O+3]=U}}};return ji.Pixelate=d,l.Factory.addGetterSetter(b.Node,"pixelSize",8,(0,S.getNumberValidator)(),l.Factory.afterSetFilter),ji}var Fi={},a0;function k2(){if(a0)return Fi;a0=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Posterize=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=Math.round(this.levels()*254)+1,c=d.data,u=c.length,g=255/h;for(let y=0;y<u;y+=1)c[y]=Math.floor(c[y]/g)*g};return Fi.Posterize=S,l.Factory.addGetterSetter(s.Node,"levels",.5,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Fi}var Yi={},n0;function W2(){if(n0)return Yi;n0=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.RGB=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=d.data,c=h.length,u=this.red(),g=this.green(),y=this.blue();for(let v=0;v<c;v+=4){const E=(.34*h[v]+.5*h[v+1]+.16*h[v+2])/255;h[v]=E*u,h[v+1]=E*g,h[v+2]=E*y,h[v+3]=h[v+3]}};return Yi.RGB=S,l.Factory.addGetterSetter(s.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),l.Factory.addGetterSetter(s.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),l.Factory.addGetterSetter(s.Node,"blue",0,b.RGBComponent,l.Factory.afterSetFilter),Yi}var Ki={},i0;function I2(){if(i0)return Ki;i0=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.RGBA=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=d.data,c=h.length,u=this.red(),g=this.green(),y=this.blue(),v=this.alpha();for(let E=0;E<c;E+=4){const _=1-v;h[E]=u*v+h[E]*_,h[E+1]=g*v+h[E+1]*_,h[E+2]=y*v+h[E+2]*_}};return Ki.RGBA=S,l.Factory.addGetterSetter(s.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),l.Factory.addGetterSetter(s.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),l.Factory.addGetterSetter(s.Node,"blue",0,b.RGBComponent,l.Factory.afterSetFilter),l.Factory.addGetterSetter(s.Node,"alpha",1,function(d){return this._filterUpToDate=!1,d>1?1:d<0?0:d}),Ki}var Xi={},l0;function $2(){if(l0)return Xi;l0=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Sepia=void 0;const l=function(s){const b=s.data,S=b.length;for(let d=0;d<S;d+=4){const h=b[d+0],c=b[d+1],u=b[d+2];b[d+0]=Math.min(255,h*.393+c*.769+u*.189),b[d+1]=Math.min(255,h*.349+c*.686+u*.168),b[d+2]=Math.min(255,h*.272+c*.534+u*.131)}};return Xi.Sepia=l,Xi}var Qi={},s0;function tg(){if(s0)return Qi;s0=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Solarize=void 0;const l=function(s){const b=s.data,S=s.width,d=s.height,h=S*4;let c=d;do{const u=(c-1)*h;let g=S;do{const y=u+(g-1)*4;let v=b[y],E=b[y+1],_=b[y+2];v>127&&(v=255-v),E>127&&(E=255-E),_>127&&(_=255-_),b[y]=v,b[y+1]=E,b[y+2]=_}while(--g)}while(--c)};return Qi.Solarize=l,Qi}var Zi={},r0;function eg(){if(r0)return Zi;r0=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Threshold=void 0;const l=xt(),s=Zt(),b=Nt(),S=function(d){const h=this.threshold()*255,c=d.data,u=c.length;for(let g=0;g<u;g+=1)c[g]=c[g]<h?0:255};return Zi.Threshold=S,l.Factory.addGetterSetter(s.Node,"threshold",.5,(0,b.getNumberValidator)(),l.Factory.afterSetFilter),Zi}var o0;function ag(){if(o0)return oi;o0=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Konva=void 0;const l=Wr(),s=A2(),b=T2(),S=x2(),d=N2(),h=R2(),c=M2(),u=B0(),g=lo(),y=z0(),v=O2(),E=D2(),_=G2(),f=U2(),m=H0(),A=B2(),N=z2(),U=H2(),p=L2(),o=V2(),C=q2(),x=w2(),B=P2(),P=j2(),R=F2(),O=Y2(),G=K2(),V=X2(),j=Q2(),K=Z2(),Q=J2(),F=k2(),it=W2(),T=I2(),M=$2(),H=tg(),z=eg();return oi.Konva=l.Konva.Util._assign(l.Konva,{Arc:s.Arc,Arrow:b.Arrow,Circle:S.Circle,Ellipse:d.Ellipse,Image:h.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:g.Path,Rect:y.Rect,RegularPolygon:v.RegularPolygon,Ring:E.Ring,Sprite:_.Sprite,Star:f.Star,Text:m.Text,TextPath:A.TextPath,Transformer:N.Transformer,Wedge:U.Wedge,Filters:{Blur:p.Blur,Brighten:o.Brighten,Contrast:C.Contrast,Emboss:x.Emboss,Enhance:B.Enhance,Grayscale:P.Grayscale,HSL:R.HSL,HSV:O.HSV,Invert:G.Invert,Kaleidoscope:V.Kaleidoscope,Mask:j.Mask,Noise:K.Noise,Pixelate:Q.Pixelate,Posterize:F.Posterize,RGB:it.RGB,RGBA:T.RGBA,Sepia:M.Sepia,Solarize:H.Solarize,Threshold:z.Threshold}}),oi}var ng=Ql.exports,u0;function ig(){if(u0)return Ql.exports;u0=1,Object.defineProperty(ng,"__esModule",{value:!0});const l=ag();return Ql.exports=l.Konva,Ql.exports}var lg=ig();const sg=Ir(lg);var jl={exports:{}},c0;function rg(){return c0||(c0=1,function(l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Konva=void 0;var b=Wr();Object.defineProperty(s,"Konva",{enumerable:!0,get:function(){return b.Konva}});const S=Wr();l.exports=S.Konva}(jl,jl.exports)),jl.exports}var og=rg();const kl=Ir(og);var Xr={exports:{}},Qr={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function ug(){return h0||(h0=1,function(l){l.exports=function(s){function b(t,e,a,n){return new md(t,e,a,n)}function S(){}function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function c(t){if(h(t)!==t)throw Error(d(188))}function u(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(d(188));return e!==t?null:t}for(var a=t,n=e;;){var i=a.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===a)return c(i),t;if(r===n)return c(i),e;r=r.sibling}throw Error(d(188))}if(a.return!==n.return)a=i,n=r;else{for(var D=!1,w=i.child;w;){if(w===a){D=!0,a=i,n=r;break}if(w===n){D=!0,n=i,a=r;break}w=w.sibling}if(!D){for(w=r.child;w;){if(w===a){D=!0,a=r,n=i;break}if(w===n){D=!0,n=r,a=i;break}w=w.sibling}if(!D)throw Error(d(189))}}if(a.alternate!==n)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?t:e}function g(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g(t),e!==null)return e;t=t.sibling}return null}function y(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=y(t),e!==null))return e;t=t.sibling}return null}function v(t){return t===null||typeof t!="object"?null:(t=pc&&t[pc]||t["@@iterator"],typeof t=="function"?t:null)}function E(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bd?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rn:return"Fragment";case ir:return"Profiler";case gc:return"StrictMode";case sr:return"Suspense";case rr:return"SuspenseList";case ur:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case sn:return"Portal";case Aa:return(t.displayName||"Context")+".Provider";case mc:return(t._context.displayName||"Context")+".Consumer";case lr:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case or:return e=t.displayName||null,e!==null?e:E(t.type)||"Memo";case Ea:e=t._payload,t=t._init;try{return E(t(e))}catch{}}return null}function _(t){return{current:t}}function f(t){0>cn||(t.current=gr[cn],gr[cn]=null,cn--)}function m(t,e){cn++,gr[cn]=t.current,t.current=e}function A(t){return t>>>=0,t===0?32:31-(qf(t)/wf|0)|0}function N(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function U(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,D=t.pingedLanes;t=t.warmLanes;var w=n&134217727;return w!==0?(n=w&~r,n!==0?i=N(n):(D&=w,D!==0?i=N(D):a||(a=w&~t,a!==0&&(i=N(a))))):(w=n&~r,w!==0?i=N(w):D!==0?i=N(D):a||(a=n&~t,a!==0&&(i=N(a)))),i===0?0:e!==0&&e!==i&&(e&r)===0&&(r=i&-i,a=e&-e,r>=a||r===32&&(a&4194048)!==0)?e:i}function p(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function o(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(){var t=bl;return bl<<=1,(bl&4194048)===0&&(bl=256),t}function x(){var t=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),t}function B(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function P(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function R(t,e,a,n,i,r){var D=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,nt=t.hiddenUpdates;for(a=D&~a;0<a;){var st=31-Ue(a),ct=1<<st;w[st]=0,k[st]=-1;var ht=nt[st];if(ht!==null)for(nt[st]=null,st=0;st<ht.length;st++){var bt=ht[st];bt!==null&&(bt.lane&=-536870913)}a&=~ct}n!==0&&O(t,n,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(D&~e))}function O(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ue(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&4194090}function G(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-Ue(a),i=1<<n;i&e|t[n]&e&&(t[n]|=e),a&=~i}}function V(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function j(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function K(t){if(typeof Kf=="function"&&Xf(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Wn,t)}catch{}}function Q(t){if(vr===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);vr=e&&e[1]||"",Pc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+t+Pc}function F(t,e){if(!t||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(bt){var ht=bt}Reflect.construct(t,[],ct)}else{try{ct.call()}catch(bt){ht=bt}t.call(ct.prototype)}}else{try{throw Error()}catch(bt){ht=bt}(ct=t())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(bt){if(bt&&ht&&typeof bt.stack=="string")return[bt.stack,ht.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),D=r[0],w=r[1];if(D&&w){var k=D.split(`
`),nt=w.split(`
`);for(i=n=0;n<k.length&&!k[n].includes("DetermineComponentFrameRoot");)n++;for(;i<nt.length&&!nt[i].includes("DetermineComponentFrameRoot");)i++;if(n===k.length||i===nt.length)for(n=k.length-1,i=nt.length-1;1<=n&&0<=i&&k[n]!==nt[i];)i--;for(;1<=n&&0<=i;n--,i--)if(k[n]!==nt[i]){if(n!==1||i!==1)do if(n--,i--,0>i||k[n]!==nt[i]){var st=`
`+k[n].replace(" at new "," at ");return t.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",t.displayName)),st}while(1<=n&&0<=i);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Q(a):""}function it(t){switch(t.tag){case 26:case 27:case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return F(t.type,!1);case 11:return F(t.type.render,!1);case 1:return F(t.type,!0);case 31:return Q("Activity");default:return""}}function T(t){try{var e="";do e+=it(t),t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function M(t,e){if(typeof t=="object"&&t!==null){var a=jc.get(t);return a!==void 0?a:(e={value:t,source:e,stack:T(e)},jc.set(t,e),e)}return{value:t,source:e,stack:T(e)}}function H(t,e){dn[fn++]=Tl,dn[fn++]=El,El=t,Tl=e}function z(t,e,a){qe[we++]=sa,qe[we++]=ra,qe[we++]=Ya,Ya=t;var n=sa;t=ra;var i=32-Ue(n)-1;n&=~(1<<i),a+=1;var r=32-Ue(e)+i;if(30<r){var D=i-i%5;r=(n&(1<<D)-1).toString(32),n>>=D,i-=D,sa=1<<32-Ue(e)+i|a<<i|n,ra=r+t}else sa=1<<r|a<<i|n,ra=t}function q(t){t.return!==null&&(H(t,1),z(t,1,0))}function $(t){for(;t===El;)El=dn[--fn],dn[fn]=null,Tl=dn[--fn],dn[fn]=null;for(;t===Ya;)Ya=qe[--we],qe[we]=null,ra=qe[--we],qe[we]=null,sa=qe[--we],qe[we]=null}function Y(t,e){m(xa,e),m(In,t),m(fe,null),t=Ed(e),f(fe),m(fe,t)}function tt(){f(fe),f(In),f(xa)}function ot(t){t.memoizedState!==null&&m(xl,t);var e=fe.current,a=Td(e,t.type);e!==a&&(m(In,t),m(fe,a))}function I(t){In.current===t&&(f(fe),f(In)),xl.current===t&&(f(xl),ia?Fa._currentValue=on:Fa._currentValue2=on)}function L(t){var e=Error(d(418,""));throw _t(M(e,t)),_r}function J(t,e){if(!Ve)throw Error(d(175));Af(t.stateNode,t.type,t.memoizedProps,e,t)||L(t)}function rt(t){for(ye=t.return;ye;)switch(ye.tag){case 5:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:ye=ye.return}}function ut(t){if(!Ve||t!==ye)return!1;if(!Bt)return rt(t),Bt=!0,!1;var e=t.tag;if(te?e!==3&&e!==27&&(e!==5||Mc(t.type)&&!Sl(t.type,t.memoizedProps))&&ee&&L(t):e!==3&&(e!==5||Mc(t.type)&&!Sl(t.type,t.memoizedProps))&&ee&&L(t),rt(t),e===13){if(!Ve)throw Error(d(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));ee=xf(t)}else ee=te&&e===27?mf(t.type,ee):ye?Rc(t.stateNode):null;return!0}function dt(){Ve&&(ee=ye=null,Bt=!1)}function yt(){var t=Ka;return t!==null&&(Ae===null?Ae=t:Ae.push.apply(Ae,t),Ka=null),t}function _t(t){Ka===null?Ka=[t]:Ka.push(t)}function Gt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function gt(t,e,a){ia?(m(Nl,e._currentValue),e._currentValue=a):(m(Nl,e._currentValue2),e._currentValue2=a)}function Vt(t){var e=Nl.current;ia?t._currentValue=e:t._currentValue2=e,f(Nl)}function Ut(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function wt(t,e,a,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var D=i.child;r=r.firstContext;t:for(;r!==null;){var w=r;r=i;for(var k=0;k<e.length;k++)if(w.context===e[k]){r.lanes|=a,w=r.alternate,w!==null&&(w.lanes|=a),Ut(r.return,a,t),n||(D=null);break t}r=w.next}}else if(i.tag===18){if(D=i.return,D===null)throw Error(d(341));D.lanes|=a,r=D.alternate,r!==null&&(r.lanes|=a),Ut(D,a,t),D=null}else D=i.child;if(D!==null)D.return=i;else for(D=i;D!==null;){if(D===t){D=null;break}if(i=D.sibling,i!==null){i.return=D.return,D=i;break}D=D.return}i=D}}function Le(t,e,a,n){t=null;for(var i=e,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var D=i.alternate;if(D===null)throw Error(d(387));if(D=D.memoizedProps,D!==null){var w=i.type;ze(i.pendingProps.value,D.value)||(t!==null?t.push(w):t=[w])}}else if(i===xl.current){if(D=i.alternate,D===null)throw Error(d(387));D.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Fa):t=[Fa])}i=i.return}t!==null&&wt(e,t,a,n),e.flags|=262144}function ue(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!ze(ia?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function xe(t){Xa=t,oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return Ne(Xa,t)}function me(t,e){return Xa===null&&xe(t),Ne(t,e)}function Ne(t,e){var a=ia?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:a,next:null},oa===null){if(t===null)throw Error(d(308));oa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else oa=oa.next=e;return a}function Ke(){return{controller:new Qf,data:new Map,refCount:0}}function Jt(t){t.refCount--,t.refCount===0&&Zf(Jf,function(){t.controller.abort()})}function $t(t){t!==gn&&t.next===null&&(gn===null?Rl=gn=t:gn=gn.next=t),Ml=!0,Sr||(Sr=!0,$a())}function ne(t,e){if(!br&&Ml){br=!0;do for(var a=!1,n=Rl;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var r=0;else{var D=n.suspendedLanes,w=n.pingedLanes;r=(1<<31-Ue(42|t)+1)-1,r&=i&~(D&~w),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Un(n,r))}else r=Mt,r=U(n,n===qt?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==ja),(r&3)===0||p(n,r)||(a=!0,Un(n,r));n=n.next}while(a);br=!1}}function Re(){ce()}function ce(){Ml=Sr=!1;var t=0;mn!==0&&(Bd()&&(t=mn),mn=0);for(var e=Ze(),a=null,n=Rl;n!==null;){var i=n.next,r=he(n,e);r===0?(n.next=null,a===null?Rl=i:a.next=i,i===null&&(gn=a)):(a=n,(t!==0||(r&3)!==0)&&(Ml=!0)),n=i}ne(t)}function he(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var D=31-Ue(r),w=1<<D,k=i[D];k===-1?((w&a)===0||(w&n)!==0)&&(i[D]=o(w,e)):k<=e&&(t.expiredLanes|=w),r&=~w}if(e=qt,a=Mt,a=U(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==ja),n=t.callbackNode,a===0||t===e&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&mr(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||p(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&mr(n),j(a)){case 2:case 8:a=Ff;break;case 32:a=pr;break;case 268435456:a=Yf;break;default:a=pr}return n=ga.bind(null,t),a=Al(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&mr(n),t.callbackPriority=2,t.callbackNode=null,2}function ga(t,e){if(ge!==0&&ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qn()&&t.callbackNode!==a)return null;var n=Mt;return n=U(t,t===qt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==ja),n===0?null:(Yu(t,n,e),he(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?ga.bind(null,t):null)}function Un(t,e){if(Qn())return null;Yu(t,e,!0)}function $a(){wd?Pd(function(){(Rt&6)!==0?Al(wc,Re):ce()}):Al(wc,Re)}function Bn(){return mn===0&&(mn=C()),mn}function ns(t,e){if($n===null){var a=$n=[];Cr=0,pn=Bn(),vn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Cr++,e.then(uo,uo),e}function uo(){if(--Cr===0&&$n!==null){vn!==null&&(vn.status="fulfilled");var t=$n;$n=null,pn=0,vn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function J0(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<a.length;i++)(0,a[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}function is(){var t=Qa.current;return t!==null?t:qt.pooledCache}function ki(t,e){e===null?m(Qa,Qa.current):m(Qa,e.pool)}function co(){var t=is();return t===null?null:{parent:ia?Ft._currentValue:Ft._currentValue2,pool:t}}function Wi(t,e){if(ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!kf.call(e,i)||!ze(t[i],e[i]))return!1}return!0}function ho(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ii(){}function fo(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(Ii,Ii),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mo(t),t;default:if(typeof e.status=="string")e.then(Ii,Ii);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mo(t),t}throw yn=e,ti}}function go(){if(yn===null)throw Error(d(459));var t=yn;return yn=null,t}function mo(t){if(t===ti||t===Ol)throw Error(d(483))}function $i(){for(var t=_n,e=Er=_n=0;e<t;){var a=Pe[e];Pe[e++]=null;var n=Pe[e];Pe[e++]=null;var i=Pe[e];Pe[e++]=null;var r=Pe[e];if(Pe[e++]=null,n!==null&&i!==null){var D=n.pending;D===null?i.next=i:(i.next=D.next,D.next=i),n.pending=i}r!==0&&po(a,i,r)}}function tl(t,e,a,n){Pe[_n++]=t,Pe[_n++]=e,Pe[_n++]=a,Pe[_n++]=n,Er|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function ls(t,e,a,n){return tl(t,e,a,n),el(t)}function tn(t,e){return tl(t,null,null,e),el(t)}function po(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var i=!1,r=t.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-Ue(a),t=r.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=a|536870912),r):null}function el(t){if(50<si)throw si=0,zr=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function ss(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ma(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pa(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Rt&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=el(t),po(t,null,a),e}return tl(t,n,e,a),el(t)}function zn(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,G(t,a)}}function os(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var D={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?i=r=D:r=r.next=D,a=a.next}while(a!==null);r===null?i=r=e:r=r.next=e}else i=r=e;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function Hn(){if(Tr){var t=vn;if(t!==null)throw t}}function Ln(t,e,a,n){Tr=!1;var i=t.updateQueue;Na=!1;var r=i.firstBaseUpdate,D=i.lastBaseUpdate,w=i.shared.pending;if(w!==null){i.shared.pending=null;var k=w,nt=k.next;k.next=null,D===null?r=nt:D.next=nt,D=k;var st=t.alternate;st!==null&&(st=st.updateQueue,w=st.lastBaseUpdate,w!==D&&(w===null?st.firstBaseUpdate=nt:w.next=nt,st.lastBaseUpdate=k))}if(r!==null){var ct=i.baseState;D=0,st=nt=k=null,w=r;do{var ht=w.lane&-536870913,bt=ht!==w.lane;if(bt?(Mt&ht)===ht:(n&ht)===ht){ht!==0&&ht===pn&&(Tr=!0),st!==null&&(st=st.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Ye=t,ri=w;ht=e;var ka=a;switch(ri.tag){case 1:if(Ye=ri.payload,typeof Ye=="function"){ct=Ye.call(ka,ct,ht);break t}ct=Ye;break t;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=ri.payload,ht=typeof Ye=="function"?Ye.call(ka,ct,ht):Ye,ht==null)break t;ct=nr({},ct,ht);break t;case 2:Na=!0}}ht=w.callback,ht!==null&&(t.flags|=64,bt&&(t.flags|=8192),bt=i.callbacks,bt===null?i.callbacks=[ht]:bt.push(ht))}else bt={lane:ht,tag:w.tag,payload:w.payload,callback:w.callback,next:null},st===null?(nt=st=bt,k=ct):st=st.next=bt,D|=ht;if(w=w.next,w===null){if(w=i.shared.pending,w===null)break;bt=w,w=bt.next,bt.next=null,i.lastBaseUpdate=bt,i.shared.pending=null}}while(!0);st===null&&(k=ct),i.baseState=k,i.firstBaseUpdate=nt,i.lastBaseUpdate=st,r===null&&(i.shared.lanes=0),Oa|=D,t.lanes=D,t.memoizedState=ct}}function vo(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function yo(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vo(a[t],e)}function _o(t,e){t=ca,m(Gl,t),m(Sn,e),ca=t|e.baseLanes}function us(){m(Gl,ca),m(Sn,Sn.current)}function cs(){ca=Gl.current,f(Sn),f(Gl)}function Xt(){throw Error(d(321))}function hs(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!ze(t[a],e[a]))return!1;return!0}function ds(t,e,a,n,i,r){return Ra=r,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mt.H=t===null||t.memoizedState===null?Yc:Kc,Za=!1,r=a(n,i),Za=!1,bn&&(r=bo(e,a,n,i)),So(t),r}function So(t){mt.H=zl;var e=Lt!==null&&Lt.next!==null;if(Ra=0,Wt=Lt=Ct=null,Ul=!1,ei=0,Cn=null,e)throw Error(d(300));t===null||le||(t=t.dependencies,t!==null&&ue(t)&&(le=!0))}function bo(t,e,a,n){Ct=t;var i=0;do{if(bn&&(Cn=null),ei=0,bn=!1,25<=i)throw Error(d(301));if(i+=1,Wt=Lt=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}mt.H=If,r=e(a,n)}while(bn);return r}function k0(){var t=mt.H,e=t.useState()[0];return e=typeof e.then=="function"?Vn(e):e,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(Ct.flags|=1024),e}function fs(){var t=Bl!==0;return Bl=0,t}function gs(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function ms(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}Ra=0,Wt=Lt=Ct=null,bn=!1,ei=Bl=0,Cn=null}function Se(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ct.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function kt(){if(Lt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Wt===null?Ct.memoizedState:Wt.next;if(e!==null)Wt=e,Lt=t;else{if(t===null)throw Ct.alternate===null?Error(d(467)):Error(d(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?Ct.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vn(t){var e=ei;return ei+=1,Cn===null&&(Cn=[]),t=fo(Cn,t,e),e=Ct,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,mt.H=e===null||e.memoizedState===null?Yc:Kc),t}function al(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vn(t);if(t.$$typeof===Aa)return St(t)}throw Error(d(438,String(t)))}function vs(t){var e=null,a=Ct.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=Ct.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=ps(),Ct.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=Sd;return e.index++,a}function ta(t,e){return typeof e=="function"?e(t):e}function nl(t){var e=kt();return ys(e,Lt,t)}function ys(t,e,a){var n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=a;var i=t.baseQueue,r=n.pending;if(r!==null){if(i!==null){var D=i.next;i.next=r.next,r.next=D}e.baseQueue=i=r,n.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var w=D=null,k=null,nt=e,st=!1;do{var ct=nt.lane&-536870913;if(ct!==nt.lane?(Mt&ct)===ct:(Ra&ct)===ct){var ht=nt.revertLane;if(ht===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),ct===pn&&(st=!0);else if((Ra&ht)===ht){nt=nt.next,ht===pn&&(st=!0);continue}else ct={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(w=k=ct,D=r):k=k.next=ct,Ct.lanes|=ht,Oa|=ht;ct=nt.action,Za&&a(r,ct),r=nt.hasEagerState?nt.eagerState:a(r,ct)}else ht={lane:ct,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(w=k=ht,D=r):k=k.next=ht,Ct.lanes|=ct,Oa|=ct;nt=nt.next}while(nt!==null&&nt!==e);if(k===null?D=r:k.next=w,!ze(r,t.memoizedState)&&(le=!0,st&&(a=vn,a!==null)))throw a;t.memoizedState=r,t.baseState=D,t.baseQueue=k,n.lastRenderedState=r}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function _s(t){var e=kt(),a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=t;var n=a.dispatch,i=a.pending,r=e.memoizedState;if(i!==null){a.pending=null;var D=i=i.next;do r=t(r,D.action),D=D.next;while(D!==i);ze(r,e.memoizedState)||(le=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),a.lastRenderedState=r}return[r,n]}function Co(t,e,a){var n=Ct,i=kt(),r=Bt;if(r){if(a===void 0)throw Error(d(407));a=a()}else a=e();var D=!ze((Lt||i).memoizedState,a);D&&(i.memoizedState=a,le=!0),i=i.queue;var w=To.bind(null,n,i,t);if(qn(2048,8,w,[t]),i.getSnapshot!==e||D||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,en(9,il(),Eo.bind(null,n,i,a,e),null),qt===null)throw Error(d(349));r||(Ra&124)!==0||Ao(n,e,a)}return a}function Ao(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=Ct.updateQueue,e===null?(e=ps(),Ct.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function Eo(t,e,a,n){e.value=a,e.getSnapshot=n,xo(e)&&No(t)}function To(t,e,a){return a(function(){xo(e)&&No(t)})}function xo(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!ze(t,a)}catch{return!0}}function No(t){var e=tn(t,2);e!==null&&De(e,t,2)}function Ss(t){var e=Se();if(typeof t=="function"){var a=t;if(t=a(),Za){K(!0);try{a()}finally{K(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e}function Ro(t,e,a,n){return t.baseState=a,ys(t,Lt,typeof n=="function"?n:ta)}function W0(t,e,a,n,i){if(sl(t))throw Error(d(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){r.listeners.push(D)}};mt.T!==null?a(!0):r.isTransition=!1,n(r),a=e.pending,a===null?(r.next=e.pending=r,Mo(e,r)):(r.next=a.next,e.pending=a.next=r)}}function Mo(t,e){var a=e.action,n=e.payload,i=t.state;if(e.isTransition){var r=mt.T,D={};mt.T=D;try{var w=a(i,n),k=mt.S;k!==null&&k(D,w),Oo(t,e,w)}catch(nt){bs(t,e,nt)}finally{mt.T=r}}else try{r=a(i,n),Oo(t,e,r)}catch(nt){bs(t,e,nt)}}function Oo(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Do(t,e,n)},function(n){return bs(t,e,n)}):Do(t,e,a)}function Do(t,e,a){e.status="fulfilled",e.value=a,Go(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,Mo(t,a)))}function bs(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,Go(e),e=e.next;while(e!==n)}t.action=null}function Go(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Uo(t,e){return e}function Bo(t,e){if(Bt){var a=qt.formState;if(a!==null){t:{var n=Ct;if(Bt){if(ee){var i=ff(ee,Ie);if(i){ee=Rc(i),n=gf(i);break t}}L(n)}n=!1}n&&(e=a[0])}}a=Se(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},a.queue=n,a=Io.bind(null,Ct,n),n.dispatch=a,n=Ss(!1);var r=Ts.bind(null,Ct,!1,n.queue);return n=Se(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,a=W0.bind(null,Ct,i,r,a),i.dispatch=a,n.memoizedState=t,[e,a,!1]}function zo(t){var e=kt();return Ho(e,Lt,t)}function Ho(t,e,a){if(e=ys(t,e,Uo)[0],t=nl(ta)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Vn(e)}catch(D){throw D===ti?Ol:D}else n=e;e=kt();var i=e.queue,r=i.dispatch;return a!==e.memoizedState&&(Ct.flags|=2048,en(9,il(),I0.bind(null,i,a),null)),[n,r,t]}function I0(t,e){t.action=e}function Lo(t){var e=kt(),a=Lt;if(a!==null)return Ho(e,a,t);kt(),e=e.memoizedState,a=kt();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function en(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=ps(),Ct.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function il(){return{destroy:void 0,resource:void 0}}function Vo(){return kt().memoizedState}function ll(t,e,a,n){var i=Se();n=n===void 0?null:n,Ct.flags|=t,i.memoizedState=en(1|e,il(),a,n)}function qn(t,e,a,n){var i=kt();n=n===void 0?null:n;var r=i.memoizedState.inst;Lt!==null&&n!==null&&hs(n,Lt.memoizedState.deps)?i.memoizedState=en(e,r,a,n):(Ct.flags|=t,i.memoizedState=en(1|e,r,a,n))}function qo(t,e){ll(8390656,8,t,e)}function wo(t,e){qn(2048,8,t,e)}function Po(t,e){return qn(4,2,t,e)}function jo(t,e){return qn(4,4,t,e)}function Fo(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yo(t,e,a){a=a!=null?a.concat([t]):null,qn(4,4,Fo.bind(null,e,t),a)}function Cs(){}function Ko(t,e){var a=kt();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&hs(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function Xo(t,e){var a=kt();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&hs(e,n[1]))return n[0];if(n=t(),Za){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[n,e],n}function As(t,e,a){return a===void 0||(Ra&1073741824)!==0?t.memoizedState=e:(t.memoizedState=a,t=Fu(),Ct.lanes|=t,Oa|=t,a)}function Qo(t,e,a,n){return ze(a,e)?a:Sn.current!==null?(t=As(t,a,n),ze(t,e)||(le=!0),t):(Ra&42)===0?(le=!0,t.memoizedState=a):(t=Fu(),Ct.lanes|=t,Oa|=t,e)}function Zo(t,e,a,n,i){var r=la();ie(r!==0&&8>r?r:8);var D=mt.T,w={};mt.T=w,Ts(t,!1,e,a);try{var k=i(),nt=mt.S;if(nt!==null&&nt(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var st=J0(k,n);wn(t,e,st,Oe(t))}else wn(t,e,n,Oe(t))}catch(ct){wn(t,e,{then:function(){},status:"rejected",reason:ct},Oe())}finally{ie(r),mt.T=D}}function Jo(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:on,baseState:on,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:on},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Es(){return St(Fa)}function ko(){return kt().memoizedState}function Wo(){return kt().memoizedState}function $0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Oe();t=ma(a);var n=pa(e,t,a);n!==null&&(De(n,e,a),zn(n,e,a)),e={cache:Ke()},t.payload=e;return}e=e.return}}function td(t,e,a){var n=Oe();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sl(t)?$o(e,a):(a=ls(t,e,a,n),a!==null&&(De(a,t,n),tu(a,e,n)))}function Io(t,e,a){var n=Oe();wn(t,e,a,n)}function wn(t,e,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sl(t))$o(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var D=e.lastRenderedState,w=r(D,a);if(i.hasEagerState=!0,i.eagerState=w,ze(w,D))return tl(t,e,i,0),qt===null&&$i(),!1}catch{}finally{}if(a=ls(t,e,i,n),a!==null)return De(a,t,n),tu(a,e,n),!0}return!1}function Ts(t,e,a,n){if(n={lane:2,revertLane:Bn(),action:n,hasEagerState:!1,eagerState:null,next:null},sl(t)){if(e)throw Error(d(479))}else e=ls(t,a,n,2),e!==null&&De(e,t,2)}function sl(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function $o(t,e){bn=Ul=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function tu(t,e,a){if((a&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,G(t,a)}}function rl(t){var e=ai;return ai+=1,An===null&&(An=[]),fo(An,t,e)}function Pn(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ol(t,e){throw e.$$typeof===yd?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function eu(t){var e=t._init;return e(t._payload)}function au(t){function e(Z,X){if(t){var W=Z.deletions;W===null?(Z.deletions=[X],Z.flags|=16):W.push(X)}}function a(Z,X){if(!t)return null;for(;X!==null;)e(Z,X),X=X.sibling;return null}function n(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function i(Z,X){return Z=na(Z,X),Z.index=0,Z.sibling=null,Z}function r(Z,X,W){return Z.index=W,t?(W=Z.alternate,W!==null?(W=W.index,W<X?(Z.flags|=67108866,X):W):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function D(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function w(Z,X,W,lt){return X===null||X.tag!==6?(X=tr(W,Z.mode,lt),X.return=Z,X):(X=i(X,W),X.return=Z,X)}function k(Z,X,W,lt){var ft=W.type;return ft===rn?st(Z,X,W.props.children,lt,W.key):X!==null&&(X.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Ea&&eu(ft)===X.type)?(X=i(X,W.props),Pn(X,W),X.return=Z,X):(X=vl(W.type,W.key,W.props,null,Z.mode,lt),Pn(X,W),X.return=Z,X)}function nt(Z,X,W,lt){return X===null||X.tag!==4||X.stateNode.containerInfo!==W.containerInfo||X.stateNode.implementation!==W.implementation?(X=er(W,Z.mode,lt),X.return=Z,X):(X=i(X,W.children||[]),X.return=Z,X)}function st(Z,X,W,lt,ft){return X===null||X.tag!==7?(X=Pa(W,Z.mode,lt,ft),X.return=Z,X):(X=i(X,W),X.return=Z,X)}function ct(Z,X,W){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=tr(""+X,Z.mode,W),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case yl:return W=vl(X.type,X.key,X.props,null,Z.mode,W),Pn(W,X),W.return=Z,W;case sn:return X=er(X,Z.mode,W),X.return=Z,X;case Ea:var lt=X._init;return X=lt(X._payload),ct(Z,X,W)}if(_l(X)||v(X))return X=Pa(X,Z.mode,W,null),X.return=Z,X;if(typeof X.then=="function")return ct(Z,rl(X),W);if(X.$$typeof===Aa)return ct(Z,me(Z,X),W);ol(Z,X)}return null}function ht(Z,X,W,lt){var ft=X!==null?X.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ft!==null?null:w(Z,X,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case yl:return W.key===ft?k(Z,X,W,lt):null;case sn:return W.key===ft?nt(Z,X,W,lt):null;case Ea:return ft=W._init,W=ft(W._payload),ht(Z,X,W,lt)}if(_l(W)||v(W))return ft!==null?null:st(Z,X,W,lt,null);if(typeof W.then=="function")return ht(Z,X,rl(W),lt);if(W.$$typeof===Aa)return ht(Z,X,me(Z,W),lt);ol(Z,W)}return null}function bt(Z,X,W,lt,ft){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Z=Z.get(W)||null,w(X,Z,""+lt,ft);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case yl:return Z=Z.get(lt.key===null?W:lt.key)||null,k(X,Z,lt,ft);case sn:return Z=Z.get(lt.key===null?W:lt.key)||null,nt(X,Z,lt,ft);case Ea:var Pt=lt._init;return lt=Pt(lt._payload),bt(Z,X,W,lt,ft)}if(_l(lt)||v(lt))return Z=Z.get(W)||null,st(X,Z,lt,ft,null);if(typeof lt.then=="function")return bt(Z,X,W,rl(lt),ft);if(lt.$$typeof===Aa)return bt(Z,X,W,me(X,lt),ft);ol(X,lt)}return null}function Ye(Z,X,W,lt){for(var ft=null,Pt=null,vt=X,Ot=X=0,re=null;vt!==null&&Ot<W.length;Ot++){vt.index>Ot?(re=vt,vt=null):re=vt.sibling;var Dt=ht(Z,vt,W[Ot],lt);if(Dt===null){vt===null&&(vt=re);break}t&&vt&&Dt.alternate===null&&e(Z,vt),X=r(Dt,X,Ot),Pt===null?ft=Dt:Pt.sibling=Dt,Pt=Dt,vt=re}if(Ot===W.length)return a(Z,vt),Bt&&H(Z,Ot),ft;if(vt===null){for(;Ot<W.length;Ot++)vt=ct(Z,W[Ot],lt),vt!==null&&(X=r(vt,X,Ot),Pt===null?ft=vt:Pt.sibling=vt,Pt=vt);return Bt&&H(Z,Ot),ft}for(vt=n(vt);Ot<W.length;Ot++)re=bt(vt,Z,Ot,W[Ot],lt),re!==null&&(t&&re.alternate!==null&&vt.delete(re.key===null?Ot:re.key),X=r(re,X,Ot),Pt===null?ft=re:Pt.sibling=re,Pt=re);return t&&vt.forEach(function(Ua){return e(Z,Ua)}),Bt&&H(Z,Ot),ft}function ri(Z,X,W,lt){if(W==null)throw Error(d(151));for(var ft=null,Pt=null,vt=X,Ot=X=0,re=null,Dt=W.next();vt!==null&&!Dt.done;Ot++,Dt=W.next()){vt.index>Ot?(re=vt,vt=null):re=vt.sibling;var Ua=ht(Z,vt,Dt.value,lt);if(Ua===null){vt===null&&(vt=re);break}t&&vt&&Ua.alternate===null&&e(Z,vt),X=r(Ua,X,Ot),Pt===null?ft=Ua:Pt.sibling=Ua,Pt=Ua,vt=re}if(Dt.done)return a(Z,vt),Bt&&H(Z,Ot),ft;if(vt===null){for(;!Dt.done;Ot++,Dt=W.next())Dt=ct(Z,Dt.value,lt),Dt!==null&&(X=r(Dt,X,Ot),Pt===null?ft=Dt:Pt.sibling=Dt,Pt=Dt);return Bt&&H(Z,Ot),ft}for(vt=n(vt);!Dt.done;Ot++,Dt=W.next())Dt=bt(vt,Z,Ot,Dt.value,lt),Dt!==null&&(t&&Dt.alternate!==null&&vt.delete(Dt.key===null?Ot:Dt.key),X=r(Dt,X,Ot),Pt===null?ft=Dt:Pt.sibling=Dt,Pt=Dt);return t&&vt.forEach(function(e1){return e(Z,e1)}),Bt&&H(Z,Ot),ft}function ka(Z,X,W,lt){if(typeof W=="object"&&W!==null&&W.type===rn&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case yl:t:{for(var ft=W.key;X!==null;){if(X.key===ft){if(ft=W.type,ft===rn){if(X.tag===7){a(Z,X.sibling),lt=i(X,W.props.children),lt.return=Z,Z=lt;break t}}else if(X.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Ea&&eu(ft)===X.type){a(Z,X.sibling),lt=i(X,W.props),Pn(lt,W),lt.return=Z,Z=lt;break t}a(Z,X);break}else e(Z,X);X=X.sibling}W.type===rn?(lt=Pa(W.props.children,Z.mode,lt,W.key),lt.return=Z,Z=lt):(lt=vl(W.type,W.key,W.props,null,Z.mode,lt),Pn(lt,W),lt.return=Z,Z=lt)}return D(Z);case sn:t:{for(ft=W.key;X!==null;){if(X.key===ft)if(X.tag===4&&X.stateNode.containerInfo===W.containerInfo&&X.stateNode.implementation===W.implementation){a(Z,X.sibling),lt=i(X,W.children||[]),lt.return=Z,Z=lt;break t}else{a(Z,X);break}else e(Z,X);X=X.sibling}lt=er(W,Z.mode,lt),lt.return=Z,Z=lt}return D(Z);case Ea:return ft=W._init,W=ft(W._payload),ka(Z,X,W,lt)}if(_l(W))return Ye(Z,X,W,lt);if(v(W)){if(ft=v(W),typeof ft!="function")throw Error(d(150));return W=ft.call(W),ri(Z,X,W,lt)}if(typeof W.then=="function")return ka(Z,X,rl(W),lt);if(W.$$typeof===Aa)return ka(Z,X,me(Z,W),lt);ol(Z,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,X!==null&&X.tag===6?(a(Z,X.sibling),lt=i(X,W),lt.return=Z,Z=lt):(a(Z,X),lt=tr(W,Z.mode,lt),lt.return=Z,Z=lt),D(Z)):a(Z,X)}return function(Z,X,W,lt){try{ai=0;var ft=ka(Z,X,W,lt);return An=null,ft}catch(vt){if(vt===ti||vt===Ol)throw vt;var Pt=b(29,vt,null,Z.mode);return Pt.lanes=lt,Pt.return=Z,Pt}finally{}}}function va(t){var e=t.alternate;m(ae,ae.current&1),m(je,t),$e===null&&(e===null||Sn.current!==null||e.memoizedState!==null)&&($e=t)}function nu(t){if(t.tag===22){if(m(ae,ae.current),m(je,t),$e===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&($e=t)}}else ya()}function ya(){m(ae,ae.current),m(je,je.current)}function ea(t){f(je),$e===t&&($e=null),f(ae)}function ul(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hr(a)||dr(a)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function xs(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:nr({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}function iu(t,e,a,n,i,r,D){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,D):e.prototype&&e.prototype.isPureReactComponent?!Wi(a,n)||!Wi(i,r):!0}function lu(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&xr.enqueueReplaceState(e,e.state,null)}function Va(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=nr({},a));for(var i in t)a[i]===void 0&&(a[i]=t[i])}return a}function cl(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function su(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ns(t,e,a){return a=ma(a),a.tag=3,a.payload={element:null},a.callback=function(){cl(t,e)},a}function ru(t){return t=ma(t),t.tag=3,t}function ou(t,e,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var r=n.value;t.payload=function(){return i(r)},t.callback=function(){su(e,a,n)}}var D=a.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(t.callback=function(){su(e,a,n),typeof i!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})})}function ed(t,e,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&Le(e,a,i,!0),a=je.current,a!==null){switch(a.tag){case 13:return $e===null?ks():a.alternate===null&&Yt===0&&(Yt=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Dl?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),Is(t,n,i)),!1;case 22:return a.flags|=65536,n===Dl?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),Is(t,n,i)),!1}throw Error(d(435,a.tag))}return Is(t,n,i),ks(),!1}if(Bt)return e=je.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==_r&&(t=Error(d(422),{cause:n}),_t(M(t,a)))):(n!==_r&&(e=Error(d(423),{cause:n}),_t(M(e,a))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=M(n,a),i=Ns(t.stateNode,n,i),os(t,i),Yt!==4&&(Yt=2)),!1;var r=Error(d(520),{cause:n});if(r=M(r,a),ii===null?ii=[r]:ii.push(r),Yt!==4&&(Yt=2),e===null)return!0;n=M(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=i&-i,a.lanes|=t,t=Ns(a.stateNode,n,t),os(a,t),!1;case 1:if(e=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Da===null||!Da.has(r))))return a.flags|=65536,i&=-i,a.lanes|=i,i=ru(i),ou(i,t,a,n),os(a,i),!1}a=a.return}while(a!==null);return!1}function de(t,e,a,n){e.child=t===null?Xc(e,null,a,n):En(e,t.child,a,n)}function uu(t,e,a,n,i){a=a.render;var r=e.ref;if("ref"in n){var D={};for(var w in n)w!=="ref"&&(D[w]=n[w])}else D=n;return xe(e),n=ds(t,e,a,D,r,i),w=fs(),t!==null&&!le?(gs(t,e,i),aa(t,e,i)):(Bt&&w&&q(e),e.flags|=1,de(t,e,n,i),e.child)}function cu(t,e,a,n,i){if(t===null){var r=a.type;return typeof r=="function"&&!$s(r)&&r.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=r,hu(t,e,r,n,i)):(t=vl(a.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Bs(t,i)){var D=r.memoizedProps;if(a=a.compare,a=a!==null?a:Wi,a(D,n)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=na(r,n),t.ref=e.ref,t.return=e,e.child=t}function hu(t,e,a,n,i){if(t!==null){var r=t.memoizedProps;if(Wi(r,n)&&t.ref===e.ref)if(le=!1,e.pendingProps=n=r,Bs(t,i))(t.flags&131072)!==0&&(le=!0);else return e.lanes=t.lanes,aa(t,e,i)}return Rs(t,e,a,n,i)}function du(t,e,a){var n=e.pendingProps,i=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=r!==null?r.baseLanes|a:a,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;e.childLanes=r&~n}else e.childLanes=0,e.child=null;return fu(t,e,n,a)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ki(e,r!==null?r.cachePool:null),r!==null?_o(e,r):us(),nu(e);else return e.lanes=e.childLanes=536870912,fu(t,e,r!==null?r.baseLanes|a:a,a)}else r!==null?(ki(e,r.cachePool),_o(e,r),ya(),e.memoizedState=null):(t!==null&&ki(e,null),us(),ya());return de(t,e,i,a),e.child}function fu(t,e,a,n){var i=is();return i=i===null?null:{parent:ia?Ft._currentValue:Ft._currentValue2,pool:i},e.memoizedState={baseLanes:a,cachePool:i},t!==null&&ki(e,null),us(),nu(e),t!==null&&Le(t,e,n,!0),null}function hl(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function Rs(t,e,a,n,i){return xe(e),a=ds(t,e,a,n,void 0,i),n=fs(),t!==null&&!le?(gs(t,e,i),aa(t,e,i)):(Bt&&n&&q(e),e.flags|=1,de(t,e,a,i),e.child)}function gu(t,e,a,n,i,r){return xe(e),e.updateQueue=null,a=bo(e,n,a,i),So(t),n=fs(),t!==null&&!le?(gs(t,e,r),aa(t,e,r)):(Bt&&n&&q(e),e.flags|=1,de(t,e,a,r),e.child)}function mu(t,e,a,n,i){if(xe(e),e.stateNode===null){var r=hn,D=a.contextType;typeof D=="object"&&D!==null&&(r=St(D)),r=new a(n,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xr,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=n,r.state=e.memoizedState,r.refs={},ss(e),D=a.contextType,r.context=typeof D=="object"&&D!==null?St(D):hn,r.state=e.memoizedState,D=a.getDerivedStateFromProps,typeof D=="function"&&(xs(e,a,D,n),r.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(D=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),D!==r.state&&xr.enqueueReplaceState(r,r.state,null),Ln(e,n,r,i),Hn(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){r=e.stateNode;var w=e.memoizedProps,k=Va(a,w);r.props=k;var nt=r.context,st=a.contextType;D=hn,typeof st=="object"&&st!==null&&(D=St(st));var ct=a.getDerivedStateFromProps;st=typeof ct=="function"||typeof r.getSnapshotBeforeUpdate=="function",w=e.pendingProps!==w,st||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(w||nt!==D)&&lu(e,r,n,D),Na=!1;var ht=e.memoizedState;r.state=ht,Ln(e,n,r,i),Hn(),nt=e.memoizedState,w||ht!==nt||Na?(typeof ct=="function"&&(xs(e,a,ct,n),nt=e.memoizedState),(k=Na||iu(e,a,k,n,ht,nt,D))?(st||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=nt),r.props=n,r.state=nt,r.context=D,n=k):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{r=e.stateNode,rs(t,e),D=e.memoizedProps,st=Va(a,D),r.props=st,ct=e.pendingProps,ht=r.context,nt=a.contextType,k=hn,typeof nt=="object"&&nt!==null&&(k=St(nt)),w=a.getDerivedStateFromProps,(nt=typeof w=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(D!==ct||ht!==k)&&lu(e,r,n,k),Na=!1,ht=e.memoizedState,r.state=ht,Ln(e,n,r,i),Hn();var bt=e.memoizedState;D!==ct||ht!==bt||Na||t!==null&&t.dependencies!==null&&ue(t.dependencies)?(typeof w=="function"&&(xs(e,a,w,n),bt=e.memoizedState),(st=Na||iu(e,a,st,n,ht,bt,k)||t!==null&&t.dependencies!==null&&ue(t.dependencies))?(nt||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,bt,k),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,bt,k)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||D===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=bt),r.props=n,r.state=bt,r.context=k,n=st):(typeof r.componentDidUpdate!="function"||D===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),n=!1)}return r=n,hl(t,e),n=(e.flags&128)!==0,r||n?(r=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&n?(e.child=En(e,t.child,null,i),e.child=En(e,null,a,i)):de(t,e,a,i),e.memoizedState=r.state,t=e.child):t=aa(t,e,i),t}function pu(t,e,a,n){return dt(),e.flags|=256,de(t,e,a,n),e.child}function Ms(t){return{baseLanes:t,cachePool:co()}}function Os(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=Fe),t}function vu(t,e,a){var n=e.pendingProps,i=!1,r=(e.flags&128)!==0,D;if((D=r)||(D=t!==null&&t.memoizedState===null?!1:(ae.current&2)!==0),D&&(i=!0,e.flags&=-129),D=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(i?va(e):ya(),Bt){var w=ee,k;(k=w)&&(w=Cf(w,Ie),w!==null?(e.memoizedState={dehydrated:w,treeContext:Ya!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},k=b(18,null,null,0),k.stateNode=w,k.return=e,e.child=k,ye=e,ee=null,k=!0):k=!1),k||L(e)}if(w=e.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return dr(w)?e.lanes=32:e.lanes=536870912,null;ea(e)}return w=n.children,n=n.fallback,i?(ya(),i=e.mode,w=dl({mode:"hidden",children:w},i),n=Pa(n,i,a,null),w.return=e,n.return=e,w.sibling=n,e.child=w,i=e.child,i.memoizedState=Ms(a),i.childLanes=Os(t,D,a),e.memoizedState=Nr,n):(va(e),Ds(e,w))}if(k=t.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(r)e.flags&256?(va(e),e.flags&=-257,e=Gs(t,e,a)):e.memoizedState!==null?(ya(),e.child=t.child,e.flags|=128,e=null):(ya(),i=n.fallback,w=e.mode,n=dl({mode:"visible",children:n.children},w),i=Pa(i,w,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,En(e,t.child,null,a),n=e.child,n.memoizedState=Ms(a),n.childLanes=Os(t,D,a),e.memoizedState=Nr,e=i);else if(va(e),dr(w))D=hf(w).digest,n=Error(d(419)),n.stack="",n.digest=D,_t({value:n,source:null,stack:null}),e=Gs(t,e,a);else if(le||Le(t,e,a,!1),D=(a&t.childLanes)!==0,le||D){if(D=qt,D!==null&&(n=a&-a,n=(n&42)!==0?1:V(n),n=(n&(D.suspendedLanes|a))!==0?0:n,n!==0&&n!==k.retryLane))throw k.retryLane=n,tn(t,n),De(D,t,n),Zc;hr(w)||ks(),e=Gs(t,e,a)}else hr(w)?(e.flags|=192,e.child=t.child,e=null):(t=k.treeContext,Ve&&(ee=yf(w),ye=e,Bt=!0,Ka=null,Ie=!1,t!==null&&(qe[we++]=sa,qe[we++]=ra,qe[we++]=Ya,sa=t.id,ra=t.overflow,Ya=e)),e=Ds(e,n.children),e.flags|=4096);return e}return i?(ya(),i=n.fallback,w=e.mode,k=t.child,r=k.sibling,n=na(k,{mode:"hidden",children:n.children}),n.subtreeFlags=k.subtreeFlags&65011712,r!==null?i=na(r,i):(i=Pa(i,w,a,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,w=t.child.memoizedState,w===null?w=Ms(a):(k=w.cachePool,k!==null?(r=ia?Ft._currentValue:Ft._currentValue2,k=k.parent!==r?{parent:r,pool:r}:k):k=co(),w={baseLanes:w.baseLanes|a,cachePool:k}),i.memoizedState=w,i.childLanes=Os(t,D,a),e.memoizedState=Nr,n):(va(e),a=t.child,t=a.sibling,a=na(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(D=e.deletions,D===null?(e.deletions=[t],e.flags|=16):D.push(t)),e.child=a,e.memoizedState=null,a)}function Ds(t,e){return e=dl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function dl(t,e){return t=b(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Gs(t,e,a){return En(e,t.child,null,a),t=Ds(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yu(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ut(t.return,e,a)}function Us(t,e,a,n,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=i)}function _u(t,e,a){var n=e.pendingProps,i=n.revealOrder,r=n.tail;if(de(t,e,n.children,a),n=ae.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yu(t,a,e);else if(t.tag===19)yu(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(m(ae,n),i){case"forwards":for(a=e.child,i=null;a!==null;)t=a.alternate,t!==null&&ul(t)===null&&(i=a),a=a.sibling;a=i,a===null?(i=e.child,e.child=null):(i=a.sibling,a.sibling=null),Us(e,!1,i,a,r);break;case"backwards":for(a=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ul(t)===null){e.child=i;break}t=i.sibling,i.sibling=a,a=i,i=t}Us(e,!0,a,null,r);break;case"together":Us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aa(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(Le(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,a=na(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=na(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function Bs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ue(t)))}function ad(t,e,a){switch(e.tag){case 3:Y(e,e.stateNode.containerInfo),gt(e,Ft,t.memoizedState.cache),dt();break;case 27:case 5:ot(e);break;case 4:Y(e,e.stateNode.containerInfo);break;case 10:gt(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(va(e),e.flags|=128,null):(a&e.child.childLanes)!==0?vu(t,e,a):(va(e),t=aa(t,e,a),t!==null?t.sibling:null);va(e);break;case 19:var i=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(Le(t,e,a,!1),n=(a&e.childLanes)!==0),i){if(n)return _u(t,e,a);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),m(ae,ae.current),n)break;return null;case 22:case 23:return e.lanes=0,du(t,e,a);case 24:gt(e,Ft,t.memoizedState.cache)}return aa(t,e,a)}function Su(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)le=!0;else{if(!Bs(t,a)&&(e.flags&128)===0)return le=!1,ad(t,e,a);le=(t.flags&131072)!==0}else le=!1,Bt&&(e.flags&1048576)!==0&&z(e,Tl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")$s(n)?(t=Va(n,t),e.tag=1,e=mu(null,e,n,t,a)):(e.tag=0,e=Rs(null,e,n,t,a));else{if(n!=null){if(i=n.$$typeof,i===lr){e.tag=11,e=uu(null,e,n,t,a);break t}else if(i===or){e.tag=14,e=cu(null,e,n,t,a);break t}}throw e=E(n)||n,Error(d(306,e,""))}}return e;case 0:return Rs(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,i=Va(n,e.pendingProps),mu(t,e,n,i,a);case 3:t:{if(Y(e,e.stateNode.containerInfo),t===null)throw Error(d(387));var r=e.pendingProps;i=e.memoizedState,n=i.element,rs(t,e),Ln(e,r,null,a);var D=e.memoizedState;if(r=D.cache,gt(e,Ft,r),r!==i.cache&&wt(e,[Ft],a,!0),Hn(),r=D.element,Ve&&i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:D.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=pu(t,e,r,a);break t}else if(r!==n){n=M(Error(d(424)),e),_t(n),e=pu(t,e,r,a);break t}else for(Ve&&(ee=vf(e.stateNode.containerInfo),ye=e,Bt=!0,Ka=null,Ie=!0),a=Xc(e,null,r,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dt(),r===n){e=aa(t,e,a);break t}de(t,e,r,a)}e=e.child}return e;case 26:if(Qe)return hl(t,e),t===null?(a=Dc(e.type,null,e.pendingProps,null))?e.memoizedState=a:Bt||(e.stateNode=Bf(e.type,e.pendingProps,xa.current,e)):e.memoizedState=Dc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if(te)return ot(e),t===null&&te&&Bt&&(n=e.stateNode=Lc(e.type,e.pendingProps,xa.current,fe.current,!1),ye=e,Ie=!0,ee=_f(e.type,n,ee)),de(t,e,e.pendingProps.children,a),hl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&(Df(e.type,e.pendingProps,fe.current),(i=n=ee)&&(n=Sf(n,e.type,e.pendingProps,Ie),n!==null?(e.stateNode=n,ye=e,ee=pf(n),Ie=!1,i=!0):i=!1),i||L(e)),ot(e),i=e.type,r=e.pendingProps,D=t!==null?t.memoizedProps:null,n=r.children,Sl(i,r)?n=null:D!==null&&Sl(i,D)&&(e.flags|=32),e.memoizedState!==null&&(i=ds(t,e,k0,null,null,a),ia?Fa._currentValue=i:Fa._currentValue2=i),hl(t,e),de(t,e,n,a),e.child;case 6:return t===null&&Bt&&(Gf(e.pendingProps,fe.current),(t=a=ee)&&(a=bf(a,e.pendingProps,Ie),a!==null?(e.stateNode=a,ye=e,ee=null,t=!0):t=!1),t||L(e)),null;case 13:return vu(t,e,a);case 4:return Y(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=En(e,null,n,a):de(t,e,n,a),e.child;case 11:return uu(t,e,e.type,e.pendingProps,a);case 7:return de(t,e,e.pendingProps,a),e.child;case 8:return de(t,e,e.pendingProps.children,a),e.child;case 12:return de(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,gt(e,e.type,n.value),de(t,e,n.children,a),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,xe(e),i=St(i),n=n(i),e.flags|=1,de(t,e,n,a),e.child;case 14:return cu(t,e,e.type,e.pendingProps,a);case 15:return hu(t,e,e.type,e.pendingProps,a);case 19:return _u(t,e,a);case 31:return n=e.pendingProps,a=e.mode,n={mode:n.mode,children:n.children},t===null?(a=dl(n,a),a.ref=e.ref,e.child=a,a.return=e,e=a):(a=na(t.child,n),a.ref=e.ref,e.child=a,a.return=e,e=a),e;case 22:return du(t,e,a);case 24:return xe(e),n=St(Ft),t===null?(i=is(),i===null&&(i=qt,r=Ke(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=a),i=r),e.memoizedState={parent:n,cache:i},ss(e),gt(e,Ft,i)):((t.lanes&a)!==0&&(rs(t,e),Ln(e,null,null,a),Hn()),i=t.memoizedState,r=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),gt(e,Ft,n)):(n=r.cache,gt(e,Ft,n),n!==i.cache&&wt(e,[Ft],a,!0))),de(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function Me(t){t.flags|=4}function bu(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function zs(t,e,a,n){if(pe)for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)cr(t,a.stateNode);else if(!(a.tag===4||te&&a.tag===27)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else if(Ta)for(var i=e.child;i!==null;){if(i.tag===5){var r=i.stateNode;a&&n&&(r=xc(r,i.type,i.memoizedProps)),cr(t,r)}else if(i.tag===6)r=i.stateNode,a&&n&&(r=Nc(r,i.memoizedProps)),cr(t,r);else if(i.tag!==4){if(i.tag===22&&i.memoizedState!==null)r=i.child,r!==null&&(r.return=i),zs(t,i,!0,!0);else if(i.child!==null){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Cu(t,e,a,n){var i=!1;if(Ta)for(var r=e.child;r!==null;){if(r.tag===5){var D=r.stateNode;a&&n&&(D=xc(D,r.type,r.memoizedProps)),Ec(t,D)}else if(r.tag===6)D=r.stateNode,a&&n&&(D=Nc(D,r.memoizedProps)),Ec(t,D);else if(r.tag!==4){if(r.tag===22&&r.memoizedState!==null)i=r.child,i!==null&&(i.return=r),Cu(t,r,!0,!0),i=!0;else if(r.child!==null){r.child.return=r,r=r.child;continue}}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return i;r=r.return}r.sibling.return=r.return,r=r.sibling}return i}function Au(t,e){if(Ta&&bu(t,e)){t=e.stateNode;var a=t.containerInfo,n=Ac();Cu(n,e,!1,!1),t.pendingChildren=n,Me(e),cf(a,n)}}function Hs(t,e,a,n){if(pe)t.memoizedProps!==n&&Me(e);else if(Ta){var i=t.stateNode,r=t.memoizedProps;if((t=bu(t,e))||r!==n){var D=fe.current;r=uf(i,a,r,n,!t,null),r===i?e.stateNode=i:(yc(r,a,n,D)&&Me(e),e.stateNode=r,t?zs(r,e,!1,!1):Me(e))}else e.stateNode=i}}function Ls(t,e,a){if(Hd(e,a)){if(t.flags|=16777216,!Sc(e,a))if(Zu())t.flags|=8192;else throw yn=Dl,Ar}else t.flags&=-16777217}function Eu(t,e){if(Hf(e)){if(t.flags|=16777216,!Hc(e))if(Zu())t.flags|=8192;else throw yn=Dl,Ar}else t.flags&=-16777217}function fl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?x():536870912,t.lanes|=e,Nn|=e)}function jn(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function nd(t,e,a){var n=e.pendingProps;switch($(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return jt(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Vt(Ft),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ut(e)?Me(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yt())),Au(t,e),jt(e),null;case 26:if(Qe){a=e.type;var i=e.memoizedState;return t===null?(Me(e),i!==null?(jt(e),Eu(e,i)):(jt(e),Ls(e,a,n))):i?i!==t.memoizedState?(Me(e),jt(e),Eu(e,i)):(jt(e),e.flags&=-16777217):(pe?t.memoizedProps!==n&&Me(e):Hs(t,e,a,n),jt(e),Ls(e,a,n)),null}case 27:if(te){if(I(e),a=xa.current,i=e.type,t!==null&&e.stateNode!=null)pe?t.memoizedProps!==n&&Me(e):Hs(t,e,i,n);else{if(!n){if(e.stateNode===null)throw Error(d(166));return jt(e),null}t=fe.current,ut(e)?J(e,t):(t=Lc(i,n,a,t,!0),e.stateNode=t,Me(e))}return jt(e),null}case 5:if(I(e),a=e.type,t!==null&&e.stateNode!=null)Hs(t,e,a,n);else{if(!n){if(e.stateNode===null)throw Error(d(166));return jt(e),null}t=fe.current,ut(e)?J(e,t):(i=Rd(a,n,xa.current,t,e),zs(i,e,!1,!1),e.stateNode=i,yc(i,a,n,t)&&Me(e))}return jt(e),Ls(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)a=t.memoizedProps,pe?a!==n&&Me(e):Ta&&(a!==n?(e.stateNode=_c(n,xa.current,fe.current,e),Me(e)):e.stateNode=t.stateNode);else{if(typeof n!="string"&&e.stateNode===null)throw Error(d(166));if(t=xa.current,a=fe.current,ut(e)){if(!Ve)throw Error(d(176));if(t=e.stateNode,a=e.memoizedProps,n=null,i=ye,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}Ef(t,a,e,n)||L(e)}else e.stateNode=_c(n,t,a,e)}return jt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ut(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(d(318));if(!Ve)throw Error(d(344));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));Tf(i,e)}else dt(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else i=yt(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ea(e),e):(ea(e),null)}if(ea(e),(e.flags&128)!==0)return e.lanes=a,e;if(a=n!==null,t=t!==null&&t.memoizedState!==null,a){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var r=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048)}return a!==t&&a&&(e.child.flags|=8192),fl(e,e.updateQueue),jt(e),null;case 4:return tt(),Au(t,e),t===null&&Gd(e.stateNode.containerInfo),jt(e),null;case 10:return Vt(e.type),jt(e),null;case 19:if(f(ae),i=e.memoizedState,i===null)return jt(e),null;if(n=(e.flags&128)!==0,r=i.rendering,r===null)if(n)jn(i,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(r=ul(t),r!==null){for(e.flags|=128,jn(i,!1),t=r.updateQueue,e.updateQueue=t,fl(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)oc(a,t),a=a.sibling;return m(ae,ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ze()>li&&(e.flags|=128,n=!0,jn(i,!1),e.lanes=4194304)}else{if(!n)if(t=ul(r),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,fl(e,t),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!Bt)return jt(e),null}else 2*Ze()-i.renderingStartTime>li&&a!==536870912&&(e.flags|=128,n=!0,jn(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ze(),e.sibling=null,t=ae.current,m(ae,n?t&1|2:t&1),e):(jt(e),null);case 22:case 23:return ea(e),cs(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(a&536870912)!==0&&(e.flags&128)===0&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),a=e.updateQueue,a!==null&&fl(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&f(Qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Vt(Ft),jt(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function id(t,e){switch($(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vt(Ft),tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return I(e),null;case 13:if(ea(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));dt()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return f(ae),null;case 4:return tt(),null;case 10:return Vt(e.type),null;case 22:case 23:return ea(e),cs(),t!==null&&f(Qa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Vt(Ft),null;case 25:return null;default:return null}}function Tu(t,e){switch($(e),e.tag){case 3:Vt(Ft),tt();break;case 26:case 27:case 5:I(e);break;case 4:tt();break;case 13:ea(e);break;case 19:f(ae);break;case 10:Vt(e.type);break;case 22:case 23:ea(e),cs(),t!==null&&f(Qa);break;case 24:Vt(Ft)}}function Fn(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&t)===t){n=void 0;var r=a.create,D=a.inst;n=r(),D.destroy=n}a=a.next}while(a!==i)}}catch(w){zt(e,e.return,w)}}function _a(t,e,a){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){var D=n.inst,w=D.destroy;if(w!==void 0){D.destroy=void 0,i=e;var k=a,nt=w;try{nt()}catch(st){zt(i,k,st)}}}n=n.next}while(n!==r)}}catch(st){zt(e,e.return,st)}}function xu(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{yo(e,a)}catch(n){zt(t,t.return,n)}}}function Nu(t,e,a){a.props=Va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){zt(t,e,n)}}function Yn(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=Zn(t.stateNode);break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(i){zt(t,e,i)}}function ke(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){zt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){zt(t,e,i)}else a.current=null}function Ru(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{Wd(n,e,a,t)}catch(i){zt(t,t.return,i)}}function Vs(t,e,a){try{Id(t.stateNode,t.type,a,e,t)}catch(n){zt(t,t.return,n)}}function Mu(t){return t.tag===5||t.tag===3||(Qe?t.tag===26:!1)||(te?t.tag===27&&un(t.type):!1)||t.tag===4}function qs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(te&&t.tag===27&&un(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ws(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?tf(a,t,e):Jd(a,t);else if(n!==4&&(te&&n===27&&un(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(ws(t,e,a),t=t.sibling;t!==null;)ws(t,e,a),t=t.sibling}function gl(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?$d(a,t,e):Zd(a,t);else if(n!==4&&(te&&n===27&&un(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gl(t,e,a),t=t.sibling;t!==null;)gl(t,e,a),t=t.sibling}function Ou(t,e,a){t=t.containerInfo;try{Tc(t,a)}catch(n){zt(e,e.return,n)}}function Du(t){var e=t.stateNode,a=t.memoizedProps;try{Vf(t.type,a,e,t)}catch(n){zt(t,t.return,n)}}function ld(t,e){for(xd(t.containerInfo),se=e;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;var a=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&a!==null){e=void 0;var n=t,i=a.memoizedProps;a=a.memoizedState;var r=n.stateNode;try{var D=Va(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(D,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(w){zt(n,n.return,w)}}break;case 3:(e&1024)!==0&&pe&&of(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}}function Gu(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(t,a),n&4&&Fn(5,a);break;case 1:if(Sa(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(D){zt(a,a.return,D)}else{var i=Va(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(D){zt(a,a.return,D)}}n&64&&xu(a),n&512&&Yn(a,a.return);break;case 3:if(Sa(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=Zn(a.child.stateNode);break;case 1:e=a.child.stateNode}try{yo(t,e)}catch(D){zt(a,a.return,D)}}break;case 27:te&&e===null&&n&4&&Du(a);case 26:case 5:Sa(t,a),e===null&&n&4&&Ru(a),n&512&&Yn(a,a.return);break;case 12:Sa(t,a);break;case 13:Sa(t,a),n&4&&Bu(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dd.bind(null,a),df(t,a))));break;case 22:if(n=a.memoizedState!==null||ua,!n){e=e!==null&&e.memoizedState!==null||Qt,i=ua;var r=Qt;ua=n,(Qt=e)&&!r?ba(t,a,(a.subtreeFlags&8772)!==0):Sa(t,a),ua=i,Qt=r}break;case 30:break;default:Sa(t,a)}}function Uu(t){var e=t.alternate;e!==null&&(t.alternate=null,Uu(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&zd(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xe(t,e,a){for(a=a.child;a!==null;)Ps(t,e,a),a=a.sibling}function Ps(t,e,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:if(Qe){Qt||ke(a,e),Xe(t,e,a),a.memoizedState?Uc(a.memoizedState):a.stateNode&&zc(a.stateNode);break}case 27:if(te){Qt||ke(a,e);var n=It,i=Ce;un(a.type)&&(It=a.stateNode,Ce=!1),Xe(t,e,a),Vc(a.stateNode),It=n,Ce=i;break}case 5:Qt||ke(a,e);case 6:if(pe){if(n=It,i=Ce,It=null,Xe(t,e,a),It=n,Ce=i,It!==null)if(Ce)try{af(It,a.stateNode)}catch(r){zt(a,e,r)}else try{ef(It,a.stateNode)}catch(r){zt(a,e,r)}}else Xe(t,e,a);break;case 18:pe&&It!==null&&(Ce?Of(It,a.stateNode):Mf(It,a.stateNode));break;case 4:pe?(n=It,i=Ce,It=a.stateNode.containerInfo,Ce=!0,Xe(t,e,a),It=n,Ce=i):(Ta&&Ou(a.stateNode,a,Ac()),Xe(t,e,a));break;case 0:case 11:case 14:case 15:Qt||_a(2,a,e),Qt||_a(4,a,e),Xe(t,e,a);break;case 1:Qt||(ke(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Nu(a,e,n)),Xe(t,e,a);break;case 21:Xe(t,e,a);break;case 22:Qt=(n=Qt)||a.memoizedState!==null,Xe(t,e,a),Qt=n;break;default:Xe(t,e,a)}}function Bu(t,e){if(Ve&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rf(t)}catch(a){zt(e,e.return,a)}}function sd(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jc),e;default:throw Error(d(435,t.tag))}}function js(t,e){var a=sd(t);e.forEach(function(n){var i=fd.bind(null,t,n);a.has(n)||(a.add(n),n.then(i,i))})}function ve(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],r=t,D=e;if(pe){var w=D;t:for(;w!==null;){switch(w.tag){case 27:if(te){if(un(w.type)){It=w.stateNode,Ce=!1;break t}break}case 5:It=w.stateNode,Ce=!1;break t;case 3:case 4:It=w.stateNode.containerInfo,Ce=!0;break t}w=w.return}if(It===null)throw Error(d(160));Ps(r,D,i),It=null,Ce=!1}else Ps(r,D,i);r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)zu(e,t),e=e.sibling}function zu(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ve(e,t),be(t),n&4&&(_a(3,t,t.return),Fn(3,t),_a(5,t,t.return));break;case 1:ve(e,t),be(t),n&512&&(Qt||a===null||ke(a,a.return)),n&64&&ua&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:if(Qe){var i=Je;if(ve(e,t),be(t),n&512&&(Qt||a===null||ke(a,a.return)),n&4){n=a!==null?a.memoizedState:null;var r=t.memoizedState;a===null?r===null?t.stateNode===null?t.stateNode=Uf(i,t.type,t.memoizedProps,t):Bc(i,t.type,t.stateNode):t.stateNode=Gc(i,r,t.memoizedProps):n!==r?(n===null?a.stateNode!==null&&zc(a.stateNode):Uc(n),r===null?Bc(i,t.type,t.stateNode):Gc(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Vs(t,t.memoizedProps,a.memoizedProps)}break}case 27:if(te){ve(e,t),be(t),n&512&&(Qt||a===null||ke(a,a.return)),a!==null&&n&4&&Vs(t,t.memoizedProps,a.memoizedProps);break}case 5:if(ve(e,t),be(t),n&512&&(Qt||a===null||ke(a,a.return)),pe){if(t.flags&32){i=t.stateNode;try{Cc(i)}catch(st){zt(t,t.return,st)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Vs(t,i,a!==null?a.memoizedProps:i)),n&1024&&(Rr=!0)}break;case 6:if(ve(e,t),be(t),n&4&&pe){if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,a=a!==null?a.memoizedProps:n,i=t.stateNode;try{kd(i,a,n)}catch(st){zt(t,t.return,st)}}break;case 3:if(Qe?(zf(),i=Je,Je=fr(e.containerInfo),ve(e,t),Je=i):ve(e,t),be(t),n&4){if(pe&&Ve&&a!==null&&a.memoizedState.isDehydrated)try{Nf(e.containerInfo)}catch(st){zt(t,t.return,st)}if(Ta){n=e.containerInfo,a=e.pendingChildren;try{Tc(n,a)}catch(st){zt(t,t.return,st)}}}Rr&&(Rr=!1,Hu(t));break;case 4:Qe?(a=Je,Je=fr(t.stateNode.containerInfo),ve(e,t),be(t),Je=a):(ve(e,t),be(t)),n&4&&Ta&&Ou(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:ve(e,t),be(t);break;case 13:ve(e,t),be(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gr=Ze()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,js(t,n)));break;case 22:i=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,w=ua,k=Qt;if(ua=w||i,Qt=k||D,ve(e,t),Qt=k,ua=w,be(t),n&8192&&(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(a===null||D||ua||Qt||qa(t)),pe)){t:if(a=null,pe)for(e=t;;){if(e.tag===5||Qe&&e.tag===26){if(a===null){D=a=e;try{r=D.stateNode,i?nf(r):sf(D.stateNode,D.memoizedProps)}catch(st){zt(D,D.return,st)}}}else if(e.tag===6){if(a===null){D=e;try{var nt=D.stateNode;i?lf(nt):rf(nt,D.memoizedProps)}catch(st){zt(D,D.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,js(t,a))));break;case 19:ve(e,t),be(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,js(t,n)));break;case 30:break;case 21:break;default:ve(e,t),be(t)}}function be(t){var e=t.flags;if(e&2){try{if(pe){for(var a,n=t.return;n!==null;){if(Mu(n)){a=n;break}n=n.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:if(te){var i=a.stateNode,r=qs(t);gl(t,r,i);break}case 5:var D=a.stateNode;a.flags&32&&(Cc(D),a.flags&=-33);var w=qs(t);gl(t,w,D);break;case 3:case 4:var k=a.stateNode.containerInfo,nt=qs(t);ws(t,nt,k);break;default:throw Error(d(161))}}}catch(st){zt(t,t.return,st)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hu(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Hu(e),e.tag===5&&e.flags&1024&&qd(e.stateNode),t=t.sibling}}function Sa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Gu(t,e.alternate,e),e=e.sibling}function qa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:_a(4,e,e.return),qa(e);break;case 1:ke(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&Nu(e,e.return,a),qa(e);break;case 27:te&&Vc(e.stateNode);case 26:case 5:ke(e,e.return),qa(e);break;case 22:e.memoizedState===null&&qa(e);break;case 30:qa(e);break;default:qa(e)}t=t.sibling}}function ba(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,r=e,D=r.flags;switch(r.tag){case 0:case 11:case 15:ba(i,r,a),Fn(4,r);break;case 1:if(ba(i,r,a),n=r,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(nt){zt(n,n.return,nt)}if(n=r,i=n.updateQueue,i!==null){var w=n.stateNode;try{var k=i.shared.hiddenCallbacks;if(k!==null)for(i.shared.hiddenCallbacks=null,i=0;i<k.length;i++)vo(k[i],w)}catch(nt){zt(n,n.return,nt)}}a&&D&64&&xu(r),Yn(r,r.return);break;case 27:te&&Du(r);case 26:case 5:ba(i,r,a),a&&n===null&&D&4&&Ru(r),Yn(r,r.return);break;case 12:ba(i,r,a);break;case 13:ba(i,r,a),a&&D&4&&Bu(i,r);break;case 22:r.memoizedState===null&&ba(i,r,a),Yn(r,r.return);break;case 30:break;default:ba(i,r,a)}e=e.sibling}}function Fs(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jt(a))}function Ys(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jt(t))}function We(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lu(t,e,a,n),e=e.sibling}function Lu(t,e,a,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:We(t,e,a,n),i&2048&&Fn(9,e);break;case 1:We(t,e,a,n);break;case 3:We(t,e,a,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jt(t)));break;case 12:if(i&2048){We(t,e,a,n),t=e.stateNode;try{var r=e.memoizedProps,D=r.id,w=r.onPostCommit;typeof w=="function"&&w(D,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){zt(e,e.return,k)}}else We(t,e,a,n);break;case 13:We(t,e,a,n);break;case 23:break;case 22:r=e.stateNode,D=e.alternate,e.memoizedState!==null?r._visibility&2?We(t,e,a,n):Kn(t,e):r._visibility&2?We(t,e,a,n):(r._visibility|=2,an(t,e,a,n,(e.subtreeFlags&10256)!==0)),i&2048&&Fs(D,e);break;case 24:We(t,e,a,n),i&2048&&Ys(e.alternate,e);break;default:We(t,e,a,n)}}function an(t,e,a,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,D=e,w=a,k=n,nt=D.flags;switch(D.tag){case 0:case 11:case 15:an(r,D,w,k,i),Fn(8,D);break;case 23:break;case 22:var st=D.stateNode;D.memoizedState!==null?st._visibility&2?an(r,D,w,k,i):Kn(r,D):(st._visibility|=2,an(r,D,w,k,i)),i&&nt&2048&&Fs(D.alternate,D);break;case 24:an(r,D,w,k,i),i&&nt&2048&&Ys(D.alternate,D);break;default:an(r,D,w,k,i)}e=e.sibling}}function Kn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,i=n.flags;switch(n.tag){case 22:Kn(a,n),i&2048&&Fs(n.alternate,n);break;case 24:Kn(a,n),i&2048&&Ys(n.alternate,n);break;default:Kn(a,n)}e=e.sibling}}function wa(t){if(t.subtreeFlags&Tn)for(t=t.child;t!==null;)Vu(t),t=t.sibling}function Vu(t){switch(t.tag){case 26:wa(t),t.flags&Tn&&(t.memoizedState!==null?Lf(Je,t.memoizedState,t.memoizedProps):bc(t.type,t.memoizedProps));break;case 5:wa(t),t.flags&Tn&&bc(t.type,t.memoizedProps);break;case 3:case 4:if(Qe){var e=Je;Je=fr(t.stateNode.containerInfo),wa(t),Je=e}else wa(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Tn,Tn=16777216,wa(t),Tn=e):wa(t));break;default:wa(t)}}function qu(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xn(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];se=n,Pu(n,t)}qu(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wu(t),t=t.sibling}function wu(t){switch(t.tag){case 0:case 11:case 15:Xn(t),t.flags&2048&&_a(9,t,t.return);break;case 3:Xn(t);break;case 12:Xn(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ml(t)):Xn(t);break;default:Xn(t)}}function ml(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];se=n,Pu(n,t)}qu(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:_a(8,e,e.return),ml(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,ml(e));break;default:ml(e)}t=t.sibling}}function Pu(t,e){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:_a(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Jt(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,se=n;else t:for(a=t;se!==null;){n=se;var i=n.sibling,r=n.return;if(Uu(n),n===a){se=null;break t}if(i!==null){i.return=r,se=i;break t}se=r}}}function Ks(t){var e=Dd(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(d(364));return e}if(t=jd(t),t===null)throw Error(d(362));return t.stateNode.current}function Xs(t,e){var a=t.tag;switch(e.$$typeof){case Hl:if(t.type===e.value)return!0;break;case Ll:t:{for(e=e.value,t=[t,0],a=0;a<t.length;){var n=t[a++],i=n.tag,r=t[a++],D=e[r];if(i!==5&&i!==26&&i!==27||!kn(n)){for(;D!=null&&Xs(n,D);)r++,D=e[r];if(r===e.length){e=!0;break t}else for(n=n.child;n!==null;)t.push(n,r),n=n.sibling}}e=!1}return e;case Vl:if((a===5||a===26||a===27)&&Kd(t.stateNode,e.value))return!0;break;case wl:if((a===5||a===6||a===26||a===27)&&(t=Yd(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case ql:if((a===5||a===26||a===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function Qs(t){switch(t.$$typeof){case Hl:return"<"+(E(t.value)||"Unknown")+">";case Ll:return":has("+(Qs(t)||"")+")";case Vl:return'[role="'+t.value+'"]';case wl:return'"'+t.value+'"';case ql:return'[data-testname="'+t.value+'"]';default:throw Error(d(365))}}function ju(t,e){var a=[];t=[t,0];for(var n=0;n<t.length;){var i=t[n++],r=i.tag,D=t[n++],w=e[D];if(r!==5&&r!==26&&r!==27||!kn(i)){for(;w!=null&&Xs(i,w);)D++,w=e[D];if(D===e.length)a.push(i);else for(i=i.child;i!==null;)t.push(i,D),i=i.sibling}}return a}function Zs(t,e){if(!Jn)throw Error(d(363));t=Ks(t),t=ju(t,e),e=[],t=Array.from(t);for(var a=0;a<t.length;){var n=t[a++],i=n.tag;if(i===5||i===26||i===27)kn(n)||e.push(n.stateNode);else for(n=n.child;n!==null;)t.push(n),n=n.sibling}return e}function Oe(){if((Rt&2)!==0&&Mt!==0)return Mt&-Mt;if(mt.T!==null){var t=pn;return t!==0?t:Bn()}return Ud()}function Fu(){Fe===0&&(Fe=(Mt&536870912)===0||Bt?C():536870912);var t=je.current;return t!==null&&(t.flags|=32),Fe}function De(t,e,a){(t===qt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(nn(t,0),Ca(t,Mt,Fe,!1)),P(t,a),((Rt&2)===0||t!==qt)&&(t===qt&&((Rt&2)===0&&(Ja|=a),Yt===4&&Ca(t,Mt,Fe,!1)),$t(t))}function Yu(t,e,a){if((Rt&6)!==0)throw Error(d(327));var n=!a&&(e&124)===0&&(e&t.expiredLanes)===0||p(t,e),i=n?ud(t,e):Ws(t,e,!0),r=n;do{if(i===0){xn&&!n&&Ca(t,e,0,!1);break}else{if(a=t.current.alternate,r&&!rd(a)){i=Ws(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var D=0;else D=t.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){e=D;t:{var w=t;i=ii;var k=Ve&&w.current.memoizedState.isDehydrated;if(k&&(nn(w,D).flags|=256),D=Ws(w,D,!1),D!==2){if(Mr&&!k){w.errorRecoveryDisabledLanes|=r,Ja|=r,i=4;break t}r=Ae,Ae=i,r!==null&&(Ae===null?Ae=r:Ae.push.apply(Ae,r))}i=D}if(r=!1,i!==2)continue}}if(i===1){nn(t,0),Ca(t,e,0,!0);break}t:{switch(n=t,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:Ca(n,e,Fe,!Ma);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(i=Gr+300-Ze(),10<i)){if(Ca(n,e,Fe,!Ma),U(n,0,!0)!==0)break t;n.timeoutHandle=Md(Ku.bind(null,n,a,Ae,Pl,Dr,e,Fe,Ja,Nn,Ma,r,2,-0,0),i);break t}Ku(n,a,Ae,Pl,Dr,e,Fe,Ja,Nn,Ma,r,0,-0,0)}}break}while(!0);$t(t)}function Ku(t,e,a,n,i,r,D,w,k,nt,st,ct,ht,bt){if(t.timeoutHandle=ja,ct=e.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Ld(),Vu(e),ct=Vd(),ct!==null)){t.cancelPendingCommit=ct(tc.bind(null,t,e,r,a,n,i,D,w,k,st,1,ht,bt)),Ca(t,r,D,!nt);return}tc(t,e,r,a,n,i,D,w,k)}function rd(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],r=i.getSnapshot;i=i.value;try{if(!ze(r(),i))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e,a,n){e&=~Or,e&=~Ja,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var r=31-Ue(i),D=1<<r;n[r]=-1,i&=~D}a!==0&&O(t,a,e)}function Xu(){return(Rt&6)===0?(ne(0),!1):!0}function Js(){if(Tt!==null){if(Ht===0)var t=Tt.return;else t=Tt,oa=Xa=null,ms(t),An=null,ai=0,t=Tt;for(;t!==null;)Tu(t.alternate,t),t=t.return;Tt=null}}function nn(t,e){var a=t.timeoutHandle;a!==ja&&(t.timeoutHandle=ja,Od(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Js(),qt=t,Tt=a=na(t.current,null),Mt=e,Ht=0,He=null,Ma=!1,xn=p(t,e),Mr=!1,Nn=Fe=Or=Ja=Oa=Yt=0,Ae=ii=null,Dr=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Ue(n),r=1<<i;e|=t[i],n&=~r}return ca=e,$i(),a}function Qu(t,e){Ct=null,mt.H=zl,e===ti||e===Ol?(e=go(),Ht=3):e===Ar?(e=go(),Ht=4):Ht=e===Zc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,He=e,Tt===null&&(Yt=1,cl(t,M(e,t.current)))}function Zu(){var t=je.current;return t===null?!0:(Mt&4194048)===Mt?$e===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===$e:!1}function Ju(){var t=mt.H;return mt.H=zl,t===null?zl:t}function ku(){var t=mt.A;return mt.A=$f,t}function ks(){Yt=4,Ma||(Mt&4194048)!==Mt&&je.current!==null||(xn=!0),(Oa&134217727)===0&&(Ja&134217727)===0||qt===null||Ca(qt,Mt,Fe,!1)}function Ws(t,e,a){var n=Rt;Rt|=2;var i=Ju(),r=ku();(qt!==t||Mt!==e)&&(Pl=null,nn(t,e)),e=!1;var D=Yt;t:do try{if(Ht!==0&&Tt!==null){var w=Tt,k=He;switch(Ht){case 8:Js(),D=6;break t;case 3:case 2:case 9:case 6:je.current===null&&(e=!0);var nt=Ht;if(Ht=0,He=null,ln(t,w,k,nt),a&&xn){D=0;break t}break;default:nt=Ht,Ht=0,He=null,ln(t,w,k,nt)}}od(),D=Yt;break}catch(st){Qu(t,st)}while(!0);return e&&t.shellSuspendCounter++,oa=Xa=null,Rt=n,mt.H=i,mt.A=r,Tt===null&&(qt=null,Mt=0,$i()),D}function od(){for(;Tt!==null;)Wu(Tt)}function ud(t,e){var a=Rt;Rt|=2;var n=Ju(),i=ku();qt!==t||Mt!==e?(Pl=null,li=Ze()+500,nn(t,e)):xn=p(t,e);t:do try{if(Ht!==0&&Tt!==null){e=Tt;var r=He;e:switch(Ht){case 1:Ht=0,He=null,ln(t,e,r,1);break;case 2:case 9:if(ho(r)){Ht=0,He=null,Iu(e);break}e=function(){Ht!==2&&Ht!==9||qt!==t||(Ht=7),$t(t)},r.then(e,e);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:ho(r)?(Ht=0,He=null,Iu(e)):(Ht=0,He=null,ln(t,e,r,7));break;case 5:var D=null;switch(Tt.tag){case 26:D=Tt.memoizedState;case 5:case 27:var w=Tt,k=w.type,nt=w.pendingProps;if(D?Hc(D):Sc(k,nt)){Ht=0,He=null;var st=w.sibling;if(st!==null)Tt=st;else{var ct=w.return;ct!==null?(Tt=ct,pl(ct)):Tt=null}break e}}Ht=0,He=null,ln(t,e,r,5);break;case 6:Ht=0,He=null,ln(t,e,r,6);break;case 8:Js(),Yt=6;break t;default:throw Error(d(462))}}cd();break}catch(ht){Qu(t,ht)}while(!0);return oa=Xa=null,mt.H=n,mt.A=i,Rt=a,Tt!==null?0:(qt=null,Mt=0,$i(),Yt)}function cd(){for(;Tt!==null&&!Pf();)Wu(Tt)}function Wu(t){var e=Su(t.alternate,t,ca);t.memoizedProps=t.pendingProps,e===null?pl(t):Tt=e}function Iu(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=gu(a,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=gu(a,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:ms(e);default:Tu(a,e),e=Tt=oc(e,ca),e=Su(a,e,ca)}t.memoizedProps=t.pendingProps,e===null?pl(t):Tt=e}function ln(t,e,a,n){oa=Xa=null,ms(e),An=null,ai=0;var i=e.return;try{if(ed(t,i,e,a,Mt)){Yt=1,cl(t,M(a,t.current)),Tt=null;return}}catch(r){if(i!==null)throw Tt=i,r;Yt=1,cl(t,M(a,t.current)),Tt=null;return}e.flags&32768?(Bt||n===1?t=!0:xn||(Mt&536870912)!==0?t=!1:(Ma=t=!0,(n===2||n===9||n===3||n===6)&&(n=je.current,n!==null&&n.tag===13&&(n.flags|=16384))),$u(e,t)):pl(e)}function pl(t){var e=t;do{if((e.flags&32768)!==0){$u(e,Ma);return}t=e.return;var a=nd(e.alternate,e,ca);if(a!==null){Tt=a;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Yt===0&&(Yt=5)}function $u(t,e){do{var a=id(t.alternate,t);if(a!==null){a.flags&=32767,Tt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){Tt=t;return}Tt=t=a}while(t!==null);Yt=6,Tt=null}function tc(t,e,a,n,i,r,D,w,k){t.cancelPendingCommit=null;do Qn();while(ge!==0);if((Rt&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(r=e.lanes|e.childLanes,r|=Er,R(t,a,r,D,w,k),t===qt&&(Tt=qt=null,Mt=0),Rn=e,Ga=t,Mn=a,Ur=r,Br=i,kc=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gd(pr,function(){return lc(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=mt.T,mt.T=null,i=la(),ie(2),D=Rt,Rt|=4;try{ld(t,e,a)}finally{Rt=D,ie(i),mt.T=n}}ge=1,ec(),ac(),nc()}}function ec(){if(ge===1){ge=0;var t=Ga,e=Rn,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=mt.T,mt.T=null;var n=la();ie(2);var i=Rt;Rt|=4;try{zu(e,t),Nd(t.containerInfo)}finally{Rt=i,ie(n),mt.T=a}}t.current=e,ge=2}}function ac(){if(ge===2){ge=0;var t=Ga,e=Rn,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=mt.T,mt.T=null;var n=la();ie(2);var i=Rt;Rt|=4;try{Gu(t,e.alternate,e)}finally{Rt=i,ie(n),mt.T=a}}ge=3}}function nc(){if(ge===4||ge===3){ge=0,jf();var t=Ga,e=Rn,a=Mn,n=kc;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ge=5:(ge=0,Rn=Ga=null,ic(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Da=null),j(a),e=e.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Wn,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=mt.T,i=la(),ie(2),mt.T=null;try{for(var r=t.onRecoverableError,D=0;D<n.length;D++){var w=n[D];r(w.value,{componentStack:w.stack})}}finally{mt.T=e,ie(i)}}(Mn&3)!==0&&Qn(),$t(t),i=t.pendingLanes,(a&4194090)!==0&&(i&42)!==0?t===zr?si++:(si=0,zr=t):si=0,ne(0)}}function ic(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jt(e)))}function Qn(t){return ec(),ac(),nc(),lc()}function lc(){if(ge!==5)return!1;var t=Ga,e=Ur;Ur=0;var a=j(Mn),n=32>a?32:a;a=mt.T;var i=la();try{ie(n),mt.T=null,n=Br,Br=null;var r=Ga,D=Mn;if(ge=0,Rn=Ga=null,Mn=0,(Rt&6)!==0)throw Error(d(331));var w=Rt;if(Rt|=4,wu(r.current),Lu(r,r.current,D,n),Rt=w,ne(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Wn,r)}catch{}return!0}finally{ie(i),mt.T=a,ic(t,e)}}function sc(t,e,a){e=M(a,e),e=Ns(t.stateNode,e,2),t=pa(t,e,2),t!==null&&(P(t,2),$t(t))}function zt(t,e,a){if(t.tag===3)sc(t,t,a);else for(;e!==null;){if(e.tag===3){sc(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){t=M(a,t),a=ru(2),n=pa(e,a,2),n!==null&&(ou(a,n,e,t),P(n,2),$t(n));break}}e=e.return}}function Is(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new t1;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(a)||(Mr=!0,i.add(a),t=hd.bind(null,t,e,a),e.then(t,t))}function hd(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,qt===t&&(Mt&a)===a&&(Yt===4||Yt===3&&(Mt&62914560)===Mt&&300>Ze()-Gr?(Rt&2)===0&&nn(t,0):Or|=a,Nn===Mt&&(Nn=0)),$t(t)}function rc(t,e){e===0&&(e=x()),t=tn(t,e),t!==null&&(P(t,e),$t(t))}function dd(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),rc(t,a)}function fd(t,e){var a=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(e),rc(t,a)}function gd(t,e){return Al(t,e)}function md(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(t){return t=t.prototype,!(!t||!t.isReactComponent)}function na(t,e){var a=t.alternate;return a===null?(a=b(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function oc(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function vl(t,e,a,n,i,r){var D=0;if(n=t,typeof t=="function")$s(t)&&(D=1);else if(typeof t=="string")D=Qe&&te?Oc(t,a,fe.current)?26:qc(t)?27:5:Qe?Oc(t,a,fe.current)?26:5:te&&qc(t)?27:5;else t:switch(t){case ur:return t=b(31,a,e,i),t.elementType=ur,t.lanes=r,t;case rn:return Pa(a.children,i,r,e);case gc:D=8,i|=24;break;case ir:return t=b(12,a,e,i|2),t.elementType=ir,t.lanes=r,t;case sr:return t=b(13,a,e,i),t.elementType=sr,t.lanes=r,t;case rr:return t=b(19,a,e,i),t.elementType=rr,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _d:case Aa:D=10;break t;case mc:D=9;break t;case lr:D=11;break t;case or:D=14;break t;case Ea:D=16,n=null;break t}D=29,a=Error(d(130,t===null?"null":typeof t,"")),n=null}return e=b(D,a,e,i),e.elementType=t,e.type=n,e.lanes=r,e}function Pa(t,e,a,n){return t=b(7,t,n,e),t.lanes=a,t}function tr(t,e,a){return t=b(6,t,null,e),t.lanes=a,t}function er(t,e,a){return e=b(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pd(t,e,a,n,i,r,D,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ja,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function uc(t,e,a,n,i,r,D,w,k,nt,st,ct){return t=new pd(t,e,a,D,w,k,nt,ct),e=1,r===!0&&(e|=24),r=b(3,null,null,e),t.current=r,r.stateNode=t,e=Ke(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:e},ss(r),t}function cc(t){return t?(t=hn,t):hn}function hc(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=u(e),t=t!==null?g(t):null,t===null?null:Zn(t.stateNode)}function dc(t,e,a,n,i,r){i=cc(i),n.context===null?n.context=i:n.pendingContext=i,n=ma(e),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=pa(t,n,e),a!==null&&(De(a,t,e),zn(a,t,e))}function fc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function ar(t,e){fc(t,e),(t=t.alternate)&&fc(t,e)}var Et={},vd=a1(),Ge=_0(),nr=Object.assign,yd=Symbol.for("react.element"),yl=Symbol.for("react.transitional.element"),sn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),gc=Symbol.for("react.strict_mode"),ir=Symbol.for("react.profiler"),_d=Symbol.for("react.provider"),mc=Symbol.for("react.consumer"),Aa=Symbol.for("react.context"),lr=Symbol.for("react.forward_ref"),sr=Symbol.for("react.suspense"),rr=Symbol.for("react.suspense_list"),or=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),ur=Symbol.for("react.activity"),Sd=Symbol.for("react.memo_cache_sentinel"),pc=Symbol.iterator,bd=Symbol.for("react.client.reference"),_l=Array.isArray,mt=vd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cd=s.rendererVersion,Ad=s.rendererPackageName,vc=s.extraDevToolsConfig,Zn=s.getPublicInstance,Ed=s.getRootHostContext,Td=s.getChildHostContext,xd=s.prepareForCommit,Nd=s.resetAfterCommit,Rd=s.createInstance;s.cloneMutableInstance;var cr=s.appendInitialChild,yc=s.finalizeInitialChildren,Sl=s.shouldSetTextContent,_c=s.createTextInstance;s.cloneMutableTextInstance;var Md=s.scheduleTimeout,Od=s.cancelTimeout,ja=s.noTimeout,ia=s.isPrimaryRenderer;s.warnsIfNotActing;var pe=s.supportsMutation,Ta=s.supportsPersistence,Ve=s.supportsHydration,Dd=s.getInstanceFromNode;s.beforeActiveInstanceBlur;var Gd=s.preparePortalMount;s.prepareScopeUpdate,s.getInstanceFromScope;var ie=s.setCurrentUpdatePriority,la=s.getCurrentUpdatePriority,Ud=s.resolveUpdatePriority;s.trackSchedulerEvent,s.resolveEventType,s.resolveEventTimeStamp;var Bd=s.shouldAttemptEagerTransition,zd=s.detachDeletedInstance;s.requestPostPaintCallback;var Hd=s.maySuspendCommit,Sc=s.preloadInstance,Ld=s.startSuspendingCommit,bc=s.suspendInstance;s.suspendOnActiveViewTransition;var Vd=s.waitForCommitToBeReady,on=s.NotPendingTransition,Fa=s.HostTransitionContext,qd=s.resetFormInstance;s.bindToConsole;var wd=s.supportsMicrotasks,Pd=s.scheduleMicrotask,Jn=s.supportsTestSelectors,jd=s.findFiberRoot,Fd=s.getBoundingRect,Yd=s.getTextContent,kn=s.isHiddenSubtree,Kd=s.matchAccessibilityRole,Xd=s.setFocusIfFocusable,Qd=s.setupIntersectionObserver,Zd=s.appendChild,Jd=s.appendChildToContainer,kd=s.commitTextUpdate,Wd=s.commitMount,Id=s.commitUpdate,$d=s.insertBefore,tf=s.insertInContainerBefore,ef=s.removeChild,af=s.removeChildFromContainer,Cc=s.resetTextContent,nf=s.hideInstance,lf=s.hideTextInstance,sf=s.unhideInstance,rf=s.unhideTextInstance;s.cancelViewTransitionName,s.cancelRootViewTransitionName,s.restoreRootViewTransitionName,s.cloneRootViewTransitionContainer,s.removeRootViewTransitionClone,s.measureClonedInstance,s.hasInstanceChanged,s.hasInstanceAffectedParent,s.startViewTransition,s.startGestureTransition,s.stopGestureTransition,s.getCurrentGestureOffset,s.subscribeToGestureDirection,s.createViewTransitionInstance;var of=s.clearContainer;s.createFragmentInstance,s.updateFragmentInstanceFiber,s.commitNewChildToFragmentInstance,s.deleteChildFromFragmentInstance;var uf=s.cloneInstance,Ac=s.createContainerChildSet,Ec=s.appendChildToContainerChildSet,cf=s.finalizeContainerChildren,Tc=s.replaceContainerChildren,xc=s.cloneHiddenInstance,Nc=s.cloneHiddenTextInstance,hr=s.isSuspenseInstancePending,dr=s.isSuspenseInstanceFallback,hf=s.getSuspenseInstanceFallbackErrorDetails,df=s.registerSuspenseInstanceRetry,ff=s.canHydrateFormStateMarker,gf=s.isFormStateMarkerMatching,Rc=s.getNextHydratableSibling,mf=s.getNextHydratableSiblingAfterSingleton,pf=s.getFirstHydratableChild,vf=s.getFirstHydratableChildWithinContainer,yf=s.getFirstHydratableChildWithinSuspenseInstance,_f=s.getFirstHydratableChildWithinSingleton,Sf=s.canHydrateInstance,bf=s.canHydrateTextInstance,Cf=s.canHydrateSuspenseInstance,Af=s.hydrateInstance,Ef=s.hydrateTextInstance,Tf=s.hydrateSuspenseInstance,xf=s.getNextHydratableInstanceAfterSuspenseInstance,Nf=s.commitHydratedContainer,Rf=s.commitHydratedSuspenseInstance,Mf=s.clearSuspenseBoundary,Of=s.clearSuspenseBoundaryFromContainer,Mc=s.shouldDeleteUnhydratedTailInstances;s.diffHydratedPropsForDevWarnings,s.diffHydratedTextForDevWarnings,s.describeHydratableInstanceForDevWarnings;var Df=s.validateHydratableInstance,Gf=s.validateHydratableTextInstance,Qe=s.supportsResources,Oc=s.isHostHoistableType,fr=s.getHoistableRoot,Dc=s.getResource,Gc=s.acquireResource,Uc=s.releaseResource,Uf=s.hydrateHoistable,Bc=s.mountHoistable,zc=s.unmountHoistable,Bf=s.createHoistableInstance,zf=s.prepareToCommitHoistables,Hf=s.mayResourceSuspendCommit,Hc=s.preloadResource,Lf=s.suspendResource,te=s.supportsSingletons,Lc=s.resolveSingletonInstance,Vf=s.acquireSingletonInstance,Vc=s.releaseSingletonInstance,qc=s.isHostSingletonType,un=s.isSingletonScope,gr=[],cn=-1,hn={},Ue=Math.clz32?Math.clz32:A,qf=Math.log,wf=Math.LN2,bl=256,Cl=4194304,Al=Ge.unstable_scheduleCallback,mr=Ge.unstable_cancelCallback,Pf=Ge.unstable_shouldYield,jf=Ge.unstable_requestPaint,Ze=Ge.unstable_now,wc=Ge.unstable_ImmediatePriority,Ff=Ge.unstable_UserBlockingPriority,pr=Ge.unstable_NormalPriority,Yf=Ge.unstable_IdlePriority,Kf=Ge.log,Xf=Ge.unstable_setDisableYieldValue,Wn=null,Be=null,vr,Pc,yr=!1,jc=new WeakMap,dn=[],fn=0,El=null,Tl=0,qe=[],we=0,Ya=null,sa=1,ra="",fe=_(null),In=_(null),xa=_(null),xl=_(null),ye=null,ee=null,Bt=!1,Ka=null,Ie=!1,_r=Error(d(519)),ze=typeof Object.is=="function"?Object.is:Gt,Nl=_(null),Xa=null,oa=null,Qf=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},Zf=Ge.unstable_scheduleCallback,Jf=Ge.unstable_NormalPriority,Ft={$$typeof:Aa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Rl=null,gn=null,Sr=!1,Ml=!1,br=!1,mn=0,$n=null,Cr=0,pn=0,vn=null,Fc=mt.S;mt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&ns(t,e),Fc!==null&&Fc(t,e)};var Qa=_(null),kf=Object.prototype.hasOwnProperty,ti=Error(d(460)),Ar=Error(d(474)),Ol=Error(d(542)),Dl={then:function(){}},yn=null,Pe=[],_n=0,Er=0,Na=!1,Tr=!1,Sn=_(null),Gl=_(0),Ra=0,Ct=null,Lt=null,Wt=null,Ul=!1,bn=!1,Za=!1,Bl=0,ei=0,Cn=null,Wf=0,zl={readContext:St,use:al,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Yc={readContext:St,use:al,useCallback:function(t,e){return Se().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:qo,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,ll(4194308,4,Fo.bind(null,e,t),a)},useLayoutEffect:function(t,e){return ll(4194308,4,t,e)},useInsertionEffect:function(t,e){ll(4,2,t,e)},useMemo:function(t,e){var a=Se();e=e===void 0?null:e;var n=t();if(Za){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=Se();if(a!==void 0){var i=a(e);if(Za){K(!0);try{a(e)}finally{K(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=td.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=Se();return t={current:t},e.memoizedState=t},useState:function(t){t=Ss(t);var e=t.queue,a=Io.bind(null,Ct,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:Cs,useDeferredValue:function(t,e){var a=Se();return As(a,t,e)},useTransition:function(){var t=Ss(!1);return t=Zo.bind(null,Ct,t.queue,!0,!1),Se().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=Ct,i=Se();if(Bt){if(a===void 0)throw Error(d(407));a=a()}else{if(a=e(),qt===null)throw Error(d(349));(Mt&124)!==0||Ao(n,e,a)}i.memoizedState=a;var r={value:a,getSnapshot:e};return i.queue=r,qo(To.bind(null,n,r,t),[t]),n.flags|=2048,en(9,il(),Eo.bind(null,n,r,a,e),null),a},useId:function(){var t=Se(),e=qt.identifierPrefix;if(Bt){var a=ra,n=sa;a=(n&~(1<<32-Ue(n)-1)).toString(32)+a,e="«"+e+"R"+a,a=Bl++,0<a&&(e+="H"+a.toString(32)),e+="»"}else a=Wf++,e="«"+e+"r"+a.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Es,useFormState:Bo,useActionState:Bo,useOptimistic:function(t){var e=Se();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=Ts.bind(null,Ct,!0,a),a.dispatch=e,[t,e]},useMemoCache:vs,useCacheRefresh:function(){return Se().memoizedState=$0.bind(null,Ct)}},Kc={readContext:St,use:al,useCallback:Ko,useContext:St,useEffect:wo,useImperativeHandle:Yo,useInsertionEffect:Po,useLayoutEffect:jo,useMemo:Xo,useReducer:nl,useRef:Vo,useState:function(){return nl(ta)},useDebugValue:Cs,useDeferredValue:function(t,e){var a=kt();return Qo(a,Lt.memoizedState,t,e)},useTransition:function(){var t=nl(ta)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:Vn(t),e]},useSyncExternalStore:Co,useId:ko,useHostTransitionStatus:Es,useFormState:zo,useActionState:zo,useOptimistic:function(t,e){var a=kt();return Ro(a,Lt,t,e)},useMemoCache:vs,useCacheRefresh:Wo},If={readContext:St,use:al,useCallback:Ko,useContext:St,useEffect:wo,useImperativeHandle:Yo,useInsertionEffect:Po,useLayoutEffect:jo,useMemo:Xo,useReducer:_s,useRef:Vo,useState:function(){return _s(ta)},useDebugValue:Cs,useDeferredValue:function(t,e){var a=kt();return Lt===null?As(a,t,e):Qo(a,Lt.memoizedState,t,e)},useTransition:function(){var t=_s(ta)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:Vn(t),e]},useSyncExternalStore:Co,useId:ko,useHostTransitionStatus:Es,useFormState:Lo,useActionState:Lo,useOptimistic:function(t,e){var a=kt();return Lt!==null?Ro(a,Lt,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vs,useCacheRefresh:Wo},An=null,ai=0,En=au(!0),Xc=au(!1),je=_(null),$e=null,ae=_(0),xr={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=Oe(),i=ma(n);i.payload=e,a!=null&&(i.callback=a),e=pa(t,i,n),e!==null&&(De(e,t,n),zn(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=Oe(),i=ma(n);i.tag=1,i.payload=e,a!=null&&(i.callback=a),e=pa(t,i,n),e!==null&&(De(e,t,n),zn(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Oe(),n=ma(a);n.tag=2,e!=null&&(n.callback=e),e=pa(t,n,a),e!==null&&(De(e,t,a),zn(e,t,a))}},Qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zc=Error(d(461)),le=!1,Nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ua=!1,Qt=!1,Rr=!1,Jc=typeof WeakSet=="function"?WeakSet:Set,se=null,It=null,Ce=!1,Je=null,Tn=8192,$f={getCacheForType:function(t){var e=St(Ft),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a}},Hl=0,Ll=1,Vl=2,ql=3,wl=4;if(typeof Symbol=="function"&&Symbol.for){var ni=Symbol.for;Hl=ni("selector.component"),Ll=ni("selector.has_pseudo_class"),Vl=ni("selector.role"),ql=ni("selector.test_id"),wl=ni("selector.text")}var t1=typeof WeakMap=="function"?WeakMap:Map,Rt=0,qt=null,Tt=null,Mt=0,Ht=0,He=null,Ma=!1,xn=!1,Mr=!1,ca=0,Yt=0,Oa=0,Ja=0,Or=0,Fe=0,Nn=0,ii=null,Ae=null,Dr=!1,Gr=0,li=1/0,Pl=null,Da=null,ge=0,Ga=null,Rn=null,Mn=0,Ur=0,Br=null,kc=null,si=0,zr=null;return Et.attemptContinuousHydration=function(t){if(t.tag===13){var e=tn(t,67108864);e!==null&&De(e,t,67108864),ar(t,67108864)}},Et.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=Oe();e=V(e);var a=tn(t,e);a!==null&&De(a,t,e),ar(t,e)}},Et.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=N(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var a=1<<31-Ue(e);t.entanglements[1]|=a,e&=~a}$t(t),(Rt&6)===0&&(li=Ze()+500,ne(0))}}break;case 13:e=tn(t,2),e!==null&&De(e,t,2),Xu(),ar(t,2)}},Et.batchedUpdates=function(t,e){return t(e)},Et.createComponentSelector=function(t){return{$$typeof:Hl,value:t}},Et.createContainer=function(t,e,a,n,i,r,D,w,k,nt){return uc(t,e,!1,null,a,n,r,D,w,k,nt,null)},Et.createHasPseudoClassSelector=function(t){return{$$typeof:Ll,value:t}},Et.createHydrationContainer=function(t,e,a,n,i,r,D,w,k,nt,st,ct,ht){return t=uc(a,n,!0,t,i,r,w,k,nt,st,ct,ht),t.context=cc(null),a=t.current,n=Oe(),n=V(n),i=ma(n),i.callback=e??null,pa(a,i,n),e=n,t.current.lanes=e,P(t,e),$t(t),t},Et.createPortal=function(t,e,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:a}},Et.createRoleSelector=function(t){return{$$typeof:Vl,value:t}},Et.createTestNameSelector=function(t){return{$$typeof:ql,value:t}},Et.createTextSelector=function(t){return{$$typeof:wl,value:t}},Et.defaultOnCaughtError=function(t){console.error(t)},Et.defaultOnRecoverableError=function(t){Qc(t)},Et.defaultOnUncaughtError=function(t){Qc(t)},Et.deferredUpdates=function(t){var e=mt.T,a=la();try{return ie(32),mt.T=null,t()}finally{ie(a),mt.T=e}},Et.discreteUpdates=function(t,e,a,n,i){var r=mt.T,D=la();try{return ie(2),mt.T=null,t(e,a,n,i)}finally{ie(D),mt.T=r,Rt===0&&(li=Ze()+500)}},Et.findAllNodes=Zs,Et.findBoundingRects=function(t,e){if(!Jn)throw Error(d(363));e=Zs(t,e),t=[];for(var a=0;a<e.length;a++)t.push(Fd(e[a]));for(e=t.length-1;0<e;e--){a=t[e];for(var n=a.x,i=n+a.width,r=a.y,D=r+a.height,w=e-1;0<=w;w--)if(e!==w){var k=t[w],nt=k.x,st=nt+k.width,ct=k.y,ht=ct+k.height;if(n>=nt&&r>=ct&&i<=st&&D<=ht){t.splice(e,1);break}else if(n!==nt||a.width!==k.width||ht<r||ct>D){if(!(r!==ct||a.height!==k.height||st<n||nt>i)){nt>n&&(k.width+=nt-n,k.x=n),st<i&&(k.width=i-nt),t.splice(e,1);break}}else{ct>r&&(k.height+=ct-r,k.y=r),ht<D&&(k.height=D-ct),t.splice(e,1);break}}}return t},Et.findHostInstance=hc,Et.findHostInstanceWithNoPortals=function(t){return t=u(t),t=t!==null?y(t):null,t===null?null:Zn(t.stateNode)},Et.findHostInstanceWithWarning=function(t){return hc(t)},Et.flushPassiveEffects=Qn,Et.flushSyncFromReconciler=function(t){var e=Rt;Rt|=1;var a=mt.T,n=la();try{if(ie(2),mt.T=null,t)return t()}finally{ie(n),mt.T=a,Rt=e,(Rt&6)===0&&ne(0)}},Et.flushSyncWork=Xu,Et.focusWithin=function(t,e){if(!Jn)throw Error(d(363));for(t=Ks(t),e=ju(t,e),e=Array.from(e),t=0;t<e.length;){var a=e[t++],n=a.tag;if(!kn(a)){if((n===5||n===26||n===27)&&Xd(a.stateNode))return!0;for(a=a.child;a!==null;)e.push(a),a=a.sibling}}return!1},Et.getFindAllNodesFailureDescription=function(t,e){if(!Jn)throw Error(d(363));var a=0,n=[];t=[Ks(t),0];for(var i=0;i<t.length;){var r=t[i++],D=r.tag,w=t[i++],k=e[w];if((D!==5&&D!==26&&D!==27||!kn(r))&&(Xs(r,k)&&(n.push(Qs(k)),w++,w>a&&(a=w)),w<e.length))for(r=r.child;r!==null;)t.push(r,w),r=r.sibling}if(a<e.length){for(t=[];a<e.length;a++)t.push(Qs(e[a]));return`findAllNodes was able to match part of the selector:
  `+(n.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},Et.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return Zn(t.child.stateNode);default:return t.child.stateNode}},Et.injectIntoDevTools=function(){var t={bundleType:0,version:Cd,rendererPackageName:Ad,currentDispatcherRef:mt,reconcilerVersion:"19.1.0"};if(vc!==null&&(t.rendererConfig=vc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{Wn=e.inject(t),Be=e}catch{}t=!!e.checkDCE}}return t},Et.isAlreadyRendering=function(){return(Rt&6)!==0},Et.observeVisibleRects=function(t,e,a,n){if(!Jn)throw Error(d(363));t=Zs(t,e);var i=Qd(t,a,n).disconnect;return{disconnect:function(){i()}}},Et.shouldError=function(){return null},Et.shouldSuspend=function(){return!1},Et.startHostTransition=function(t,e,a,n){if(t.tag!==5)throw Error(d(476));var i=Jo(t).queue;Zo(t,i,e,on,a===null?S:function(){var r=Jo(t).next.queue;return wn(t,r,{},Oe()),a(n)})},Et.updateContainer=function(t,e,a,n){var i=e.current,r=Oe();return dc(i,r,t,e,a,n),r},Et.updateContainerSync=function(t,e,a,n){return dc(e.current,2,t,e,a,n),2},Et},l.exports.default=l.exports,Object.defineProperty(l.exports,"__esModule",{value:!0})}(Qr)),Qr.exports}var d0;function cg(){return d0||(d0=1,Xr.exports=ug()),Xr.exports}var hg=cg();const dg=Ir(hg);var Zr={exports:{}},fa={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function fg(){return f0||(f0=1,fa.ConcurrentRoot=1,fa.ContinuousEventPriority=8,fa.DefaultEventPriority=32,fa.DiscreteEventPriority=2,fa.IdleEventPriority=268435456,fa.LegacyRoot=0,fa.NoEventPriority=0),fa}var g0;function gg(){return g0||(g0=1,Zr.exports=fg()),Zr.exports}var es=gg(),mg=At();const m0={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let p0=!1,v0=!1;const Wl=".react-konva-event",pg=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,vg=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,yg={};function as(l,s,b=yg){if(!p0&&"zIndex"in s&&(console.warn(vg),p0=!0),!v0&&s.draggable){var S=s.x!==void 0||s.y!==void 0,d=s.onDragEnd||s.onDragMove;S&&!d&&(console.warn(pg),v0=!0)}for(var h in b)if(!m0[h]){var c=h.slice(0,2)==="on",u=b[h]!==s[h];if(c&&u){var g=h.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),l.off(g,b[h])}var y=!s.hasOwnProperty(h);y&&l.setAttr(h,void 0)}var v=s._useStrictMode,E={},_=!1;const f={};for(var h in s)if(!m0[h]){var c=h.slice(0,2)==="on",m=b[h]!==s[h];if(c&&m){var g=h.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),s[h]&&(f[g]=s[h])}!c&&(s[h]!==b[h]||v&&s[h]!==l.getAttr(h))&&(_=!0,E[h]=s[h])}_&&(l.setAttrs(E),La(l));for(var g in f)l.off(g+Wl),l.on(g+Wl,f[g])}function La(l){if(!mg.Konva.autoDrawEnabled){var s=l.getLayer()||l.getStage();s&&s.batchDraw()}}var Jr=_0();const L0={},_g={};kl.Node.prototype._applyProps=as;let V0=es.DefaultEventPriority;function Sg(l,s){if(typeof s=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${s}`);return}l.add(s),La(l)}function bg(l,s,b){let S=kl[l];S||(console.error(`Konva has no node with the type ${l}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${l}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),S=kl.Group);const d={},h={};for(var c in s)if(c!=="ref"){var u=c.slice(0,2)==="on";u?h[c]=s[c]:d[c]=s[c]}const g=new S(d);return as(g,h),g}function Cg(l,s,b){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${l}"`)}function Ag(l,s,b){return!1}function Eg(l){return l}function Tg(){return null}function xg(){return null}function Ng(l,s,b,S){return _g}function Rg(){}function Mg(l){}function Og(l,s){return!1}function Dg(){return L0}function Gg(){return L0}const Ug=setTimeout,Bg=clearTimeout,zg=!0,Hg=l=>{l()},Lg=-1;function Vg(l,s){return!1}const qg=!1,wg=!1,Pg=!0,jg=!1,Fg=!1;function Yg(l,s){s.parent===l?s.moveToTop():l.add(s),La(l)}function Kg(l,s){s.parent===l?s.moveToTop():l.add(s),La(l)}function q0(l,s,b){s._remove(),l.add(s),s.setZIndex(b.getZIndex()),La(l)}function Xg(l,s,b){q0(l,s,b)}function Qg(l,s){s.destroy(),s.off(Wl),La(l)}function Zg(l,s){s.destroy(),s.off(Wl),La(l)}function Jg(l,s,b){console.error(`Text components are not yet supported in ReactKonva. You text is: "${b}"`)}function kg(l,s,b){}function Wg(l,s,b,S){as(l,S,b)}function Ig(l){l.hide(),La(l)}function $g(l){}function t5(l,s){(s.visible==null||s.visible)&&l.show()}function e5(l,s){}function a5(l){}function n5(){}function i5(){return es.DefaultEventPriority}function l5(){}function s5(){return null}function r5(l){V0=l}function o5(){return V0}function u5(){return es.DiscreteEventPriority}function c5(){return!1}function h5(){}function d5(){return!1}function f5(){return!0}function g5(){}function m5(){}function p5(){return null}const v5=null;function y5(){}const _5=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:v5,appendChild:Yg,appendChildToContainer:Kg,appendInitialChild:Sg,cancelTimeout:Bg,clearContainer:a5,commitMount:kg,commitTextUpdate:Jg,commitUpdate:Wg,createInstance:bg,createTextInstance:Cg,detachDeletedInstance:n5,finalizeInitialChildren:Ag,getChildHostContext:Gg,getCurrentEventPriority:i5,getCurrentUpdatePriority:o5,getInstanceFromScope:s5,getPublicInstance:Eg,getRootHostContext:Dg,hideInstance:Ig,hideTextInstance:$g,idlePriority:Jr.unstable_IdlePriority,insertBefore:q0,insertInContainerBefore:Xg,isPrimaryRenderer:qg,maySuspendCommit:d5,noTimeout:Lg,now:Jr.unstable_now,preloadInstance:f5,prepareForCommit:Tg,preparePortalMount:xg,prepareScopeUpdate:l5,prepareUpdate:Ng,removeChild:Qg,removeChildFromContainer:Zg,requestPostPaintCallback:h5,resetAfterCommit:Rg,resetFormInstance:y5,resetTextContent:Mg,resolveUpdatePriority:u5,run:Jr.unstable_runWithPriority,scheduleMicrotask:Hg,scheduleTimeout:Ug,setCurrentUpdatePriority:r5,shouldAttemptEagerTransition:c5,shouldDeprioritizeSubtree:Og,shouldSetTextContent:Vg,startSuspendingCommit:g5,supportsHydration:Fg,supportsMicrotasks:zg,supportsMutation:Pg,supportsPersistence:jg,suspendInstance:m5,unhideInstance:t5,unhideTextInstance:e5,waitForCommitToBeReady:p5,warnsIfNotActing:wg},Symbol.toStringTag,{value:"Module"}));function w0(l,s,b){if(!l)return;if(b(l)===!0)return l;let S=l.child;for(;S;){const d=w0(S,s,b);if(d)return d;S=S.sibling}}function P0(l){try{return Object.defineProperties(l,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return l}}const so=P0(at.createContext(null));class j0 extends at.Component{render(){return at.createElement(so.Provider,{value:this._reactInternals},this.props.children)}}function S5(){const l=at.useContext(so);if(l===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const s=at.useId();return at.useMemo(()=>{for(const b of[l,l?.alternate]){if(!b)continue;const S=w0(b,!1,d=>{let h=d.memoizedState;for(;h;){if(h.memoizedState===s)return!0;h=h.next}});if(S)return S}},[l,s])}const b5=Symbol.for("react.context"),C5=l=>l!==null&&typeof l=="object"&&"$$typeof"in l&&l.$$typeof===b5;function A5(){const l=S5(),[s]=at.useState(()=>new Map);s.clear();let b=l;for(;b;){const S=b.type;C5(S)&&S!==so&&!s.has(S)&&s.set(S,at.use(P0(S))),b=b.return}return s}function E5(){const l=A5();return at.useMemo(()=>Array.from(l.keys()).reduce((s,b)=>S=>at.createElement(s,null,at.createElement(b.Provider,{...S,value:l.get(b)})),s=>at.createElement(j0,{...s})),[l])}if(pt.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function T5(l){const s=pt.useRef({});return pt.useLayoutEffect(()=>{s.current=l}),pt.useLayoutEffect(()=>()=>{s.current={}},[]),s.current}const x5=()=>{const l=pt.useRef(0);return pt.useMemo(()=>{l.current++},[]),l.current>1},N5=l=>{const s=pt.useRef(null),b=pt.useRef(null),S=pt.useRef(null),d=T5(l),h=E5(),c=pt.useRef(!1),u=y=>{const{forwardedRef:v}=l;v&&(typeof v=="function"?v(y):v.current=y)},g=x5();return pt.useLayoutEffect(()=>c.current&&g?()=>{c.current=!1,u(null),Gn.updateContainer(null,S.current,null),b.current.destroy()}:(c.current=!0,b.current=new kl.Stage({width:l.width,height:l.height,container:s.current}),u(b.current),S.current=Gn.createContainer(b.current,es.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Gn.updateContainer(pt.createElement(h,{},l.children),S.current,null,()=>{}),()=>{g||(u(null),Gn.updateContainer(null,S.current,null),b.current.destroy())}),[]),pt.useLayoutEffect(()=>{u(b.current),as(b.current,l,d),Gn.updateContainer(pt.createElement(h,{},l.children),S.current,null)}),pt.createElement("div",{ref:s,id:l.id,accessKey:l.accessKey,className:l.className,role:l.role,style:l.style,tabIndex:l.tabIndex,title:l.title})},R5="Layer",M5="Rect",O5="Text",D5="Transformer",Gn=dg(_5);Gn.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:pt.version,rendererPackageName:"react-konva"});const G5=pt.forwardRef((l,s)=>pt.createElement(j0,{},pt.createElement(N5,{...l,forwardedRef:s})));var U5="uv0jh20";const B5=l=>({None:0,Thin:1,Normal:1.5,Thick:2})[l],ro=at.forwardRef(({canvasState:l},s)=>{const{ref:b}=C0(()=>{d.current?.nodes([])}),S=at.useRef(null),d=at.useRef(null),h=at.useRef(null),c=at.useRef(null),u=()=>{if(!S.current||!h.current)return;const v=S.current.getPointerPosition();if(!v)return;const E=v.x,_=v.y;if(E<0||_<0||E>l.canvasWidth||_>l.canvasHeight){const f=l.canvasWidth/2,m=l.canvasHeight/2;h.current.rotation(0);const A=h.current.getClientRect();h.current.setPosition({x:f-A.width/2,y:m-A.height/2})}},g=()=>{d.current&&h.current&&d.current.nodes([h.current])},y=v=>{d.current&&v.target!==h.current&&d.current.nodes([])};return at.useEffect(()=>{if(!h.current)return;const v=h.current.getClientRect(),E=v.width,_=v.height,f=l.canvasWidth/2,m=l.canvasHeight/2;h.current.setPosition({x:f-E/2,y:m-_/2})},[l.canvasWidth,l.canvasHeight]),at.useEffect(()=>{if(!c.current)return;l.isBlur&&l.selectedImage?(c.current.cache(),c.current.filters([sg.Filters.Blur]),c.current.blurRadius(10)):c.current.clearCache()},[l.selectedImage,l.isBlur]),et.jsx("div",{ref:b,className:U5,children:et.jsx(G5,{ref:S1(S,s),width:l.canvasWidth,height:l.canvasHeight,children:et.jsxs(R5,{children:[et.jsx(M5,{ref:c,onClick:y,x:0,y:0,width:l.canvasWidth,height:l.canvasHeight,fillPatternImage:l.selectedImage?l.selectedImage:void 0,fill:l.selectedImage?void 0:l.bgColor.hex}),et.jsx(O5,{ref:h,x:l.canvasWidth/2,y:l.canvasHeight/2,fontSize:30,fontFamily:l.fontFamily,fill:l.fontColor.hex,stroke:l.strokeColor.hex,strokeWidth:B5(l.fontStrokeType),fontStyle:l.fontStyle,lineHeight:l.lineHeight,text:l.value,onClick:g,onDragEnd:u,verticalAlign:"middle",onMouseEnter:()=>document.body.style.cursor="pointer",onMouseLeave:()=>document.body.style.cursor="default",align:l.textAlign,draggable:!0}),et.jsx(D5,{ref:d,anchorCornerRadius:10,borderStrokeWidth:2,centeredScaling:!0})]})})})});ro.displayName="KonvaCanvas";ro.__docgenInfo={description:"",methods:[],displayName:"KonvaCanvas",props:{canvasState:{required:!0,tsType:{name:"CanvasStateWithColors"},description:""}}};const F0=({width:l=24,height:s=24,viewBox:b="0 0 24 24",fill:S="#09244B",strokeWidth:d=1})=>et.jsx("svg",{width:l,height:s,viewBox:b,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:et.jsx("g",{id:"页面-1",fill:"none",fillRule:"evenodd",children:et.jsx("g",{id:"Editor",transform:"translate(-192.000000, 0.000000)",fillRule:"nonzero",children:et.jsxs("g",{id:"bold_line",transform:"translate(192.000000, 0.000000)",children:[et.jsx("path",{d:"M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z",id:"MingCute",fillRule:"nonzero"}),et.jsx("path",{d:"M13,3 C15.7614,3 18,5.23858 18,8 C18,9.43071 17.3991,10.7211 16.4359,11.6325 C17.9657,12.4875 19,14.123 19,16 C19,18.6887316 16.8776708,20.8818169 14.2168878,20.9953804 L14,21 L6.1,21 C5.533,21 5.06617778,20.5709778 5.00645481,20.0198548 L5,19.9 L5,4.1 C5,3.53299067 5.42901351,3.06617653 5.98014344,3.00645469 L6.1,3 L13,3 Z M14,13 L7,13 L7,19 L14,19 C15.6569,19 17,17.6569 17,16 C17,14.3431 15.6569,13 14,13 Z M13,5 L7,5 L7,11 L13,11 C14.6569,11 16,9.65685 16,8 C16,6.34315 14.6569,5 13,5 Z",id:"形状",fill:S,stroke:S,strokeWidth:d})]})})})});F0.__docgenInfo={description:"",methods:[],displayName:"BoldFontIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#09244B'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}}}};const Y0=({width:l=24,height:s=24,fill:b="#000000",viewBox:S="0 0 24 24"})=>et.jsxs("svg",{width:l,height:s,viewBox:S,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[et.jsx("title",{children:"ic_fluent_text_italic_24_filled"}),et.jsx("desc",{children:"Created with Sketch."}),et.jsx("g",{id:"🔍-System-Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:et.jsx("g",{id:"ic_fluent_text_italic_24_filled",fill:b,fillRule:"nonzero",children:et.jsx("path",{d:"M10.6485851,18.5 L14.4957557,18.5 C15.047766,18.5 15.4952856,18.9478705 15.4952856,19.5 C15.4952856,20.0521295 15.047766,20.5 14.4957557,20.5 L4.99646479,20.5 C4.44472052,20.5 4,20.0524021 4,19.5 C4,18.9475979 4.44472052,18.5 4.99646479,18.5 L8.50564567,18.5 L13.3322324,5.9993837 L9.99693298,5.9993837 C9.44485457,5.9993837 8.99693298,5.55175319 8.99693298,4.99969185 C8.99693298,4.44763051 9.44485457,4 9.99693298,4 L18.5004701,4 C19.0525073,4 19.5,4.44758938 19.5,4.99969185 C19.5,5.55179432 19.0525073,5.9993837 18.5004701,5.9993837 L15.4751718,5.9993837 L10.6485851,18.5 Z",id:"🎨-Color"})})})]});Y0.__docgenInfo={description:"",methods:[],displayName:"FontItalicIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'0 0 24 24'",computed:!1}}}};const K0=({width:l=24,height:s=24,fill:b="#000000",viewBox:S=`0 0 ${l} ${s}`})=>et.jsx("svg",{fill:b,width:l,height:s,viewBox:S,xmlns:"http://www.w3.org/2000/svg",children:et.jsx("path",{d:"M5 18h14v3H5zm7.5-14h-1c-.401 0-.764.24-.921.609L5.745 16h2.173l1.273-3h5.604l1.268 3h2.171L13.421 4.61A1 1 0 0 0 12.5 4zm-2.46 7 1.959-4.616L13.95 11h-3.91z"})});K0.__docgenInfo={description:"",methods:[],displayName:"FontColorIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};const X0=({width:l=24,height:s=24,fill:b="#000000",viewBox:S="0 0 24 24"})=>et.jsxs("svg",{width:l,height:s,viewBox:S,fill:b,xmlns:"http://www.w3.org/2000/svg",children:[et.jsx("circle",{cx:"12",cy:"6",r:"1.5",fill:b}),et.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:b}),et.jsx("circle",{cx:"12",cy:"18",r:"1.5",fill:b})]});X0.__docgenInfo={description:"",methods:[],displayName:"MoreDotIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};var z5="var(--_14rheq80)",H5="_14rheq81",L5="_14rheq82",V5="_14rheq83",q5="_14rheq84";const Q0=({hasInput:l=!0,label:s,name:b,min:S,max:d,value:h,onChange:c})=>{const u=at.useMemo(()=>h==="-"?"50% 100%":(+h-S)*100/(d-S)+"% 100%",[S,d,h]),g=at.useMemo(()=>({...T0({[z5]:u})}),[u]);return et.jsxs("div",{className:H5,children:[et.jsxs("div",{className:L5,children:[et.jsx("label",{htmlFor:b,className:V5,children:s}),et.jsx("input",{type:"range",step:.1,name:b,min:S,max:d,value:h,onChange:c,className:q5,style:g})]}),l&&et.jsx(Zl,{width:80,name:b,value:h,onChange:c})]})};Q0.__docgenInfo={description:"",methods:[],displayName:"RangeInput",props:{hasInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},value:{required:!0,tsType:{name:"string"},description:""},min:{required:!0,tsType:{name:"number"},description:""},max:{required:!0,tsType:{name:"number"},description:""},label:{required:!0,tsType:{name:"string"},description:""}},composes:["ComponentProps"]};const w5={value:`Simple Thumbnail
Generator 😁`,fontStrokeType:"None",textAlign:"center",fontFamily:"Arial",canvasWidth:600,canvasHeight:400,lineHeight:1,imageType:"png",fontStyle:"normal",isBlur:!1,selectedImage:void 0,isBlockEvent:!1},P5=l=>["canvasWidth","canvasHeight"].includes(l)?()=>"":(b,S)=>!S&&b==="-"?"-":"",Z0=({additionalFontFamily:l,modalPosition:s,isFullWidth:b,onToggle:S})=>{const{ref:d}=C0(()=>{u.isBlockEvent||c(!1)}),[h,c]=at.useState(!1),[u,g]=at.useState(w5),[y,v]=at.useState({canvasWidth:600,canvasHeight:400}),E=C1(g,300),[_,f]=Hr("#192841"),[m,A]=Hr("#fff"),[N,U]=Hr("#121212"),p=at.useRef(null),o=at.useMemo(()=>({...u,bgColor:_,fontColor:m,strokeColor:N}),[u,_,m,N]),C=at.useMemo(()=>[...l||[],...e2],[l]),x=at.useMemo(()=>{const{textAlign:M}=u;return M==="center"?d1:M==="right"?f1:h1},[u.textAlign]),B=at.useCallback(()=>{const M=H=>{const{textAlign:z}=H;return z==="center"?"right":z==="right"?"left":"center"};g(H=>({...H,textAlign:M(H)}))},[]),P=at.useCallback(M=>{U(M),u.fontStrokeType==="None"&&g(H=>({...H,fontStrokeType:"Normal"}))},[u.fontStrokeType,U]),R=at.useCallback(()=>{g(M=>({...M,isBlockEvent:!M.isBlockEvent}))},[]),O=at.useCallback(M=>{const H=/[^0-9]/g,{name:z,value:q}=M.target,$=window.innerWidth,Y=P5(z),tt=q.replace(H,Y);z==="canvasWidth"&&+tt>$||(E(ot=>({...ot,[z]:tt})),v(ot=>({...ot,[z]:tt})))},[E]),G=at.useCallback(M=>{const{name:H,value:z}=M.target;g(q=>({...q,[H]:z}))},[]),V=at.useCallback((M,H)=>{g(z=>({...z,[M]:H}))},[]),j=at.useCallback(M=>{g(H=>({...H,selectedImage:void 0,isBlur:!1})),f(M)},[f]),K=at.useCallback(M=>{const{files:H}=M.target;if(H){const z=new Image;z.src=H[0]&&URL.createObjectURL(H[0]),z.onload=async()=>{v({canvasWidth:z.width,canvasHeight:z.height}),g(q=>({...q,isBlur:!1,selectedImage:z,canvasWidth:z.width,canvasHeight:z.height}))}}},[]),Q=at.useCallback(()=>{g(M=>({...M,isBlur:!M.isBlur}))},[]),F=at.useCallback(()=>{l2(p,u.imageType)},[u.imageType]),it=at.useCallback(M=>{g(H=>({...H,fontStyle:H.fontStyle===M?"normal":M}))},[]),T=at.useCallback(M=>{const{name:H,value:z}=M.target;g(q=>({...q,[H]:+z}))},[]);return et.jsxs("section",{className:c2({modalPosition:s,isFullWidth:b}),children:[et.jsx(M0,{onToggle:S}),et.jsx("div",{className:h2,children:et.jsxs("div",{className:d2,children:[et.jsx(ro,{ref:p,canvasState:o}),et.jsxs("div",{className:y2,children:[et.jsx(Yl,{name:"fontFamily",value:u.fontFamily,onChange:V,children:C.map(M=>et.jsx(Kl,{value:M,children:M},M))}),et.jsx(x0,{onChangeImage:K}),et.jsx(Xl,{color:_,setColor:j,toggleIsBlockEvent:R,children:et.jsx("img",{src:s1,width:20,height:20})}),et.jsx(Ha,{hasBorder:!0,onClick:Q,children:et.jsx("img",{src:c1,width:20,height:20})}),et.jsx(Ji,{color:"#d3d1d1",height:20,width:1}),et.jsx(Ha,{hasBorder:!0,onClick:B,children:et.jsx("img",{src:x,width:20,height:20})}),et.jsx(Xl,{color:m,setColor:A,toggleIsBlockEvent:R,children:et.jsx(K0,{width:20,height:20,viewBox:"0 0 24 24"})}),et.jsx(Ha,{hasBorder:!0,onClick:()=>it("bold"),children:et.jsx(F0,{width:20,height:20})}),et.jsx(Ha,{hasBorder:!0,onClick:()=>it("italic"),children:et.jsx(Y0,{width:20,height:20})}),et.jsx(Ji,{color:"#d3d1d1",height:20,width:1}),et.jsx(Ha,{hasBorder:!0,isOpen:h,onClick:()=>c(M=>!M),children:et.jsx(X0,{width:20,height:20})}),h&&et.jsxs("div",{ref:d,className:_2,children:[et.jsx(Q0,{hasInput:!1,label:"Line Height",name:"lineHeight",min:-3,max:3,value:String(u.lineHeight),onChange:T}),et.jsx(Ji,{color:"#d3d1d1",height:20,width:1}),et.jsx(Xl,{color:N,setColor:P,toggleIsBlockEvent:R,children:et.jsx("img",{src:r1,width:20,height:20})}),et.jsx(Yl,{name:"fontStrokeType",value:u.fontStrokeType,onChange:V,children:a2.map(M=>et.jsx(Kl,{value:M,children:M},M))})]})]}),et.jsx("div",{className:v2,children:et.jsx("textarea",{className:g2,name:"value",rows:5,value:u.value,onChange:G,placeholder:"THUMBNAIL TEXT"})}),et.jsxs("div",{className:sh,children:[et.jsx(Zl,{name:"canvasWidth",label:`Canvas Width (max: ${window.innerWidth}px)`,value:y.canvasWidth,onChange:O,disabled:!!u.selectedImage,width:200}),et.jsx(Zl,{name:"canvasHeight",label:"Canvas Height",value:y.canvasHeight,onChange:O,disabled:!!u.selectedImage,width:200})]}),et.jsx(Ji,{color:"#f3f3f3",height:10,margin:[10,0,0,0]}),et.jsx("div",{className:sh,children:et.jsx(Yl,{name:"imageType",label:"Download Image Type",value:u.imageType,onChange:V,children:n2.map(M=>et.jsx(Kl,{value:M,children:M},M))})}),et.jsx("div",{className:m2,children:et.jsx("button",{className:p2,onClick:F,children:"DOWNLOAD"})})]})})]})};Z0.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGeneratorContent",props:{additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!0,tsType:{name:"boolean"},description:""},modalPosition:{required:!0,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const j5=l=>{switch(l){case"small":return 24;case"medium":return 32;default:return 40}},oo=({isDefaultOpen:l=!1,iconSize:s="medium",iconPosition:b="bottom-right",modalPosition:S="right",isFullWidth:d=!1,additionalFontFamily:h})=>{const[c,u]=at.useState(l),g=j5(s),y=()=>{u(!c)};return et.jsx(A0,{children:c?et.jsx(Z0,{isFullWidth:d,modalPosition:S,additionalFontFamily:h,onToggle:y}):et.jsx("button",{className:f2({iconPosition:b}),onClick:y,children:et.jsx("img",{src:u1,width:g,height:g})})})};oo.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGenerator",props:{iconPosition:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1}},modalPosition:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:"",defaultValue:{value:"'right'",computed:!1}},iconSize:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const c4={title:"components/ThumbnailGenerator",component:oo},F5=({modalPosition:l,iconPosition:s,iconSize:b,isFullWidth:S})=>et.jsx(oo,{modalPosition:l,iconPosition:s,iconSize:b,isFullWidth:S,isDefaultOpen:!0}),Fl=F5.bind({iconSize:"medium",modalPosition:"right",iconPosition:[0,20,20,0],isFullWidth:!1});Fl.parameters={...Fl.parameters,docs:{...Fl.parameters?.docs,source:{originalSource:`Template.bind({
  iconSize: 'medium',
  modalPosition: 'right',
  iconPosition: [0, 20, 20, 0],
  isFullWidth: false
})`,...Fl.parameters?.docs?.source}}};const h4=["Default"];export{Fl as Default,h4 as __namedExportsOrder,c4 as default};
