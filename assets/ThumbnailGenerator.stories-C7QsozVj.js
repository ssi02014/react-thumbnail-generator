import{j as te,r as vc}from"./index-CqDYfV9w.js";import{r as ee,R as me,c as Hl,g as Ha,a as dd}from"./iframe-DLovqDvy.js";import{r as yc}from"./index-C5EXVe51.js";const fd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVR4nO2UQQqAMAwEN37Bfyq+xeqhPrYiRKiF1LbJMQs5NTubQgjgcllqBbABIAWDmLGUDzOAxHUOhhB7X87D/CgoQqiAB6lpz5ouAFMjPB8u1ny9IdQDl0KiYGrtGwohDfwPQhZwaTsOLu1KV3+SLCb/C4mW8PIMaM+Jy4U+3QvhPMbXkfjkAAAAAElFTkSuQmCC",gd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR4nO2UQQqAIBBF/3SF7hl0lsxFHdYYGCElKZyx1Tz4C0PeNxkEHOdPCMAqoRHyACBJTgDTKHmyLCEA8SbdJXkdNddVn/yQb5xN+ycteUZV8iZXlXyVd5U8yafW5p6SoJgOqqaNXQWzwehRVcLOgsXgGSBxsMtxYMMFKrM8y1JyjcUAAAAASUVORK5CYII=",pd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoElEQVR4nO2WUQqAIBBE57TzVZ3DSxf9FASJueusBTnQp/seplPAyMg9CcAEfaZj9mMIYAWwCOHnzNm6YHkDrpRwwxUSzfAWCRncIyGHWyTC4DUS4fCSRDd4TqI7/Fqt2/FEVPe3BXjZ9ohvRzG5d95NgoUDFy7BitMeJkHDVZNL0HHPZRJsKJlmCQoazi1BYb2aJRjQ7SaJ9PZv+ci/sgM32VIN2RJOpwAAAABJRU5ErkJggg==",md="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR4nN2UPQrCQBBGH7Y5lK122lna2CTaxUK9jOCttDPXMBtZmMAgG9xfBD8YSDK735sZhsA/awZcgXMpwBzogQE4loJsFaRYJxvgJZBLKchNAEXGVQNGRVbIThnv1XuWcenKa8d3C2lzVe7K95I/kNk8CeJrHgUJNQ+G6A2JCRPSRRHzWIhR5mtghYf0rg9fzBu5UwGdRJUDYpS51Unl7HPSuIxj0x4qf/cFuDr5rHxUp848SfgvNRNnlmJsYxEKGCFT5r/TG1Z/kWy10vtdAAAAAElFTkSuQmCC",vd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACdUlEQVR4nO1WPYwSQRT+UPACMRISY5DKYOhMDJReAZ0/OaDTBkotoNQCSi2g9AootYCOs4FOQwKNiRaQUFxiSCg8Q0guBoiRjUJgzNvMrLi3u9wurNV9yUt23+x73zezM28ecAFreA1AAsC4Sdz3X3B/jVhtNGY73hFZoVBgAvTMBdCYrbgO4JfT6WTD4VARMBqNmMvlIgG/AdywU8BzmmkikWBqxONxsQr0jW04JpJ6vS6TTiYT2Qjk4wK+AHDYQb5PBH6/n83nc5m0VCqxcrksPy8WCxYIBISIe3YIeEvJ8/m8suzhcJhFIhHlPZfLCQFvdk1+FcAPh8PB+v2+TNbr9ZTj1+12Zd9gMGD0DYCfAK7tUsAzIorFYspsM5mMIiCbzSr+aDQq/E93KeAzJa1WqzKJJEnM5/MpArxeL5vNZvJYpVIR/k+7Ir9jQKKYjri7uxBwaLDMiun8nq3vhysATnU22j+2vkE7nY7wfwewt42AJ5RI56idMfUR5f7H2wj4QElEsSE0m01Wq9U0jcYEKIYLeG+V/BaApdvtZuPxmJnFdDplHo+HBCx5LtN4STNIp9PMKlKplFgFymUKlwGcUHC73VZfuYa2flW3Wi3hP+E5z42HFBgMBtlqtVI3HRutWCzKMRQbCoWE/4HprqeonYjE6eGRgfAjy11P6+9SftuwlJcAfNX5defull5QgmQyaXUzvVJvXuqgzHRLx/Rxo9FQH6cVgNtWjq+Zbmlfq+vhwVSULBUwVbdEHMYXT167pFJZtlzCKSfPc7hRAM7aqclLZU9cYhpmKOAmgI+8fIqAIYADmMcBjxV5ljw3cVwAAn8A9R8muIepLUEAAAAASUVORK5CYII=",yd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVR4nO3Yv0scQRTA8U9ia8pAwFJMKQipzZZeIVgLFwhWsTB/RppUQvoUHopXCrbXaRPshATyB2iVCKJCTlcOTljOvdM979fG94VX7sz78mbezgxBEARB8J/yAb9wg3RMcYOfqBZNvjLGpNMusVREYHsCEk47olZEoJH58JPxsZ7Jo5VTXwKJ8ZGEgN4VuOtUf1DHmzJVoJKz0Q7wQkkEtrt0i7dKIlDrIjBncCSxhPTexNX2r761iXfLtolHQRICogL3eI1vOMYRvmBaSZbQO5zmtN7fmJ10gfc463FcPsHCqATm8R2H2MHiA+Ot4PIRZ/6/HWMNReAz/uVc/b7iZc5YH9EscHG5wPIwBKaw+cDk+3iVGWcD133cvppYG6RAq0vsPXLyH5hpd5eiiacdVa0PQmC13e6KTH7+xOTTnOhb4GoIyYxUIJ2QaISAElWgNgFLJu2IrWf1tJi9bZXycTcIgiAIlIFbufOCQD+tqawAAAAASUVORK5CYII=",_d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHsklEQVR4nO2aaVBTVxTH86Htt35rpy4IFnGrjrUuuNe91gLKMi6lIC4kIQmLJCxJIBCzQIAgUoMJLhCEWkFA0GjFfVwGdejiNi60WFFTFGISkmo3ejrv1dD3kheSCOFBypn5f7t5uf/fPfe8c29CoQzFUAyFK5GWsn8ufbOiPGJd/sXQwOzmoBWSR1gFB2Rr14bkPV8fJjd+sbbAHLGu4IU7FR2lMHLi97aKhZWNZSVnV1PcEZmZ596IpSuV8/25v458JxoGspYuEHRliarOVFXdeqtPzKcmqSPmz+S9INuY6yAyulS7jvF7ZT6eWZw/xotBupnXle9IBsgkh069lvlYhrLA612qzUN9htEgOCALssRVsF99FqqrLpEqZA45WTUQtioHnZv1fBEPebLaepfTfozVyiMPitlSBN9/dweePn0KJpMJzGbzgFLz/UfAohfbQPAbxYTiXce5The8udO5uD3//ogYKN17ArRaLSqj0Ui62Z50oPw8Omesh+ULhV1NTU1vOgTAoO7abb3yJXv+M9/e3k66QWchWGeCTOpEPZhv9apD0t5ivr9XX6fTQ11tIwh4XwF9ixJS2GrYo2qABy1apz7PoKrwWbBI2OWwyfHCFD6f4XR0z1vMt7W19Zv5yq8vwrTJHMLqPnpEDKRzK1BAPT3j3t1WXGH8N5sbguwCoG9WlGO/CKn22NXv6OjoF/MySbVTr7nAFVJ49ux5j88KCZThPiMSHrxsF0Dk+oJL2MFi4dc4ADqdrl9W3pV3fXSUomeYUjxMTsK+h3YBhAZmN2MHFyuP4QDo9Xq373nrtPcZRgUufSscKEyFfD4Hpn9At4Fw7sx1u89Ul5zGjaVtLDLYBRC0QvIIO3i/+iQOgMFgcCsApOBZm79Wnwbws6hbxptCWDIb36MwacV2n4k0S9ixyAFqwAJI51bgJousPNa8RecP8nDj/KemeAYAhtVrC0l7IgCdt4S4cUjT4xEAkhNLcZNF9jwRgLunBbhxH05I9AwAe1QNuMnOmERH97w1gISNCbhxa0PyPAPAgxatTQ+/dDYDLlTyofO2EO6dEdiYR1Sy55RnADCbzZCWii+EjjRvJg/0zw2eA0Cn06MdnjPmx/mw4Num+z0+b9ABMJvNaHuLdHiOVt6R+UELwPxKSIeHNDnIex45AH04kQ1rgnPRPW/QO3cqHdQAzH2gfgVg6DRCzbl6YMuyIHRTMiwOTIBFnyVAwOdsoKVlQFF1CWg7tJ4HQPe8AwQKOXw0w/ENsp8vHaI4aXD7wW3PAKC5dBz857FcenVZQAiV28Fk6hycAEymTkgrzAPvEbZX567ok9BEuPHj9cEFoOVxCwSsZxMaGu1FhRAqG7ilAth+Vgw7LkhAXCuEKF4KTJqM7/IsmjghBvYdLRscAOrOa2DKVNu9jty3rYtLgoPaXNC8zCdUvSkfklTpaPoTfX4Dhw9tOu3ABPDkyWPg75ATpryfLw1ENUK7xq1V/pMMFgXGE2bDjDksOHHt5MACcOfeXVi9PpVwwnOXxIH6XrbT5i06+kIObEU6IdDRI6mQlJONvlZJB1DfcBKmTCFO+ciUFKg3yl02j1XRFSl8NJP49bk8ZCvcaP6BPACRW8TgPbz3Ke9Ih/VyFCYRhAnjYkBVqyYHwEiilF8aC+r7sj4zj5WoVgjj/IgLZHgcF7TtT8gD4PVuNIRzOL1O+V4VyNks+OZKg/sALFyY1En0xX5jaMCrYEOtIcut5i06YpYDK49PuP2QAskvzIVOkxtOg5MnMf+0/sI5Sxnw5dVU2N/K6zcAFikaJTB1BpMwGz4JS4SbLTf6FsDMWXF/YAcvC2OCuoWHmicDAKKajjxYw0wiLpDj6bC7Tt13AFaGcnB/jEguYXebJwuARduqM2HsGOK/wESyefCLnWO2xwDQvCqQi4PsF8jjjQ2eDUDjoIP0GUEFTq4U10F6HADNKxVdlcA0f+ICuSw4obuD9FgAGgcd5PixdFDVqD0bgOaVkPuGcWOJ7xoWf7bVeQAhEakG7OB4RSIOQI1eSrpZezrQmgPLw2x/NrMWfVMPf5CIYKThWuGNGQk4AId0YtKN9qSjv+ZDrJy4g+zO6sTSVrsAmGmiRuzgj1cycAAqn20j3WRvj9gJ4iytXQASpWI1cuixDPYeFt3dBiOqeJwOmpfuPQz1ZQe5epPtvSW/oEBK6SlmzWN2YT8QtDEWlwX1phzSzTkr5HIW62XixBigOIo4geSMNTW28r9iWPm07y5C3Kn0igyb1c9U5rY4BJBZVfWW/1wWLgu8h+Mh1JkHdhakl2egXSHWw5wlcXCpve5tijMh2CHnvz/KtpIGRMVC4dUU+EorQFtSso1aq6xZZpP2iHx9aLCzetduiiuxdZv0KLYgWjTqvWhY8CkDNmWygV8mQE9pZAqZQ4yUi94ijXqPSnhaFO+V/0R5nUgUZR0hyoTBIl9vGoj2yh9QehOCHdu5s+bja8JgELLndx5W7aP0RRQ3Fb8ZL5Scmr2A1UW0LQaKkHRHbq0zivMeOl3wXI1tqsIgJl90eQMr/efg8GQjcoDCKmBN0m+B4Ul/BYVzulZFcP5eFeleraGldNEFGb9zd2a3lZ4qS3bZ0FAMBeV/Hf8ApUHbVMNLqRkAAAAASUVORK5CYII=",Sd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR4nOXWzSsFURjH8S8rikv5Byhs7Sy85S0WVhb+GupuLGxk60bKTvwHFqRElGRzs2LJwms3rLg69Ts1i9u9M885c0ue+tU5Z3rm08ycmQb+WLUB54obN602gKqy3ix0DPhOwG48mTfaCdwnUJ87oCNPeK0G6rOaF9oHfNWB3bHePOCDOqjPXmx0BPhJAbuMx0JbgMuUqMtFLHghA+ozHwM+NcBnMZ5t1ZjhEHg3AN62ogXgMwD+0Jcucy0FoD6LFngnAmy63TcR4GsL/KZmt7NHjfCrBa6ouV3zJwP8boFv1Tyk+aEBLlvgLTWvaD5ngEsWeFbND0CX1pYzwtMY60Qn2AdatTYFXKVAjwioQeAlgXdrvacB+gz0E1gTCfwRKAKbDdBoPwMDwHHK2xt8pbVqRju1rPe8onEpZCPxL+oX1mA2OnIJA6MAAAAASUVORK5CYII=",Cd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR4nO3aQQqDMBQE0Dlek/uvWwjeo8UTVFTiF9+D7DPoYhiSAACV9SSfJN/iZ71jOyPwKBBm61kE3mH9Td4Fvt6/s97xtScgAHfSJzWt05rSnZrWkgLG0wK3SU1LUwJgA5tW5q8ZU4vLeFrgZtMCoI5u00rt4nDUuFtTOqrZtACoo3unlcunHJtWbFoAQIr5AdE+2j1jRhTnAAAAAElFTkSuQmCC",xd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVR4nO3WQQqEMBBFwX887fuvFcR7zJATzCBCWqmC3qdJIC8BADqrJHuST/MZZ1zvWPhosMy/c1r4gvFMtga392vGGZcrCwLwJKW0Mv3PVVq5MS1XpQVAH6W0Mr2olFaUFgDvVEor04tKaUVpAfBOpbQyvaiUVpQWAJBmvtJoWcwlcdsDAAAAAElFTkSuQmCC",wd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVR4nO3YQQrCMBQE0Dmeyf3XCqX3UHICJQ0xmvfg7zO0i2ESAGBlNckjyXPxa28sIwIfC4T59E6BO7Tf5L7A13t37Y23noAA7KROamrDmtYvNbUhTeuq7QKXSU1N0wLYQrVpZfqaMbV4HLsFLjYtAP5HtWll7eJxlU0rNi0Autm08v0px6YVmxYAkMW8AOsU2j1bZwouAAAAAElFTkSuQmCC";function _c(){return typeof window>"u"}function Ad(){return!_c()}function Pd(i,a,y={}){let C,S=null,c=null,o=null;const{signal:u,leading:h=!1,trailing:v=!0,maxWait:m}=y,A=()=>{S!=null&&(i.apply(C,S),C=void 0,S=null,c=null)},_=()=>{v&&A(),T()},f=()=>{if(typeof m=="number"&&c!=null){const l=Date.now()-c,x=m-l;if(x<=0){_();return}return Math.min(a,x)}return a},p=()=>{o!=null&&clearTimeout(o);const l=f();o=setTimeout(()=>{o=null,_()},l)},w=()=>{o!=null&&(clearTimeout(o),o=null)},T=()=>{w(),C=void 0,S=null,c=null},F=()=>{w(),A(),c=null},g=function(...l){if(u?.aborted)return;C=this,S=l;const x=o==null;x&&(c=Date.now()),p(),h&&x&&A()};return g.cancel=T,g.flush=F,u?.addEventListener("abort",T,{once:!0}),g}function Ed(){if(_c())return!1;const i=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|Windows Phone|BlackBerry|IEMobile|Opera Mini/i.test(i)}function Td(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function Rd(i){return typeof i=="function"}const kd=(...i)=>a=>i.forEach(y=>{if(Rd(y))y(a);else if(y!=null){const C=y;C.current=a}});function bd(...i){return ee.useCallback(kd(...i),i)}function Sc(){const[i,a]=ee.useState(!1);return ee.useEffect(()=>{a(!0)},[]),i}function Wa(i){const a=ee.useRef(i);return a.current=i,ee.useCallback((...y)=>a.current(...y),[])}function Nd(i){const a=Wa(i);ee.useEffect(()=>()=>a(),[a])}function Fd(i,a,y={}){const C=Wa(i),{signal:S,leading:c=!1,trailing:o=!0,maxWait:u}=y??{},h=ee.useMemo(()=>Pd(C,a,{signal:S,leading:c,trailing:o,...typeof u=="number"&&{maxWait:u}}),[C,a,S,c,o,u]);return Nd(()=>h.cancel()),h}const qa=Ad()?ee.useLayoutEffect:ee.useEffect,Md=i=>i?Td(i,"current"):!1;function Ld(i,a,y,C){const S=Wa(y);qa(()=>{const c=Md(i)?i.current:i;if(c)return c.addEventListener(a,S,C),()=>{c.removeEventListener(a,S,C)}},[a,i,C,S])}function Cc(i,a){const{excludeRefs:y}={},C=ee.useRef(null),S=ee.useMemo(()=>Ed()?"touchstart":"mousedown",[]);return Ld(typeof document<"u"?document:null,S,({target:o})=>{if(!C.current)return;const u=C.current,h=y?.some(A=>A.current?.contains(o));!u.contains(o)&&!h&&i(u)}),{ref:C}}const Wl=ee.createContext({parentPortalElement:null}),Id="portal";function Od({children:i,className:a=Id,containerRef:y}){const{parentPortalElement:C}=ee.useContext(Wl),S=ee.useCallback(u=>{const h=u.ownerDocument.createElement("div");return h.classList.add(a),h},[a]),c=ee.useMemo(()=>C||y?.current||document.body,[C,y]),o=ee.useMemo(()=>S(c),[S,c]);return qa(()=>(c.appendChild(o),()=>{c.contains(o)&&c.removeChild(o)}),[o,c]),vc.createPortal(te.jsx(Wl.Provider,{value:{parentPortalElement:o},children:i}),o)}const Dd=({children:i,...a})=>Sc()?te.jsx(Od,{...a,children:i}):te.jsx(te.Fragment,{}),ql=ee.createContext({parentPortalElement:null}),Gd="portal";function Bd({children:i,className:a=Gd,containerRef:y}){const{parentPortalElement:C}=ee.useContext(ql),S=ee.useCallback(u=>{const h=u.ownerDocument.createElement("div");return h.classList.add(a),h},[a]),c=ee.useMemo(()=>C||y?.current||document.body,[C,y]),o=ee.useMemo(()=>S(c),[S,c]);return qa(()=>(c.appendChild(o),()=>{c.contains(o)&&c.removeChild(o)}),[o,c]),vc.createPortal(te.jsx(ql.Provider,{value:{parentPortalElement:o},children:i}),o)}const xc=({children:i,...a})=>Sc()?te.jsx(Bd,{...a,children:i}):te.jsx(te.Fragment,{});xc.__docgenInfo={description:"",methods:[],displayName:"Portal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},containerRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLElement>",elements:[{name:"HTMLElement"}]},description:""}}};var Ud="ltypjn0",zd="ltypjn1",Vd={default:"ltypjn3 ltypjn2",isOpen:"ltypjn4 ltypjn2"},Kl="ltypjn5",jd="ltypjn6",Hd={default:"ltypjn8 ltypjn7",active:"ltypjn9 ltypjn7"};const wc=me.createContext(null),ns=({children:i,name:a,color:y,value:C,label:S,onChange:c})=>{const[o,u]=ee.useState(!1),h=ee.useRef(null),v=ee.useCallback(()=>{u(!o)},[o]),m=ee.useCallback(A=>{c&&(c(a,A),u(!1))},[c]);return ee.useEffect(()=>{const A=_=>{h.current&&!h.current.contains(_.target)&&u(!o)};return o&&document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[o]),te.jsx(wc.Provider,{value:{color:y,selectValue:C,onChange:m},children:te.jsxs("div",{className:Ud,children:[S&&te.jsx("span",{className:zd,children:S}),te.jsxs("div",{className:Vd[o?"isOpen":"default"],ref:h,onClick:v,children:[te.jsx("p",{className:Kl,children:C}),te.jsx("p",{className:Kl,children:te.jsx("img",{src:o?gd:fd,width:12,height:12})})]}),o&&te.jsx("ul",{className:jd,children:i})]})})};ns.__docgenInfo={description:"",methods:[],displayName:"Select",props:{name:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(name: string, value: string | number) => void",signature:{arguments:[{type:{name:"string"},name:"name"},{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const rs=({children:i,value:a})=>{const{selectValue:y,onChange:C}=ee.useContext(wc);return te.jsx("li",{className:Hd[String(y).toLowerCase()===String(a).toLowerCase()?"active":"default"],onClick:()=>C(a),children:i})};rs.__docgenInfo={description:"",methods:[],displayName:"SelectItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""}}};var Wd="var(--_1hsvaro0)",qd="_1hsvaro1",Kd="_1hsvaro2",Yd="_1hsvaro3";function Xd(i){var a=i.match(/^var\((.*)\)$/);return a?a[1]:i}function Ac(i,a){var y={};{var C=i;for(var S in C){var c=C[S];c!=null&&(y[Xd(S)]=c)}}return Object.defineProperty(y,"toString",{value:function(){return Object.keys(this).map(u=>"".concat(u,":").concat(this[u])).join(";")},writable:!1}),y}const as=({name:i,label:a,value:y,width:C=124,maxLength:S=5,disabled:c=!1,onChange:o})=>{const u=ee.useMemo(()=>({...Ac({[Wd]:`${C}px`})}),[C]);return te.jsxs("div",{className:qd,children:[a&&te.jsx("label",{htmlFor:i,className:Kd,children:a}),te.jsx("input",{type:"text",name:i,id:i,value:y,maxLength:S,onChange:o,disabled:c,className:Yd,style:u})]})};as.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{label:{required:!1,tsType:{name:"string"},description:""},width:{defaultValue:{value:"124",computed:!1},required:!1},maxLength:{defaultValue:{value:"5",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["ComponentProps"]};var Qd="_17ek9070",Jd="_17ek9071",Zd="_17ek9072",$d="_17ek9073";const Pc=({onChangeImage:i})=>{const a=ee.useRef(null),y=C=>{i(C),a.current&&(a.current.value="")};return te.jsxs("div",{className:Qd,children:[te.jsx("label",{htmlFor:"file",className:Zd,children:te.jsx("img",{src:yd,width:20,height:20,className:$d})}),te.jsx("input",{ref:a,id:"file",type:"file",onChange:y,className:Jd})]})};Pc.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{onChangeImage:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""}}};const ii=({width:i="100%",height:a,color:y,margin:C})=>{const[S,c,o,u]=C??[0,0,0,0],h=ee.useMemo(()=>({width:i,height:a,backgroundColor:y,marginTop:S,marginRight:c,marginBottom:o,marginLeft:u}),[]);return te.jsx("div",{style:h})};ii.__docgenInfo={description:"",methods:[],displayName:"Divider",props:{width:{required:!1,tsType:{name:"CSSProperties['width']",raw:"CSSProperties['width']"},description:"",defaultValue:{value:"'100%'",computed:!1}},height:{required:!0,tsType:{name:"CSSProperties['height']",raw:"CSSProperties['height']"},description:""},color:{required:!0,tsType:{name:"string"},description:""},margin:{required:!1,tsType:{name:"tuple",raw:"[number, number, number, number]",elements:[{name:"number"},{name:"number"},{name:"number"},{name:"number"}]},description:""}}};function yn(i,a){return Array.isArray(i)?i.includes(a):i}var e0=i=>{let a=i.getBoundingClientRect();return{width:a.width,height:a.height}};function ls(){let i=ee.useRef(null),[a,y]=ee.useState({width:1,height:1});ee.useLayoutEffect(()=>{let S=()=>{i.current&&y(e0(i.current))},c=([{contentBoxSize:u}])=>{y({height:u[0].blockSize,width:u[0].inlineSize})};window.addEventListener("resize",S,!1);let o=new ResizeObserver(c);return i.current&&o.observe(i.current),()=>{window.removeEventListener("resize",S,!1),o.disconnect()}},[]);let C=ee.useCallback(()=>{let{left:S=1,right:c=1,top:o=1,bottom:u=1}=i.current?.getBoundingClientRect()??{};return{left:S,right:c,top:o,bottom:u}},[]);return[i,a,C]}function os(i,a,y){return i<a?a:i>y?y:i}var t0=class{convert(i,a){let y=this.toHex("#000000"),C=this.hex2rgb(y),S=this.rgb2hsv(C);if(i==="hex"){let c=a;y=this.toHex(c),C=this.hex2rgb(y),y.startsWith("rgba")&&(C=this.toRgb(y),y=this.rgb2hex(C)),S=this.rgb2hsv(C)}else i==="rgb"?(C=a,y=this.rgb2hex(C),S=this.rgb2hsv(C)):i==="hsv"&&(S=a,C=this.hsv2rgb(S),y=this.rgb2hex(C));return{hex:y,rgb:C,hsv:S}}toHex(i){if(i.startsWith("#")){if(i.length===4||i.length===5)return i=i.split("").map((a,y)=>y?y<4?a+a:a==="f"?void 0:a+a:"#").join(""),i;if(i.length===7)return i;if(i.length===9)return i.endsWith("ff")?i.slice(0,7):i}else{let a=document.createElement("canvas").getContext("2d");if(!a)throw new Error("2d context not supported or canvas already initialized");return a.fillStyle=i,a.fillStyle}return"#000000"}toRgb(i){let a=i.match(/\d+(\.\d+)?/gu)??[],[y,C,S,c]=Array.from({length:4}).map((o,u)=>os(+(a[u]??(u<3?0:1)),0,u<3?255:1));return{r:y,g:C,b:S,a:c}}toHsv(i){let a=i.match(/\d+(\.\d+)?/gu)??[],[y,C,S,c]=Array.from({length:4}).map((o,u)=>os(+(a[u]??(u<3?0:1)),0,u?u<3?100:1:360));return{h:y,s:C,v:S,a:c}}hex2rgb(i){i=i.slice(1);let[a,y,C,S]=Array.from({length:4}).map((c,o)=>parseInt(i.slice(o*2,o*2+2),16));return S=Number.isNaN(S)?1:S/255,{r:a,g:y,b:C,a:S}}rgb2hsv({r:i,g:a,b:y,a:C}){i/=255,a/=255,y/=255;let S=Math.max(i,a,y),c=S-Math.min(i,a,y),o=c?(S===i?(a-y)/c+(a<y?6:0):S===a?2+(y-i)/c:4+(i-a)/c)*60:0,u=S?c/S*100:0,h=S*100;return{h:o,s:u,v:h,a:C}}hsv2rgb({h:i,s:a,v:y,a:C}){a/=100,y/=100;let S=~~(i/60),c=i/60-S,o=y*(1-a),u=y*(1-a*c),h=y*(1-a*(1-c)),v=S%6,m=[y,u,o,o,h,y][v]*255,A=[h,y,y,u,o,o][v]*255,_=[o,o,h,y,y,u][v]*255;return{r:m,g:A,b:_,a:C}}rgb2hex({r:i,g:a,b:y,a:C}){let[S,c,o,u]=[i,a,y,C].map((h,v)=>Math.round(v<3?h:h*255).toString(16).padStart(2,"0"));return["#",S,c,o,u==="ff"?void 0:u].join("")}},ht=new t0;function Mn(i){return"touches"in i}var Ka=ee.memo(({onCoordinateChange:i,children:a,disabled:y})=>{let[C,{width:S,height:c},o]=ls(),u=ee.useCallback((v,m=!1)=>{let{left:A,top:_}=o(),f=os(v.clientX-A,0,S),p=os(v.clientY-_,0,c);i(m,f,p)},[S,c,o,i]),h=ee.useCallback(v=>{if(!Mn(v)&&v.button!==0)return;let m=_=>{u(Mn(_)?_.touches[0]:_)},A=_=>{u(Mn(_)?_.changedTouches[0]:_,!0),document.removeEventListener(Mn(_)?"touchmove":"mousemove",m,!1),document.removeEventListener(Mn(_)?"touchend":"mouseup",A,!1)};m(v),document.addEventListener(Mn(v)?"touchmove":"mousemove",m,!1),document.addEventListener(Mn(v)?"touchend":"mouseup",A,!1)},[u]);return me.createElement("div",{ref:C,className:"rcp-interactive",onMouseDown:h,onTouchStart:h,"aria-disabled":y},a)}),n0=ee.memo(({color:i,disabled:a,onChange:y,onChangeComplete:C})=>{let[S,{width:c}]=ls(),o=ee.useMemo(()=>({x:i.hsv.a*c}),[i.hsv.a,c]),u=ee.useCallback((m,A)=>{let _=ht.convert("hsv",{...i.hsv,a:A/c});y(_),m&&C?.(_)},[i.hsv,c,y,C]),h=ee.useMemo(()=>[i.rgb.r,i.rgb.g,i.rgb.b].join(" "),[i.rgb.r,i.rgb.g,i.rgb.b]),v=ee.useMemo(()=>[h,i.rgb.a].join(" / "),[h,i.rgb.a]);return me.createElement(Ka,{disabled:a,onCoordinateChange:u},me.createElement("div",{ref:S,style:{background:`linear-gradient(to right, rgb(${h} / 0), rgb(${h} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},me.createElement("div",{style:{left:o.x,background:`linear-gradient(to right, rgb(${v}), rgb(${v})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-o.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});function Ec(i,a){return Math.round(i*10**a)/10**a}function Yl({r:i,g:a,b:y,a:C}){let S=[Math.round(i),Math.round(a),Math.round(y)],c=Ec(C,3);return c<1&&S.push(c),S.join(", ")}function Xl({h:i,s:a,v:y,a:C}){let S=[`${Math.round(i)}°`,`${Math.round(a)}%`,`${Math.round(y)}%`],c=Ec(C,3);return c<1&&S.push(c),S.join(", ")}var r0=ee.memo(({hideInput:i,color:a,disabled:y,onChange:C,onChangeComplete:S})=>{let[c,o]=ee.useState({hex:{value:a.hex,inputted:!1},rgb:{value:Yl(a.rgb),inputted:!1},hsv:{value:Xl(a.hsv),inputted:!1}});ee.useEffect(()=>{c.hex.inputted||o(m=>({...m,hex:{...m.hex,value:a.hex}}))},[c.hex.inputted,a.hex]),ee.useEffect(()=>{c.rgb.inputted||o(m=>({...m,rgb:{...m.rgb,value:Yl(a.rgb)}}))},[c.rgb.inputted,a.rgb]),ee.useEffect(()=>{c.hsv.inputted||o(m=>({...m,hsv:{...m.hsv,value:Xl(a.hsv)}}))},[c.hsv.inputted,a.hsv]);let u=ee.useCallback(m=>A=>{let{value:_}=A.target;o(f=>({...f,[m]:{...f[m],value:_}})),C(m==="hsv"?ht.convert("hsv",ht.toHsv(_)):m==="rgb"?ht.convert("rgb",ht.toRgb(_)):ht.convert("hex",_))},[C]),h=ee.useCallback(m=>()=>{o(A=>({...A,[m]:{...A[m],inputted:!0}}))},[]),v=ee.useCallback(m=>A=>{let{value:_}=A.target;o(f=>({...f,[m]:{...f[m],inputted:!1}})),S?.(m==="hsv"?ht.convert("hsv",ht.toHsv(_)):m==="rgb"?ht.convert("rgb",ht.toRgb(_)):ht.convert("hex",_))},[S]);return me.createElement("div",{className:"rcp-fields"},!yn(i,"hex")&&me.createElement("div",{className:"rcp-fields-floor"},me.createElement("div",{className:"rcp-field"},me.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:y,value:c.hex.value,onChange:u("hex"),onFocus:h("hex"),onBlur:v("hex")}),me.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!yn(i,"rgb")||!yn(i,"hsv"))&&me.createElement("div",{className:"rcp-fields-floor"},!yn(i,"rgb")&&me.createElement("div",{className:"rcp-field"},me.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:y,value:c.rgb.value,onChange:u("rgb"),onFocus:h("rgb"),onBlur:v("rgb")}),me.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!yn(i,"hsv")&&me.createElement("div",{className:"rcp-field"},me.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:y,value:c.hsv.value,onChange:u("hsv"),onFocus:h("hsv"),onBlur:v("hsv")}),me.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))}),i0=ee.memo(({color:i,disabled:a,onChange:y,onChangeComplete:C})=>{let[S,{width:c}]=ls(),o=ee.useMemo(()=>({x:i.hsv.h/360*c}),[i.hsv.h,c]),u=ee.useCallback((v,m)=>{let A=ht.convert("hsv",{...i.hsv,h:m/c*360});y(A),v&&C?.(A)},[i.hsv,c,y,C]),h=ee.useMemo(()=>[i.hsv.h,"100%","50%"].join(" "),[i.hsv.h]);return me.createElement(Ka,{disabled:a,onCoordinateChange:u},me.createElement("div",{ref:S,className:"rcp-hue"},me.createElement("div",{style:{left:o.x,backgroundColor:`hsl(${h})`},className:"rcp-hue-cursor"})))}),s0=ee.memo(({height:i,color:a,disabled:y,onChange:C,onChangeComplete:S})=>{let[c,{width:o}]=ls(),u=ee.useMemo(()=>{let A=a.hsv.s/100*o,_=(100-a.hsv.v)/100*i;return{x:A,y:_}},[a.hsv.s,a.hsv.v,o,i]),h=ee.useCallback((A,_,f)=>{let p=ht.convert("hsv",{...a.hsv,s:_/o*100,v:100-f/i*100});C(p),A&&S?.(p)},[a.hsv,o,i,C,S]),v=ee.useMemo(()=>[a.hsv.h,"100%","50%"].join(" "),[a.hsv.h]),m=ee.useMemo(()=>[a.rgb.r,a.rgb.g,a.rgb.b].join(" "),[a.rgb.r,a.rgb.g,a.rgb.b]);return me.createElement(Ka,{disabled:y,onCoordinateChange:h},me.createElement("div",{ref:c,style:{height:i,backgroundColor:`hsl(${v})`},className:"rcp-saturation"},me.createElement("div",{style:{left:u.x,top:u.y,backgroundColor:`rgb(${m})`},className:"rcp-saturation-cursor"})))}),a0=ee.memo(({height:i=200,hideAlpha:a=!1,hideInput:y=!1,color:C,disabled:S=!1,onChange:c,onChangeComplete:o})=>me.createElement("div",{className:"rcp-root rcp"},me.createElement(s0,{height:i,color:C,disabled:S,onChange:c,onChangeComplete:o}),me.createElement("div",{className:"rcp-body"},me.createElement("section",{className:"rcp-section"},me.createElement(i0,{color:C,disabled:S,onChange:c,onChangeComplete:o}),!a&&me.createElement(n0,{color:C,disabled:S,onChange:c,onChangeComplete:o})),(!yn(y,"hex")||!yn(y,"rgb")||!yn(y,"hsv"))&&me.createElement("section",{className:"rcp-section"},me.createElement(r0,{hideInput:y,color:C,disabled:S,onChange:c,onChangeComplete:o})))));function Ra(i){let[a,y]=ee.useState(ht.convert("hex",i));return ee.useEffect(()=>{y(ht.convert("hex",i))},[i]),[a,y]}var o0={default:"_15oudje1 _15oudje0",hasBorder:"_15oudje2 _15oudje0",isOpen:"_15oudje3 _15oudje0"};function Tc(i){var a,y,C="";if(typeof i=="string"||typeof i=="number")C+=i;else if(typeof i=="object")if(Array.isArray(i)){var S=i.length;for(a=0;a<S;a++)i[a]&&(y=Tc(i[a]))&&(C&&(C+=" "),C+=y)}else for(y in i)i[y]&&(C&&(C+=" "),C+=y);return C}function l0(){for(var i,a,y=0,C="",S=arguments.length;y<S;y++)(i=arguments[y])&&(a=Tc(i))&&(C&&(C+=" "),C+=a);return C}const _n=({hasBorder:i,isOpen:a,...y})=>{const{className:C,...S}=y;return te.jsx("button",{...S,className:l0(o0[a?"isOpen":i?"hasBorder":"default"],C)})};_n.__docgenInfo={description:"",methods:[],displayName:"IconButton",props:{hasBorder:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentProps"]};const is=({children:i,color:a,toggleIsBlockEvent:y,setColor:C})=>{const[S,c]=ee.useState(!1),o=ee.useRef(null),[u,h]=ee.useState({x:0,y:0}),v=ee.useCallback(f=>{S&&o.current&&(o.current.contains(f.target)||(c(!1),y()))},[S,y]),m=ee.useCallback(f=>{const{x:p,y:w}=f.currentTarget.getBoundingClientRect();h({x:p,y:w}),c(T=>!T),y()},[y]);ee.useEffect(()=>(document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}),[v]);const A=ee.useMemo(()=>({position:"relative"}),[]),_=ee.useMemo(()=>({position:"absolute",left:`${u.x}px`,top:`${u.y-360}px`,transform:"translateX(-50%)",zIndex:"9999"}),[u]);return te.jsxs("div",{style:A,children:[te.jsx(_n,{isOpen:S,onClick:m,hasBorder:!0,children:i}),S&&te.jsx(Dd,{children:te.jsx("div",{ref:o,style:_,children:te.jsx(a0,{height:150,color:a,onChange:C,hideInput:["hsv"]})})})]})};is.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},color:{required:!0,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: ComponentProps<typeof PaletteColorPicker>['color']) => void",signature:{arguments:[{type:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},name:"color"}],return:{name:"void"}}},description:""},toggleIsBlockEvent:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var u0="r0da600",c0="r0da601";const Rc=({onToggle:i})=>te.jsx("header",{className:u0,children:te.jsx(_n,{className:c0,onClick:i,hasBorder:!1,children:te.jsx("img",{src:pd,width:20,height:20})})});Rc.__docgenInfo={description:"",methods:[],displayName:"Header",props:{onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const h0=["Arial","monospace","Times New Roman","Georgia","Courier New","Verdana"],d0=["None","Thin","Normal","Thick"],f0=["png","jpg","webp"],g0=(i,a="png")=>{const y=document.createElement("a");y.href=i,y.setAttribute("download",`thumbnail.${a}`),document.body.appendChild(y),y.click(),document.body.removeChild(y)},p0=(i,a)=>{if(i.current){const y=i.current.toDataURL();g0(y,a)}};function m0(i,a){if(typeof i!="object"||!i)return i;var y=i[Symbol.toPrimitive];if(y!==void 0){var C=y.call(i,a);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function v0(i){var a=m0(i,"string");return typeof a=="symbol"?a:String(a)}function y0(i,a,y){return a=v0(a),a in i?Object.defineProperty(i,a,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[a]=y,i}function Ql(i,a){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(i);a&&(C=C.filter(function(S){return Object.getOwnPropertyDescriptor(i,S).enumerable})),y.push.apply(y,C)}return y}function Jl(i){for(var a=1;a<arguments.length;a++){var y=arguments[a]!=null?arguments[a]:{};a%2?Ql(Object(y),!0).forEach(function(C){y0(i,C,y[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(y)):Ql(Object(y)).forEach(function(C){Object.defineProperty(i,C,Object.getOwnPropertyDescriptor(y,C))})}return i}function Zl(i,a){var y={};for(var C in i)y[C]=a(i[C],C);return y}var _0=(i,a,y)=>{for(var C of Object.keys(i)){var S;if(i[C]!==((S=a[C])!==null&&S!==void 0?S:y[C]))return!1}return!0},kc=i=>{var a=y=>{var C=i.defaultClassName,S=Jl(Jl({},i.defaultVariants),y);for(var c in S){var o,u=(o=S[c])!==null&&o!==void 0?o:i.defaultVariants[c];if(u!=null){var h=u;typeof h=="boolean"&&(h=h===!0?"true":"false");var v=i.variantClassNames[c][h];v&&(C+=" "+v)}}for(var[m,A]of i.compoundVariants)_0(m,S,i.defaultVariants)&&(C+=" "+A);return C};return a.variants=()=>Object.keys(i.variantClassNames),a.classNames={get base(){return i.defaultClassName.split(" ")[0]},get variants(){return Zl(i.variantClassNames,y=>Zl(y,C=>C.split(" ")[0]))}},a},S0=kc({defaultClassName:"svrs4m0",variantClassNames:{isFullWidth:{true:"svrs4m1",false:"svrs4m2"},modalPosition:{left:"svrs4m3",right:"svrs4m4",center:"svrs4m5"}},defaultVariants:{},compoundVariants:[]}),C0="svrs4m6",x0="svrs4m7",w0=kc({defaultClassName:"ceao1g0",variantClassNames:{iconPosition:{"top-left":"ceao1g1","top-right":"ceao1g2","bottom-left":"ceao1g3","bottom-right":"ceao1g4"}},defaultVariants:{},compoundVariants:[]}),A0="ceao1g5",P0="ceao1g6",E0="ceao1g7",$l="ceao1g8",T0="ceao1g9",R0="ceao1ga",k0="ceao1gb",ss={exports:{}},vr={},ka={},ba={},eu;function Ce(){return eu||(eu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i._registerNode=i.Konva=i.glob=void 0;const a=Math.PI/180;function y(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}i.glob=typeof Hl<"u"?Hl:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},i.Konva={_global:i.glob,version:"9.3.22",isBrowser:y(),isUnminified:/param/.test((function(S){}).toString()),dblClickWindow:400,getAngle(S){return i.Konva.angleDeg?S*a:S},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return i.Konva.DD.isDragging},isTransforming(){var S;return(S=i.Konva.Transformer)===null||S===void 0?void 0:S.isTransforming()},isDragReady(){return!!i.Konva.DD.node},releaseCanvasOnDestroy:!0,document:i.glob.document,_injectGlobal(S){i.glob.Konva=S}};const C=S=>{i.Konva[S.prototype.getClassName()]=S};i._registerNode=C,i.Konva._injectGlobal(i.Konva)}(ba)),ba}var Na={},tu;function Ue(){return tu||(tu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Util=i.Transform=void 0;const a=Ce();class y{constructor(x=[1,0,0,1,0,0]){this.dirty=!1,this.m=x&&x.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new y(this.m)}copyInto(x){x.m[0]=this.m[0],x.m[1]=this.m[1],x.m[2]=this.m[2],x.m[3]=this.m[3],x.m[4]=this.m[4],x.m[5]=this.m[5]}point(x){const E=this.m;return{x:E[0]*x.x+E[2]*x.y+E[4],y:E[1]*x.x+E[3]*x.y+E[5]}}translate(x,E){return this.m[4]+=this.m[0]*x+this.m[2]*E,this.m[5]+=this.m[1]*x+this.m[3]*E,this}scale(x,E){return this.m[0]*=x,this.m[1]*=x,this.m[2]*=E,this.m[3]*=E,this}rotate(x){const E=Math.cos(x),L=Math.sin(x),U=this.m[0]*E+this.m[2]*L,R=this.m[1]*E+this.m[3]*L,b=this.m[0]*-L+this.m[2]*E,N=this.m[1]*-L+this.m[3]*E;return this.m[0]=U,this.m[1]=R,this.m[2]=b,this.m[3]=N,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(x,E){const L=this.m[0]+this.m[2]*E,U=this.m[1]+this.m[3]*E,R=this.m[2]+this.m[0]*x,b=this.m[3]+this.m[1]*x;return this.m[0]=L,this.m[1]=U,this.m[2]=R,this.m[3]=b,this}multiply(x){const E=this.m[0]*x.m[0]+this.m[2]*x.m[1],L=this.m[1]*x.m[0]+this.m[3]*x.m[1],U=this.m[0]*x.m[2]+this.m[2]*x.m[3],R=this.m[1]*x.m[2]+this.m[3]*x.m[3],b=this.m[0]*x.m[4]+this.m[2]*x.m[5]+this.m[4],N=this.m[1]*x.m[4]+this.m[3]*x.m[5]+this.m[5];return this.m[0]=E,this.m[1]=L,this.m[2]=U,this.m[3]=R,this.m[4]=b,this.m[5]=N,this}invert(){const x=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*x,L=-this.m[1]*x,U=-this.m[2]*x,R=this.m[0]*x,b=x*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),N=x*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=L,this.m[2]=U,this.m[3]=R,this.m[4]=b,this.m[5]=N,this}getMatrix(){return this.m}decompose(){const x=this.m[0],E=this.m[1],L=this.m[2],U=this.m[3],R=this.m[4],b=this.m[5],N=x*U-E*L,G={x:R,y:b,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(x!=0||E!=0){const z=Math.sqrt(x*x+E*E);G.rotation=E>0?Math.acos(x/z):-Math.acos(x/z),G.scaleX=z,G.scaleY=N/z,G.skewX=(x*L+E*U)/N,G.skewY=0}else if(L!=0||U!=0){const z=Math.sqrt(L*L+U*U);G.rotation=Math.PI/2-(U>0?Math.acos(-L/z):-Math.acos(L/z)),G.scaleX=N/z,G.scaleY=z,G.skewX=0,G.skewY=(x*L+E*U)/N}return G.rotation=i.Util._getRotation(G.rotation),G}}i.Transform=y;const C="[object Array]",S="[object Number]",c="[object String]",o="[object Boolean]",u=Math.PI/180,h=180/Math.PI,v="#",m="",A="0",_="Konva warning: ",f="Konva error: ",p="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let F=[];const g=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};i.Util={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===C},_isNumber(l){return Object.prototype.toString.call(l)===S&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===c},_isBoolean(l){return Object.prototype.toString.call(l)===o},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;const x=l[0];return x==="#"||x==="."||x===x.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){F.push(l),F.length===1&&g(function(){const x=F;F=[],x.forEach(function(E){E()})})},createCanvasElement(){const l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,x){const E=i.Util.createImageElement();E.onload=function(){x(E)},E.src=l},_rgbToHex(l,x,E){return((1<<24)+(l<<16)+(x<<8)+E).toString(16).slice(1)},_hexToRgb(l){l=l.replace(v,m);const x=parseInt(l,16);return{r:x>>16&255,g:x>>8&255,b:x&255}},getRandomColor(){let l=(Math.random()*16777215<<0).toString(16);for(;l.length<6;)l=A+l;return v+l},getRGB(l){let x;return l in w?(x=w[l],{r:x[0],g:x[1],b:x[2]}):l[0]===v?this._hexToRgb(l.substring(1)):l.substr(0,4)===p?(x=T.exec(l.replace(/ /g,"")),{r:parseInt(x[1],10),g:parseInt(x[2],10),b:parseInt(x[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",i.Util._namedColorToRBA(l)||i.Util._hex3ColorToRGBA(l)||i.Util._hex4ColorToRGBA(l)||i.Util._hex6ColorToRGBA(l)||i.Util._hex8ColorToRGBA(l)||i.Util._rgbColorToRGBA(l)||i.Util._rgbaColorToRGBA(l)||i.Util._hslColorToRGBA(l)},_namedColorToRBA(l){const x=w[l.toLowerCase()];return x?{r:x[0],g:x[1],b:x[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];const x=l.split(/ *, */).map(Number);return{r:x[0],g:x[1],b:x[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];const x=l.split(/ *, */).map((E,L)=>E.slice(-1)==="%"?L===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:x[0],g:x[1],b:x[2],a:x[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[x,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),L=Number(E[0])/360,U=Number(E[1])/100,R=Number(E[2])/100;let b,N,G;if(U===0)return G=R*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};R<.5?b=R*(1+U):b=R+U-R*U;const z=2*R-b,W=[0,0,0];for(let K=0;K<3;K++)N=L+1/3*-(K-1),N<0&&N++,N>1&&N--,6*N<1?G=z+(b-z)*6*N:2*N<1?G=b:3*N<2?G=z+(b-z)*(2/3-N)*6:G=z,W[K]=G*255;return{r:Math.round(W[0]),g:Math.round(W[1]),b:Math.round(W[2]),a:1}}},haveIntersection(l,x){return!(x.x>l.x+l.width||x.x+x.width<l.x||x.y>l.y+l.height||x.y+x.height<l.y)},cloneObject(l){const x={};for(const E in l)this._isPlainObject(l[E])?x[E]=this.cloneObject(l[E]):this._isArray(l[E])?x[E]=this.cloneArray(l[E]):x[E]=l[E];return x},cloneArray(l){return l.slice(0)},degToRad(l){return l*u},radToDeg(l){return l*h},_degToRad(l){return i.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),i.Util.degToRad(l)},_radToDeg(l){return i.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),i.Util.radToDeg(l)},_getRotation(l){return a.Konva.angleDeg?i.Util.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(f+l)},error(l){console.error(f+l)},warn(l){a.Konva.showWarnings&&console.warn(_+l)},each(l,x){for(const E in l)x(E,l[E])},_inRange(l,x,E){return x<=l&&l<E},_getProjectionToSegment(l,x,E,L,U,R){let b,N,G;const z=(l-E)*(l-E)+(x-L)*(x-L);if(z==0)b=l,N=x,G=(U-E)*(U-E)+(R-L)*(R-L);else{const W=((U-l)*(E-l)+(R-x)*(L-x))/z;W<0?(b=l,N=x,G=(l-U)*(l-U)+(x-R)*(x-R)):W>1?(b=E,N=L,G=(E-U)*(E-U)+(L-R)*(L-R)):(b=l+W*(E-l),N=x+W*(L-x),G=(b-U)*(b-U)+(N-R)*(N-R))}return[b,N,G]},_getProjectionToLine(l,x,E){const L=i.Util.cloneObject(l);let U=Number.MAX_VALUE;return x.forEach(function(R,b){if(!E&&b===x.length-1)return;const N=x[(b+1)%x.length],G=i.Util._getProjectionToSegment(R.x,R.y,N.x,N.y,l.x,l.y),z=G[0],W=G[1],K=G[2];K<U&&(L.x=z,L.y=W,U=K)}),L},_prepareArrayForTween(l,x,E){const L=[],U=[];if(l.length>x.length){const b=x;x=l,l=b}for(let b=0;b<l.length;b+=2)L.push({x:l[b],y:l[b+1]});for(let b=0;b<x.length;b+=2)U.push({x:x[b],y:x[b+1]});const R=[];return U.forEach(function(b){const N=i.Util._getProjectionToLine(b,L,E);R.push(N.x),R.push(N.y)}),R},_prepareToStringify(l){let x;l.visitedByCircularReferenceRemoval=!0;for(const E in l)if(l.hasOwnProperty(E)&&l[E]&&typeof l[E]=="object"){if(x=Object.getOwnPropertyDescriptor(l,E),l[E].visitedByCircularReferenceRemoval||i.Util._isElement(l[E]))if(x.configurable)delete l[E];else return null;else if(i.Util._prepareToStringify(l[E])===null)if(x.configurable)delete l[E];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,x){for(const E in x)l[E]=x[E];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999},releaseCanvas(...l){a.Konva.releaseCanvasOnDestroy&&l.forEach(x=>{x.width=0,x.height=0})},drawRoundedRectPath(l,x,E,L){let U=0,R=0,b=0,N=0;typeof L=="number"?U=R=b=N=Math.min(L,x/2,E/2):(U=Math.min(L[0]||0,x/2,E/2),R=Math.min(L[1]||0,x/2,E/2),N=Math.min(L[2]||0,x/2,E/2),b=Math.min(L[3]||0,x/2,E/2)),l.moveTo(U,0),l.lineTo(x-R,0),l.arc(x-R,R,R,Math.PI*3/2,0,!1),l.lineTo(x,E-N),l.arc(x-N,E-N,N,0,Math.PI/2,!1),l.lineTo(b,E),l.arc(b,E-b,b,Math.PI/2,Math.PI,!1),l.lineTo(0,U),l.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}}(Na)),Na}var yr={},nn={},rn={},nu;function bc(){if(nu)return rn;nu=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.HitContext=rn.SceneContext=rn.Context=void 0;const i=Ue(),a=Ce();function y(F){const g=[],l=F.length,x=i.Util;for(let E=0;E<l;E++){let L=F[E];x._isNumber(L)?L=Math.round(L*1e3)/1e3:x._isString(L)||(L=L+""),g.push(L)}return g}const C=",",S="(",c=")",o="([",u="])",h=";",v="()",m="=",A=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let p=class{constructor(g){this.canvas=g,a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(g){g.fillEnabled()&&this._fill(g)}_fill(g){}strokeShape(g){g.hasStroke()&&this._stroke(g)}_stroke(g){}fillStrokeShape(g){g.attrs.fillAfterStrokeEnabled?(this.strokeShape(g),this.fillShape(g)):(this.fillShape(g),this.strokeShape(g))}getTrace(g,l){let x=this.traceArr,E=x.length,L="",U,R,b,N;for(U=0;U<E;U++)R=x[U],b=R.method,b?(N=R.args,L+=b,g?L+=v:i.Util._isArray(N[0])?L+=o+N.join(C)+u:(l&&(N=N.map(G=>typeof G=="number"?Math.floor(G):G)),L+=S+N.join(C)+c)):(L+=R.property,g||(L+=m+R.val)),L+=h;return L}clearTrace(){this.traceArr=[]}_trace(g){let l=this.traceArr,x;l.push(g),x=l.length,x>=f&&l.shift()}reset(){const g=this.getCanvas().getPixelRatio();this.setTransform(1*g,0,0,1*g,0,0)}getCanvas(){return this.canvas}clear(g){const l=this.getCanvas();g?this.clearRect(g.x||0,g.y||0,g.width||0,g.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(g){const l=g.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(g){const l=g.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(g){const l=g.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}setAttr(g,l){this._context[g]=l}arc(g,l,x,E,L,U){this._context.arc(g,l,x,E,L,U)}arcTo(g,l,x,E,L){this._context.arcTo(g,l,x,E,L)}beginPath(){this._context.beginPath()}bezierCurveTo(g,l,x,E,L,U){this._context.bezierCurveTo(g,l,x,E,L,U)}clearRect(g,l,x,E){this._context.clearRect(g,l,x,E)}clip(...g){this._context.clip.apply(this._context,g)}closePath(){this._context.closePath()}createImageData(g,l){const x=arguments;if(x.length===2)return this._context.createImageData(g,l);if(x.length===1)return this._context.createImageData(g)}createLinearGradient(g,l,x,E){return this._context.createLinearGradient(g,l,x,E)}createPattern(g,l){return this._context.createPattern(g,l)}createRadialGradient(g,l,x,E,L,U){return this._context.createRadialGradient(g,l,x,E,L,U)}drawImage(g,l,x,E,L,U,R,b,N){const G=arguments,z=this._context;G.length===3?z.drawImage(g,l,x):G.length===5?z.drawImage(g,l,x,E,L):G.length===9&&z.drawImage(g,l,x,E,L,U,R,b,N)}ellipse(g,l,x,E,L,U,R,b){this._context.ellipse(g,l,x,E,L,U,R,b)}isPointInPath(g,l,x,E){return x?this._context.isPointInPath(x,g,l,E):this._context.isPointInPath(g,l,E)}fill(...g){this._context.fill.apply(this._context,g)}fillRect(g,l,x,E){this._context.fillRect(g,l,x,E)}strokeRect(g,l,x,E){this._context.strokeRect(g,l,x,E)}fillText(g,l,x,E){E?this._context.fillText(g,l,x,E):this._context.fillText(g,l,x)}measureText(g){return this._context.measureText(g)}getImageData(g,l,x,E){return this._context.getImageData(g,l,x,E)}lineTo(g,l){this._context.lineTo(g,l)}moveTo(g,l){this._context.moveTo(g,l)}rect(g,l,x,E){this._context.rect(g,l,x,E)}roundRect(g,l,x,E,L){this._context.roundRect(g,l,x,E,L)}putImageData(g,l,x){this._context.putImageData(g,l,x)}quadraticCurveTo(g,l,x,E){this._context.quadraticCurveTo(g,l,x,E)}restore(){this._context.restore()}rotate(g){this._context.rotate(g)}save(){this._context.save()}scale(g,l){this._context.scale(g,l)}setLineDash(g){this._context.setLineDash?this._context.setLineDash(g):"mozDash"in this._context?this._context.mozDash=g:"webkitLineDash"in this._context&&(this._context.webkitLineDash=g)}getLineDash(){return this._context.getLineDash()}setTransform(g,l,x,E,L,U){this._context.setTransform(g,l,x,E,L,U)}stroke(g){g?this._context.stroke(g):this._context.stroke()}strokeText(g,l,x,E){this._context.strokeText(g,l,x,E)}transform(g,l,x,E,L,U){this._context.transform(g,l,x,E,L,U)}translate(g,l){this._context.translate(g,l)}_enableTrace(){let g=this,l=A.length,x=this.setAttr,E,L;const U=function(R){let b=g[R],N;g[R]=function(){return L=y(Array.prototype.slice.call(arguments,0)),N=b.apply(g,arguments),g._trace({method:R,args:L}),N}};for(E=0;E<l;E++)U(A[E]);g.setAttr=function(){x.apply(g,arguments);const R=arguments[0];let b=arguments[1];(R==="shadowOffsetX"||R==="shadowOffsetY"||R==="shadowBlur")&&(b=b/this.canvas.getPixelRatio()),g._trace({property:R,val:b})}}_applyGlobalCompositeOperation(g){const l=g.attrs.globalCompositeOperation;!l||l==="source-over"||this.setAttr("globalCompositeOperation",l)}};rn.Context=p,_.forEach(function(F){Object.defineProperty(p.prototype,F,{get(){return this._context[F]},set(g){this._context[F]=g}})});class w extends p{constructor(g,{willReadFrequently:l=!1}={}){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(g){const l=g.fill();this.setAttr("fillStyle",l),g._fillFunc(this)}_fillPattern(g){this.setAttr("fillStyle",g._getFillPattern()),g._fillFunc(this)}_fillLinearGradient(g){const l=g._getLinearGradient();l&&(this.setAttr("fillStyle",l),g._fillFunc(this))}_fillRadialGradient(g){const l=g._getRadialGradient();l&&(this.setAttr("fillStyle",l),g._fillFunc(this))}_fill(g){const l=g.fill(),x=g.getFillPriority();if(l&&x==="color"){this._fillColor(g);return}const E=g.getFillPatternImage();if(E&&x==="pattern"){this._fillPattern(g);return}const L=g.getFillLinearGradientColorStops();if(L&&x==="linear-gradient"){this._fillLinearGradient(g);return}const U=g.getFillRadialGradientColorStops();if(U&&x==="radial-gradient"){this._fillRadialGradient(g);return}l?this._fillColor(g):E?this._fillPattern(g):L?this._fillLinearGradient(g):U&&this._fillRadialGradient(g)}_strokeLinearGradient(g){const l=g.getStrokeLinearGradientStartPoint(),x=g.getStrokeLinearGradientEndPoint(),E=g.getStrokeLinearGradientColorStops(),L=this.createLinearGradient(l.x,l.y,x.x,x.y);if(E){for(let U=0;U<E.length;U+=2)L.addColorStop(E[U],E[U+1]);this.setAttr("strokeStyle",L)}}_stroke(g){const l=g.dash(),x=g.getStrokeScaleEnabled();if(g.hasStroke()){if(!x){this.save();const L=this.getCanvas().getPixelRatio();this.setTransform(L,0,0,L,0,0)}this._applyLineCap(g),l&&g.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",g.dashOffset())),this.setAttr("lineWidth",g.strokeWidth()),g.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),g.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(g):this.setAttr("strokeStyle",g.stroke()),g._strokeFunc(this),x||this.restore()}}_applyShadow(g){var l,x,E;const L=(l=g.getShadowRGBA())!==null&&l!==void 0?l:"black",U=(x=g.getShadowBlur())!==null&&x!==void 0?x:5,R=(E=g.getShadowOffset())!==null&&E!==void 0?E:{x:0,y:0},b=g.getAbsoluteScale(),N=this.canvas.getPixelRatio(),G=b.x*N,z=b.y*N;this.setAttr("shadowColor",L),this.setAttr("shadowBlur",U*Math.min(Math.abs(G),Math.abs(z))),this.setAttr("shadowOffsetX",R.x*G),this.setAttr("shadowOffsetY",R.y*z)}}rn.SceneContext=w;class T extends p{constructor(g){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:!0})}_fill(g){this.save(),this.setAttr("fillStyle",g.colorKey),g._fillFuncHit(this),this.restore()}strokeShape(g){g.hasHitStroke()&&this._stroke(g)}_stroke(g){if(g.hasHitStroke()){const l=g.getStrokeScaleEnabled();if(!l){this.save();const L=this.getCanvas().getPixelRatio();this.setTransform(L,0,0,L,0,0)}this._applyLineCap(g);const x=g.hitStrokeWidth(),E=x==="auto"?g.strokeWidth():x;this.setAttr("lineWidth",E),this.setAttr("strokeStyle",g.colorKey),g._strokeFuncHit(this),l||this.restore()}}}return rn.HitContext=T,rn}var ru;function us(){if(ru)return nn;ru=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.HitCanvas=nn.SceneCanvas=nn.Canvas=void 0;const i=Ue(),a=bc(),y=Ce();let C;function S(){if(C)return C;const h=i.Util.createCanvasElement(),v=h.getContext("2d");return C=function(){const m=y.Konva._global.devicePixelRatio||1,A=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return m/A}(),i.Util.releaseCanvas(h),C}let c=class{constructor(v){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const A=(v||{}).pixelRatio||y.Konva.pixelRatio||S();this.pixelRatio=A,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(v){const m=this.pixelRatio;this.pixelRatio=v,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(v){this.width=this._canvas.width=v*this.pixelRatio,this._canvas.style.width=v+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}setHeight(v){this.height=this._canvas.height=v*this.pixelRatio,this._canvas.style.height=v+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(v,m){this.setWidth(v||0),this.setHeight(m||0)}toDataURL(v,m){try{return this._canvas.toDataURL(v,m)}catch{try{return this._canvas.toDataURL()}catch(_){return i.Util.error("Unable to get data URL. "+_.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};nn.Canvas=c;class o extends c{constructor(v={width:0,height:0,willReadFrequently:!1}){super(v),this.context=new a.SceneContext(this,{willReadFrequently:v.willReadFrequently}),this.setSize(v.width,v.height)}}nn.SceneCanvas=o;class u extends c{constructor(v={width:0,height:0}){super(v),this.hitCanvas=!0,this.context=new a.HitContext(this),this.setSize(v.width,v.height)}}return nn.HitCanvas=u,nn}var Fa={},iu;function Ya(){return iu||(iu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DD=void 0;const a=Ce(),y=Ue();i.DD={get isDragging(){let C=!1;return i.DD._dragElements.forEach(S=>{S.dragStatus==="dragging"&&(C=!0)}),C},justDragged:!1,get node(){let C;return i.DD._dragElements.forEach(S=>{C=S.node}),C},_dragElements:new Map,_drag(C){const S=[];i.DD._dragElements.forEach((c,o)=>{const{node:u}=c,h=u.getStage();h.setPointersPositions(C),c.pointerId===void 0&&(c.pointerId=y.Util._getFirstPointerId(C));const v=h._changedPointerPositions.find(m=>m.id===c.pointerId);if(v){if(c.dragStatus!=="dragging"){const m=u.dragDistance();if(Math.max(Math.abs(v.x-c.startPointerPos.x),Math.abs(v.y-c.startPointerPos.y))<m||(u.startDrag({evt:C}),!u.isDragging()))return}u._setDragPosition(C,c),S.push(u)}}),S.forEach(c=>{c.fire("dragmove",{type:"dragmove",target:c,evt:C},!0)})},_endDragBefore(C){const S=[];i.DD._dragElements.forEach(c=>{const{node:o}=c,u=o.getStage();if(C&&u.setPointersPositions(C),!u._changedPointerPositions.find(m=>m.id===c.pointerId))return;(c.dragStatus==="dragging"||c.dragStatus==="stopped")&&(i.DD.justDragged=!0,a.Konva._mouseListenClick=!1,a.Konva._touchListenClick=!1,a.Konva._pointerListenClick=!1,c.dragStatus="stopped");const v=c.node.getLayer()||c.node instanceof a.Konva.Stage&&c.node;v&&S.indexOf(v)===-1&&S.push(v)}),S.forEach(c=>{c.draw()})},_endDragAfter(C){i.DD._dragElements.forEach((S,c)=>{S.dragStatus==="stopped"&&S.node.fire("dragend",{type:"dragend",target:S.node,evt:C},!0),S.dragStatus!=="dragging"&&i.DD._dragElements.delete(c)})}},a.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("touchcancel",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1),window.addEventListener("touchcancel",i.DD._endDragAfter,!1))}(Fa)),Fa}var Ma={},yt={},su;function Ae(){if(su)return yt;su=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.RGBComponent=C,yt.alphaComponent=S,yt.getNumberValidator=c,yt.getNumberOrArrayOfNumbersValidator=o,yt.getNumberOrAutoValidator=u,yt.getStringValidator=h,yt.getStringOrGradientValidator=v,yt.getFunctionValidator=m,yt.getNumberArrayValidator=A,yt.getBooleanValidator=_,yt.getComponentValidator=f;const i=Ce(),a=Ue();function y(p){return a.Util._isString(p)?'"'+p+'"':Object.prototype.toString.call(p)==="[object Number]"||a.Util._isBoolean(p)?p:Object.prototype.toString.call(p)}function C(p){return p>255?255:p<0?0:Math.round(p)}function S(p){return p>1?1:p<1e-4?1e-4:p}function c(){if(i.Konva.isUnminified)return function(p,w){return a.Util._isNumber(p)||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a number.'),p}}function o(p){if(i.Konva.isUnminified)return function(w,T){let F=a.Util._isNumber(w),g=a.Util._isArray(w)&&w.length==p;return!F&&!g&&a.Util.warn(y(w)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+p+")"),w}}function u(){if(i.Konva.isUnminified)return function(p,w){return a.Util._isNumber(p)||p==="auto"||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a number or "auto".'),p}}function h(){if(i.Konva.isUnminified)return function(p,w){return a.Util._isString(p)||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a string.'),p}}function v(){if(i.Konva.isUnminified)return function(p,w){const T=a.Util._isString(p),F=Object.prototype.toString.call(p)==="[object CanvasGradient]"||p&&p.addColorStop;return T||F||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a string or a native gradient.'),p}}function m(){if(i.Konva.isUnminified)return function(p,w){return a.Util._isFunction(p)||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a function.'),p}}function A(){if(i.Konva.isUnminified)return function(p,w){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&p instanceof T||(a.Util._isArray(p)?p.forEach(function(F){a.Util._isNumber(F)||a.Util.warn('"'+w+'" attribute has non numeric element '+F+". Make sure that all elements are numbers.")}):a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a array of numbers.')),p}}function _(){if(i.Konva.isUnminified)return function(p,w){return p===!0||p===!1||a.Util.warn(y(p)+' is a not valid value for "'+w+'" attribute. The value should be a boolean.'),p}}function f(p){if(i.Konva.isUnminified)return function(w,T){return w==null||a.Util.isObject(w)||a.Util.warn(y(w)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+p),w}}return yt}var au;function we(){return au||(au=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Factory=void 0;const a=Ue(),y=Ae(),C="get",S="set";i.Factory={addGetterSetter(c,o,u,h,v){i.Factory.addGetter(c,o,u),i.Factory.addSetter(c,o,h,v),i.Factory.addOverloadedGetterSetter(c,o)},addGetter(c,o,u){const h=C+a.Util._capitalize(o);c.prototype[h]=c.prototype[h]||function(){const v=this.attrs[o];return v===void 0?u:v}},addSetter(c,o,u,h){const v=S+a.Util._capitalize(o);c.prototype[v]||i.Factory.overWriteSetter(c,o,u,h)},overWriteSetter(c,o,u,h){const v=S+a.Util._capitalize(o);c.prototype[v]=function(m){return u&&m!==void 0&&m!==null&&(m=u.call(this,m,o)),this._setAttr(o,m),h&&h.call(this),this}},addComponentsGetterSetter(c,o,u,h,v){const m=u.length,A=a.Util._capitalize,_=C+A(o),f=S+A(o);c.prototype[_]=function(){const w={};for(let T=0;T<m;T++){const F=u[T];w[F]=this.getAttr(o+A(F))}return w};const p=(0,y.getComponentValidator)(u);c.prototype[f]=function(w){const T=this.attrs[o];h&&(w=h.call(this,w,o)),p&&p.call(this,w,o);for(const F in w)w.hasOwnProperty(F)&&this._setAttr(o+A(F),w[F]);return w||u.forEach(F=>{this._setAttr(o+A(F),void 0)}),this._fireChangeEvent(o,T,w),v&&v.call(this),this},i.Factory.addOverloadedGetterSetter(c,o)},addOverloadedGetterSetter(c,o){const u=a.Util._capitalize(o),h=S+u,v=C+u;c.prototype[o]=function(){return arguments.length?(this[h](arguments[0]),this):this[v]()}},addDeprecatedGetterSetter(c,o,u,h){a.Util.error("Adding deprecated "+o);const v=C+a.Util._capitalize(o),m=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";c.prototype[v]=function(){a.Util.error(m);const A=this.attrs[o];return A===void 0?u:A},i.Factory.addSetter(c,o,h,function(){a.Util.error(m)}),i.Factory.addOverloadedGetterSetter(c,o)},backCompat(c,o){a.Util.each(o,function(u,h){const v=c.prototype[h],m=C+a.Util._capitalize(u),A=S+a.Util._capitalize(u);function _(){v.apply(this,arguments),a.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}c.prototype[u]=_,c.prototype[m]=_,c.prototype[A]=_})},afterSetFilter(){this._filterUpToDate=!1}}}(Ma)),Ma}var ou;function Ve(){if(ou)return yr;ou=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.Node=void 0;const i=us(),a=Ya(),y=we(),C=Ce(),S=Ue(),c=Ae(),o="absoluteOpacity",u="allEventListeners",h="absoluteTransform",v="absoluteScale",m="canvas",A="Change",_="children",f="konva",p="listening",w="mouseenter",T="mouseleave",F="pointerenter",g="pointerleave",l="touchenter",x="touchleave",E="set",L="Shape",U=" ",R="stage",b="transform",N="Stage",G="visible",z=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(U);let W=1,K=class Va{constructor(P){this._id=W++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(P),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(P){(P===b||P===h)&&this._cache.get(P)?this._cache.get(P).dirty=!0:P?this._cache.delete(P):this._cache.clear()}_getCache(P,k){let O=this._cache.get(P);return(O===void 0||(P===b||P===h)&&O.dirty===!0)&&(O=k.call(this),this._cache.set(P,O)),O}_calculate(P,k,O){if(!this._attachedDepsListeners.get(P)){const I=k.map(B=>B+"Change.konva").join(U);this.on(I,()=>{this._clearCache(P)}),this._attachedDepsListeners.set(P,!0)}return this._getCache(P,O)}_getCanvasCache(){return this._cache.get(m)}_clearSelfAndDescendantCache(P){this._clearCache(P),P===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(m)){const{scene:P,filter:k,hit:O,buffer:I}=this._cache.get(m);S.Util.releaseCanvas(P,k,O,I),this._cache.delete(m)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(P){const k=P||{};let O={};(k.x===void 0||k.y===void 0||k.width===void 0||k.height===void 0)&&(O=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let I=Math.ceil(k.width||O.width),B=Math.ceil(k.height||O.height),Z=k.pixelRatio,j=k.x===void 0?Math.floor(O.x):k.x,ne=k.y===void 0?Math.floor(O.y):k.y,ae=k.offset||0,J=k.drawBorder||!1,D=k.hitCanvasPixelRatio||1;if(!I||!B){S.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Y=Math.abs(Math.round(O.x)-j)>.5?1:0,se=Math.abs(Math.round(O.y)-ne)>.5?1:0;I+=ae*2+Y,B+=ae*2+se,j-=ae,ne-=ae;const oe=new i.SceneCanvas({pixelRatio:Z,width:I,height:B}),le=new i.SceneCanvas({pixelRatio:Z,width:0,height:0,willReadFrequently:!0}),pe=new i.HitCanvas({pixelRatio:D,width:I,height:B}),fe=oe.getContext(),Re=pe.getContext(),ve=new i.SceneCanvas({width:oe.width/oe.pixelRatio+Math.abs(j),height:oe.height/oe.pixelRatio+Math.abs(ne),pixelRatio:oe.pixelRatio}),He=ve.getContext();return pe.isCache=!0,oe.isCache=!0,this._cache.delete(m),this._filterUpToDate=!1,k.imageSmoothingEnabled===!1&&(oe.getContext()._context.imageSmoothingEnabled=!1,le.getContext()._context.imageSmoothingEnabled=!1),fe.save(),Re.save(),He.save(),fe.translate(-j,-ne),Re.translate(-j,-ne),He.translate(-j,-ne),ve.x=j,ve.y=ne,this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(v),this.drawScene(oe,this,ve),this.drawHit(pe,this),this._isUnderCache=!1,fe.restore(),Re.restore(),J&&(fe.save(),fe.beginPath(),fe.rect(0,0,I,B),fe.closePath(),fe.setAttr("strokeStyle","red"),fe.setAttr("lineWidth",5),fe.stroke(),fe.restore()),this._cache.set(m,{scene:oe,filter:le,hit:pe,buffer:ve,x:j,y:ne}),this._requestDraw(),this}isCached(){return this._cache.has(m)}getClientRect(P){throw new Error('abstract "getClientRect" method call')}_transformedRect(P,k){const O=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}];let I=1/0,B=1/0,Z=-1/0,j=-1/0;const ne=this.getAbsoluteTransform(k);return O.forEach(function(ae){const J=ne.point(ae);I===void 0&&(I=Z=J.x,B=j=J.y),I=Math.min(I,J.x),B=Math.min(B,J.y),Z=Math.max(Z,J.x),j=Math.max(j,J.y)}),{x:I,y:B,width:Z-I,height:j-B}}_drawCachedSceneCanvas(P){P.save(),P._applyOpacity(this),P._applyGlobalCompositeOperation(this);const k=this._getCanvasCache();P.translate(k.x,k.y);const O=this._getCachedSceneCanvas(),I=O.pixelRatio;P.drawImage(O._canvas,0,0,O.width/I,O.height/I),P.restore()}_drawCachedHitCanvas(P){const k=this._getCanvasCache(),O=k.hit;P.save(),P.translate(k.x,k.y),P.drawImage(O._canvas,0,0,O.width/O.pixelRatio,O.height/O.pixelRatio),P.restore()}_getCachedSceneCanvas(){let P=this.filters(),k=this._getCanvasCache(),O=k.scene,I=k.filter,B=I.getContext(),Z,j,ne,ae;if(P){if(!this._filterUpToDate){const J=O.pixelRatio;I.setSize(O.width/O.pixelRatio,O.height/O.pixelRatio);try{for(Z=P.length,B.clear(),B.drawImage(O._canvas,0,0,O.getWidth()/J,O.getHeight()/J),j=B.getImageData(0,0,I.getWidth(),I.getHeight()),ne=0;ne<Z;ne++){if(ae=P[ne],typeof ae!="function"){S.Util.error("Filter should be type of function, but got "+typeof ae+" instead. Please check correct filters");continue}ae.call(this,j),B.putImageData(j,0,0)}}catch(D){S.Util.error("Unable to apply filter. "+D.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return I}return O}on(P,k){if(this._cache&&this._cache.delete(u),arguments.length===3)return this._delegate.apply(this,arguments);const O=P.split(U);for(let I=0;I<O.length;I++){const Z=O[I].split("."),j=Z[0],ne=Z[1]||"";this.eventListeners[j]||(this.eventListeners[j]=[]),this.eventListeners[j].push({name:ne,handler:k})}return this}off(P,k){let O=(P||"").split(U),I=O.length,B,Z,j,ne,ae,J;if(this._cache&&this._cache.delete(u),!P)for(Z in this.eventListeners)this._off(Z);for(B=0;B<I;B++)if(j=O[B],ne=j.split("."),ae=ne[0],J=ne[1],ae)this.eventListeners[ae]&&this._off(ae,J,k);else for(Z in this.eventListeners)this._off(Z,J,k);return this}dispatchEvent(P){const k={target:this,type:P.type,evt:P};return this.fire(P.type,k),this}addEventListener(P,k){return this.on(P,function(O){k.call(this,O.evt)}),this}removeEventListener(P){return this.off(P),this}_delegate(P,k,O){const I=this;this.on(P,function(B){const Z=B.target.findAncestors(k,!0,I);for(let j=0;j<Z.length;j++)B=S.Util.cloneObject(B),B.currentTarget=Z[j],O.call(Z[j],B)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(G),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();const P=this.getParent();P&&P.children&&(P.children.splice(this.index,1),P._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(P){const k="get"+S.Util._capitalize(P);return S.Util._isFunction(this[k])?this[k]():this.attrs[P]}getAncestors(){let P=this.getParent(),k=[];for(;P;)k.push(P),P=P.getParent();return k}getAttrs(){return this.attrs||{}}setAttrs(P){return this._batchTransformChanges(()=>{let k,O;if(!P)return this;for(k in P)k!==_&&(O=E+S.Util._capitalize(k),S.Util._isFunction(this[O])?this[O](P[k]):this._setAttr(k,P[k]))}),this}isListening(){return this._getCache(p,this._isListening)}_isListening(P){if(!this.listening())return!1;const O=this.getParent();return O&&O!==P&&this!==P?O._isListening(P):!0}isVisible(){return this._getCache(G,this._isVisible)}_isVisible(P){if(!this.visible())return!1;const O=this.getParent();return O&&O!==P&&this!==P?O._isVisible(P):!0}shouldDrawHit(P,k=!1){if(P)return this._isVisible(P)&&this._isListening(P);const O=this.getLayer();let I=!1;a.DD._dragElements.forEach(Z=>{Z.dragStatus==="dragging"&&(Z.node.nodeType==="Stage"||Z.node.getLayer()===O)&&(I=!0)});const B=!k&&!C.Konva.hitOnDragEnabled&&(I||C.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!B}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let P=this.getDepth(),k=this,O=0,I,B,Z,j;function ne(J){for(I=[],B=J.length,Z=0;Z<B;Z++)j=J[Z],O++,j.nodeType!==L&&(I=I.concat(j.getChildren().slice())),j._id===k._id&&(Z=B);I.length>0&&I[0].getDepth()<=P&&ne(I)}const ae=this.getStage();return k.nodeType!==N&&ae&&ne(ae.getChildren()),O}getDepth(){let P=0,k=this.parent;for(;k;)P++,k=k.parent;return P}_batchTransformChanges(P){this._batchingTransformChange=!0,P(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(b),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(P){return this._batchTransformChanges(()=>{this.x(P.x),this.y(P.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const P=this.getStage();if(!P)return null;const k=P.getPointerPosition();if(!k)return null;const O=this.getAbsoluteTransform().copy();return O.invert(),O.point(k)}getAbsolutePosition(P){let k=!1,O=this.parent;for(;O;){if(O.isCached()){k=!0;break}O=O.parent}k&&!P&&(P=!0);const I=this.getAbsoluteTransform(P).getMatrix(),B=new S.Transform,Z=this.offset();return B.m=I.slice(),B.translate(Z.x,Z.y),B.getTranslation()}setAbsolutePosition(P){const{x:k,y:O,...I}=this._clearTransform();this.attrs.x=k,this.attrs.y=O,this._clearCache(b);const B=this._getAbsoluteTransform().copy();return B.invert(),B.translate(P.x,P.y),P={x:this.attrs.x+B.getTranslation().x,y:this.attrs.y+B.getTranslation().y},this._setTransform(I),this.setPosition({x:P.x,y:P.y}),this._clearCache(b),this._clearSelfAndDescendantCache(h),this}_setTransform(P){let k;for(k in P)this.attrs[k]=P[k]}_clearTransform(){const P={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,P}move(P){let k=P.x,O=P.y,I=this.x(),B=this.y();return k!==void 0&&(I+=k),O!==void 0&&(B+=O),this.setPosition({x:I,y:B}),this}_eachAncestorReverse(P,k){let O=[],I=this.getParent(),B,Z;if(!(k&&k._id===this._id)){for(O.unshift(this);I&&(!k||I._id!==k._id);)O.unshift(I),I=I.parent;for(B=O.length,Z=0;Z<B;Z++)P(O[Z])}}rotate(P){return this.rotation(this.rotation()+P),this}moveToTop(){if(!this.parent)return S.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const P=this.index,k=this.parent.getChildren().length;return P<k-1?(this.parent.children.splice(P,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return S.Util.warn("Node has no parent. moveUp function is ignored."),!1;const P=this.index,k=this.parent.getChildren().length;return P<k-1?(this.parent.children.splice(P,1),this.parent.children.splice(P+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return S.Util.warn("Node has no parent. moveDown function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.splice(P-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return S.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(P){if(!this.parent)return S.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(P<0||P>=this.parent.children.length)&&S.Util.warn("Unexpected value "+P+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const k=this.index;return this.parent.children.splice(k,1),this.parent.children.splice(P,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let P=this.opacity();const k=this.getParent();return k&&!k._isUnderCache&&(P*=k.getAbsoluteOpacity()),P}moveTo(P){return this.getParent()!==P&&(this._remove(),P.add(this)),this}toObject(){let P=this.getAttrs(),k,O,I,B,Z;const j={attrs:{},className:this.getClassName()};for(k in P)O=P[k],Z=S.Util.isObject(O)&&!S.Util._isPlainObject(O)&&!S.Util._isArray(O),!Z&&(I=typeof this[k]=="function"&&this[k],delete P[k],B=I?I.call(this):null,P[k]=O,B!==O&&(j.attrs[k]=O));return S.Util._prepareToStringify(j)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(P,k,O){const I=[];k&&this._isMatch(P)&&I.push(this);let B=this.parent;for(;B;){if(B===O)return I;B._isMatch(P)&&I.push(B),B=B.parent}return I}isAncestorOf(P){return!1}findAncestor(P,k,O){return this.findAncestors(P,k,O)[0]}_isMatch(P){if(!P)return!1;if(typeof P=="function")return P(this);let k=P.replace(/ /g,"").split(","),O=k.length,I,B;for(I=0;I<O;I++)if(B=k[I],S.Util.isValidSelector(B)||(S.Util.warn('Selector "'+B+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),S.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),S.Util.warn("Konva is awesome, right?")),B.charAt(0)==="#"){if(this.id()===B.slice(1))return!0}else if(B.charAt(0)==="."){if(this.hasName(B.slice(1)))return!0}else if(this.className===B||this.nodeType===B)return!0;return!1}getLayer(){const P=this.getParent();return P?P.getLayer():null}getStage(){return this._getCache(R,this._getStage)}_getStage(){const P=this.getParent();return P?P.getStage():null}fire(P,k={},O){return k.target=k.target||this,O?this._fireAndBubble(P,k):this._fire(P,k),this}getAbsoluteTransform(P){return P?this._getAbsoluteTransform(P):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(P){let k;if(P)return k=new S.Transform,this._eachAncestorReverse(function(O){const I=O.transformsEnabled();I==="all"?k.multiply(O.getTransform()):I==="position"&&k.translate(O.x()-O.offsetX(),O.y()-O.offsetY())},P),k;{k=this._cache.get(h)||new S.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(k):k.reset();const O=this.transformsEnabled();if(O==="all")k.multiply(this.getTransform());else if(O==="position"){const I=this.attrs.x||0,B=this.attrs.y||0,Z=this.attrs.offsetX||0,j=this.attrs.offsetY||0;k.translate(I-Z,B-j)}return k.dirty=!1,k}}getAbsoluteScale(P){let k=this;for(;k;)k._isUnderCache&&(P=k),k=k.getParent();const I=this.getAbsoluteTransform(P).decompose();return{x:I.scaleX,y:I.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(b,this._getTransform)}_getTransform(){var P,k;const O=this._cache.get(b)||new S.Transform;O.reset();const I=this.x(),B=this.y(),Z=C.Konva.getAngle(this.rotation()),j=(P=this.attrs.scaleX)!==null&&P!==void 0?P:1,ne=(k=this.attrs.scaleY)!==null&&k!==void 0?k:1,ae=this.attrs.skewX||0,J=this.attrs.skewY||0,D=this.attrs.offsetX||0,Y=this.attrs.offsetY||0;return(I!==0||B!==0)&&O.translate(I,B),Z!==0&&O.rotate(Z),(ae!==0||J!==0)&&O.skew(ae,J),(j!==1||ne!==1)&&O.scale(j,ne),(D!==0||Y!==0)&&O.translate(-1*D,-1*Y),O.dirty=!1,O}clone(P){let k=S.Util.cloneObject(this.attrs),O,I,B,Z,j;for(O in P)k[O]=P[O];const ne=new this.constructor(k);for(O in this.eventListeners)for(I=this.eventListeners[O],B=I.length,Z=0;Z<B;Z++)j=I[Z],j.name.indexOf(f)<0&&(ne.eventListeners[O]||(ne.eventListeners[O]=[]),ne.eventListeners[O].push(j));return ne}_toKonvaCanvas(P){P=P||{};const k=this.getClientRect(),O=this.getStage(),I=P.x!==void 0?P.x:Math.floor(k.x),B=P.y!==void 0?P.y:Math.floor(k.y),Z=P.pixelRatio||1,j=new i.SceneCanvas({width:P.width||Math.ceil(k.width)||(O?O.width():0),height:P.height||Math.ceil(k.height)||(O?O.height():0),pixelRatio:Z}),ne=j.getContext(),ae=new i.SceneCanvas({width:j.width/j.pixelRatio+Math.abs(I),height:j.height/j.pixelRatio+Math.abs(B),pixelRatio:j.pixelRatio});return P.imageSmoothingEnabled===!1&&(ne._context.imageSmoothingEnabled=!1),ne.save(),(I||B)&&ne.translate(-1*I,-1*B),this.drawScene(j,void 0,ae),ne.restore(),j}toCanvas(P){return this._toKonvaCanvas(P)._canvas}toDataURL(P){P=P||{};const k=P.mimeType||null,O=P.quality||null,I=this._toKonvaCanvas(P).toDataURL(k,O);return P.callback&&P.callback(I),I}toImage(P){return new Promise((k,O)=>{try{const I=P?.callback;I&&delete P.callback,S.Util._urlToImage(this.toDataURL(P),function(B){k(B),I?.(B)})}catch(I){O(I)}})}toBlob(P){return new Promise((k,O)=>{try{const I=P?.callback;I&&delete P.callback,this.toCanvas(P).toBlob(B=>{k(B),I?.(B)},P?.mimeType,P?.quality)}catch(I){O(I)}})}setSize(P){return this.width(P.width),this.height(P.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():C.Konva.dragDistance}_off(P,k,O){let I=this.eventListeners[P],B,Z,j;for(B=0;B<I.length;B++)if(Z=I[B].name,j=I[B].handler,(Z!=="konva"||k==="konva")&&(!k||Z===k)&&(!O||O===j)){if(I.splice(B,1),I.length===0){delete this.eventListeners[P];break}B--}}_fireChangeEvent(P,k,O){this._fire(P+A,{oldVal:k,newVal:O})}addName(P){if(!this.hasName(P)){const k=this.name(),O=k?k+" "+P:P;this.name(O)}return this}hasName(P){if(!P)return!1;const k=this.name();return k?(k||"").split(/\s/g).indexOf(P)!==-1:!1}removeName(P){const k=(this.name()||"").split(/\s/g),O=k.indexOf(P);return O!==-1&&(k.splice(O,1),this.name(k.join(" "))),this}setAttr(P,k){const O=this[E+S.Util._capitalize(P)];return S.Util._isFunction(O)?O.call(this,k):this._setAttr(P,k),this}_requestDraw(){if(C.Konva.autoDrawEnabled){const P=this.getLayer()||this.getStage();P?.batchDraw()}}_setAttr(P,k){const O=this.attrs[P];O===k&&!S.Util.isObject(k)||(k==null?delete this.attrs[P]:this.attrs[P]=k,this._shouldFireChangeEvents&&this._fireChangeEvent(P,O,k),this._requestDraw())}_setComponentAttr(P,k,O){let I;O!==void 0&&(I=this.attrs[P],I||(this.attrs[P]=this.getAttr(P)),this.attrs[P][k]=O,this._fireChangeEvent(P,I,O))}_fireAndBubble(P,k,O){k&&this.nodeType===L&&(k.target=this);const I=[w,T,F,g,l,x];if(!(I.indexOf(P)!==-1&&(O&&(this===O||this.isAncestorOf&&this.isAncestorOf(O))||this.nodeType==="Stage"&&!O))){this._fire(P,k);const Z=I.indexOf(P)!==-1&&O&&O.isAncestorOf&&O.isAncestorOf(this)&&!O.isAncestorOf(this.parent);(k&&!k.cancelBubble||!k)&&this.parent&&this.parent.isListening()&&!Z&&(O&&O.parent?this._fireAndBubble.call(this.parent,P,k,O):this._fireAndBubble.call(this.parent,P,k))}}_getProtoListeners(P){var k,O,I;const B=(k=this._cache.get(u))!==null&&k!==void 0?k:{};let Z=B?.[P];if(Z===void 0){Z=[];let j=Object.getPrototypeOf(this);for(;j;){const ne=(I=(O=j.eventListeners)===null||O===void 0?void 0:O[P])!==null&&I!==void 0?I:[];Z.push(...ne),j=Object.getPrototypeOf(j)}B[P]=Z,this._cache.set(u,B)}return Z}_fire(P,k){k=k||{},k.currentTarget=this,k.type=P;const O=this._getProtoListeners(P);if(O)for(let B=0;B<O.length;B++)O[B].handler.call(this,k);const I=this.eventListeners[P];if(I)for(let B=0;B<I.length;B++)I[B].handler.call(this,k)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(P){const k=P?P.pointerId:void 0,O=this.getStage(),I=this.getAbsolutePosition();if(!O)return;const B=O._getPointerById(k)||O._changedPointerPositions[0]||I;a.DD._dragElements.set(this._id,{node:this,startPointerPos:B,offset:{x:B.x-I.x,y:B.y-I.y},dragStatus:"ready",pointerId:k})}startDrag(P,k=!0){a.DD._dragElements.has(this._id)||this._createDragElement(P);const O=a.DD._dragElements.get(this._id);O.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:P&&P.evt},k)}_setDragPosition(P,k){const O=this.getStage()._getPointerById(k.pointerId);if(!O)return;let I={x:O.x-k.offset.x,y:O.y-k.offset.y};const B=this.dragBoundFunc();if(B!==void 0){const Z=B.call(this,I,P);Z?I=Z:S.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==I.x||this._lastPos.y!==I.y)&&(this.setAbsolutePosition(I),this._requestDraw()),this._lastPos=I}stopDrag(P){const k=a.DD._dragElements.get(this._id);k&&(k.dragStatus="stopped"),a.DD._endDragBefore(P),a.DD._endDragAfter(P)}setDraggable(P){this._setAttr("draggable",P),this._dragChange()}isDragging(){const P=a.DD._dragElements.get(this._id);return P?P.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(P){if(!(!(P.evt.button!==void 0)||C.Konva.dragButtons.indexOf(P.evt.button)>=0)||this.isDragging())return;let I=!1;a.DD._dragElements.forEach(B=>{this.isAncestorOf(B.node)&&(I=!0)}),I||this._createDragElement(P)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const k=a.DD._dragElements.get(this._id),O=k&&k.dragStatus==="dragging",I=k&&k.dragStatus==="ready";O?this.stopDrag():I&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(P={x:0,y:0}){const k=this.getStage();if(!k)return!1;const O={x:-P.x,y:-P.y,width:k.width()+2*P.x,height:k.height()+2*P.y};return S.Util.haveIntersection(O,this.getClientRect())}static create(P,k){return S.Util._isString(P)&&(P=JSON.parse(P)),this._createNode(P,k)}static _createNode(P,k){let O=Va.prototype.getClassName.call(P),I=P.children,B,Z,j;k&&(P.attrs.container=k),C.Konva[O]||(S.Util.warn('Can not find a node with class name "'+O+'". Fallback to "Shape".'),O="Shape");const ne=C.Konva[O];if(B=new ne(P.attrs),I)for(Z=I.length,j=0;j<Z;j++)B.add(Va._createNode(I[j]));return B}};yr.Node=K,K.prototype.nodeType="Node",K.prototype._attrsAffectingSize=[],K.prototype.eventListeners={},K.prototype.on.call(K.prototype,z,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(b),this._clearSelfAndDescendantCache(h)}),K.prototype.on.call(K.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(G)}),K.prototype.on.call(K.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(p)}),K.prototype.on.call(K.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const V=y.Factory.addGetterSetter;return V(K,"zIndex"),V(K,"absolutePosition"),V(K,"position"),V(K,"x",0,(0,c.getNumberValidator)()),V(K,"y",0,(0,c.getNumberValidator)()),V(K,"globalCompositeOperation","source-over",(0,c.getStringValidator)()),V(K,"opacity",1,(0,c.getNumberValidator)()),V(K,"name","",(0,c.getStringValidator)()),V(K,"id","",(0,c.getStringValidator)()),V(K,"rotation",0,(0,c.getNumberValidator)()),y.Factory.addComponentsGetterSetter(K,"scale",["x","y"]),V(K,"scaleX",1,(0,c.getNumberValidator)()),V(K,"scaleY",1,(0,c.getNumberValidator)()),y.Factory.addComponentsGetterSetter(K,"skew",["x","y"]),V(K,"skewX",0,(0,c.getNumberValidator)()),V(K,"skewY",0,(0,c.getNumberValidator)()),y.Factory.addComponentsGetterSetter(K,"offset",["x","y"]),V(K,"offsetX",0,(0,c.getNumberValidator)()),V(K,"offsetY",0,(0,c.getNumberValidator)()),V(K,"dragDistance",void 0,(0,c.getNumberValidator)()),V(K,"width",0,(0,c.getNumberValidator)()),V(K,"height",0,(0,c.getNumberValidator)()),V(K,"listening",!0,(0,c.getBooleanValidator)()),V(K,"preventDefault",!0,(0,c.getBooleanValidator)()),V(K,"filters",void 0,function(re){return this._filterUpToDate=!1,re}),V(K,"visible",!0,(0,c.getBooleanValidator)()),V(K,"transformsEnabled","all",(0,c.getStringValidator)()),V(K,"size"),V(K,"dragBoundFunc"),V(K,"draggable",!1,(0,c.getBooleanValidator)()),y.Factory.backCompat(K,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),yr}var _r={},lu;function cs(){if(lu)return _r;lu=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.Container=void 0;const i=we(),a=Ve(),y=Ae();let C=class extends a.Node{constructor(){super(...arguments),this.children=[]}getChildren(c){const o=this.children||[];return c?o.filter(c):o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.destroy()}),this.children=[],this._requestDraw(),this}add(...c){if(c.length===0)return this;if(c.length>1){for(let u=0;u<c.length;u++)this.add(c[u]);return this}const o=c[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(c){return this._generalFind(c,!1)}findOne(c){const o=this._generalFind(c,!0);return o.length>0?o[0]:void 0}_generalFind(c,o){const u=[];return this._descendants(h=>{const v=h._isMatch(c);return v&&u.push(h),!!(v&&o)}),u}_descendants(c){let o=!1;const u=this.getChildren();for(const h of u){if(o=c(h),o)return!0;if(h.hasChildren()&&(o=h._descendants(c),o))return!0}return!1}toObject(){const c=a.Node.prototype.toObject.call(this);return c.children=[],this.getChildren().forEach(o=>{c.children.push(o.toObject())}),c}isAncestorOf(c){let o=c.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(c){const o=a.Node.prototype.clone.call(this,c);return this.getChildren().forEach(function(u){o.add(u.clone())}),o}getAllIntersections(c){const o=[];return this.find("Shape").forEach(u=>{u.isVisible()&&u.intersects(c)&&o.push(u)}),o}_clearSelfAndDescendantCache(c){var o;super._clearSelfAndDescendantCache(c),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(u){u._clearSelfAndDescendantCache(c)}))}_setChildrenIndices(){var c;(c=this.children)===null||c===void 0||c.forEach(function(o,u){o.index=u}),this._requestDraw()}drawScene(c,o,u){const h=this.getLayer(),v=c||h&&h.getCanvas(),m=v&&v.getContext(),A=this._getCanvasCache(),_=A&&A.scene,f=v&&v.isCache;if(!this.isVisible()&&!f)return this;if(_){m.save();const p=this.getAbsoluteTransform(o).getMatrix();m.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(m),m.restore()}else this._drawChildren("drawScene",v,o,u);return this}drawHit(c,o){if(!this.shouldDrawHit(o))return this;const u=this.getLayer(),h=c||u&&u.hitCanvas,v=h&&h.getContext(),m=this._getCanvasCache();if(m&&m.hit){v.save();const _=this.getAbsoluteTransform(o).getMatrix();v.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(v),v.restore()}else this._drawChildren("drawHit",h,o);return this}_drawChildren(c,o,u,h){var v;const m=o&&o.getContext(),A=this.clipWidth(),_=this.clipHeight(),f=this.clipFunc(),p=typeof A=="number"&&typeof _=="number"||f,w=u===this;if(p){m.save();const F=this.getAbsoluteTransform(u);let g=F.getMatrix();m.transform(g[0],g[1],g[2],g[3],g[4],g[5]),m.beginPath();let l;if(f)l=f.call(this,m,this);else{const x=this.clipX(),E=this.clipY();m.rect(x||0,E||0,A,_)}m.clip.apply(m,l),g=F.copy().invert().getMatrix(),m.transform(g[0],g[1],g[2],g[3],g[4],g[5])}const T=!w&&this.globalCompositeOperation()!=="source-over"&&c==="drawScene";T&&(m.save(),m._applyGlobalCompositeOperation(this)),(v=this.children)===null||v===void 0||v.forEach(function(F){F[c](o,u,h)}),T&&m.restore(),p&&m.restore()}getClientRect(c={}){var o;const u=c.skipTransform,h=c.relativeTo;let v,m,A,_,f={x:1/0,y:1/0,width:0,height:0};const p=this;(o=this.children)===null||o===void 0||o.forEach(function(F){if(!F.visible())return;const g=F.getClientRect({relativeTo:p,skipShadow:c.skipShadow,skipStroke:c.skipStroke});g.width===0&&g.height===0||(v===void 0?(v=g.x,m=g.y,A=g.x+g.width,_=g.y+g.height):(v=Math.min(v,g.x),m=Math.min(m,g.y),A=Math.max(A,g.x+g.width),_=Math.max(_,g.y+g.height)))});const w=this.find("Shape");let T=!1;for(let F=0;F<w.length;F++)if(w[F]._isVisible(this)){T=!0;break}return T&&v!==void 0?f={x:v,y:m,width:A-v,height:_-m}:f={x:0,y:0,width:0,height:0},u?f:this._transformedRect(f,h)}};return _r.Container=C,i.Factory.addComponentsGetterSetter(C,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(C,"clipX",void 0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(C,"clipY",void 0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(C,"clipWidth",void 0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(C,"clipHeight",void 0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(C,"clipFunc"),_r}var La={},mn={},uu;function Nc(){if(uu)return mn;uu=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.getCapturedShape=C,mn.createEvent=S,mn.hasPointerCapture=c,mn.setPointerCapture=o,mn.releaseCapture=u;const i=Ce(),a=new Map,y=i.Konva._global.PointerEvent!==void 0;function C(h){return a.get(h)}function S(h){return{evt:h,pointerId:h.pointerId}}function c(h,v){return a.get(h)===v}function o(h,v){u(h),v.getStage()&&(a.set(h,v),y&&v._fire("gotpointercapture",S(new PointerEvent("gotpointercapture"))))}function u(h,v){const m=a.get(h);if(!m)return;const A=m.getStage();A&&A.content,a.delete(h),y&&m._fire("lostpointercapture",S(new PointerEvent("lostpointercapture")))}return mn}var cu;function b0(){return cu||(cu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Stage=i.stages=void 0;const a=Ue(),y=we(),C=cs(),S=Ce(),c=us(),o=Ya(),u=Ce(),h=Nc(),v="Stage",m="string",A="px",_="mouseout",f="mouseleave",p="mouseover",w="mouseenter",T="mousemove",F="mousedown",g="mouseup",l="pointermove",x="pointerdown",E="pointerup",L="pointercancel",U="lostpointercapture",R="pointerout",b="pointerleave",N="pointerover",G="pointerenter",z="contextmenu",W="touchstart",K="touchend",V="touchmove",re="touchcancel",P="wheel",k=5,O=[[w,"_pointerenter"],[F,"_pointerdown"],[T,"_pointermove"],[g,"_pointerup"],[f,"_pointerleave"],[W,"_pointerdown"],[V,"_pointermove"],[K,"_pointerup"],[re,"_pointercancel"],[p,"_pointerover"],[P,"_wheel"],[z,"_contextmenu"],[x,"_pointerdown"],[l,"_pointermove"],[E,"_pointerup"],[L,"_pointercancel"],[b,"_pointerleave"],[U,"_lostpointercapture"]],I={mouse:{[R]:_,[b]:f,[N]:p,[G]:w,[l]:T,[x]:F,[E]:g,[L]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[b]:"touchleave",[N]:"touchover",[G]:"touchenter",[l]:V,[x]:W,[E]:K,[L]:re,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[b]:b,[N]:N,[G]:G,[l]:l,[x]:x,[E]:E,[L]:L,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},B=J=>J.indexOf("pointer")>=0?"pointer":J.indexOf("touch")>=0?"touch":"mouse",Z=J=>{const D=B(J);if(D==="pointer")return S.Konva.pointerEventsEnabled&&I.pointer;if(D==="touch")return I.touch;if(D==="mouse")return I.mouse};function j(J={}){return(J.clipFunc||J.clipWidth||J.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),J}const ne="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";i.stages=[];class ae extends C.Container{constructor(D){super(j(D)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),i.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{j(this.attrs)}),this._checkVisibility()}_validateAdd(D){const Y=D.getType()==="Layer",se=D.getType()==="FastLayer";Y||se||a.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const D=this.visible()?"":"none";this.content.style.display=D}setContainer(D){if(typeof D===m){let Y;if(D.charAt(0)==="."){const se=D.slice(1);D=document.getElementsByClassName(se)[0]}else D.charAt(0)!=="#"?Y=D:Y=D.slice(1),D=document.getElementById(Y);if(!D)throw"Can not find container in document with id "+Y}return this._setAttr("container",D),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),D.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const D=this.children,Y=D.length;for(let se=0;se<Y;se++)D[se].clear();return this}clone(D){return D||(D={}),D.container=typeof document<"u"&&document.createElement("div"),C.Container.prototype.clone.call(this,D)}destroy(){super.destroy();const D=this.content;D&&a.Util._isInDocument(D)&&this.container().removeChild(D);const Y=i.stages.indexOf(this);return Y>-1&&i.stages.splice(Y,1),a.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const D=this._pointerPositions[0]||this._changedPointerPositions[0];return D?{x:D.x,y:D.y}:(a.Util.warn(ne),null)}_getPointerById(D){return this._pointerPositions.find(Y=>Y.id===D)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(D){D=D||{},D.x=D.x||0,D.y=D.y||0,D.width=D.width||this.width(),D.height=D.height||this.height();const Y=new c.SceneCanvas({width:D.width,height:D.height,pixelRatio:D.pixelRatio||1}),se=Y.getContext()._context,oe=this.children;return(D.x||D.y)&&se.translate(-1*D.x,-1*D.y),oe.forEach(function(le){if(!le.isVisible())return;const pe=le._toKonvaCanvas(D);se.drawImage(pe._canvas,D.x,D.y,pe.getWidth()/pe.getPixelRatio(),pe.getHeight()/pe.getPixelRatio())}),Y}getIntersection(D){if(!D)return null;const Y=this.children,se=Y.length,oe=se-1;for(let le=oe;le>=0;le--){const pe=Y[le].getIntersection(D);if(pe)return pe}return null}_resizeDOM(){const D=this.width(),Y=this.height();this.content&&(this.content.style.width=D+A,this.content.style.height=Y+A),this.bufferCanvas.setSize(D,Y),this.bufferHitCanvas.setSize(D,Y),this.children.forEach(se=>{se.setSize({width:D,height:Y}),se.draw()})}add(D,...Y){if(arguments.length>1){for(let oe=0;oe<arguments.length;oe++)this.add(arguments[oe]);return this}super.add(D);const se=this.children.length;return se>k&&a.Util.warn("The stage has "+se+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),D.setSize({width:this.width(),height:this.height()}),D.draw(),S.Konva.isBrowser&&this.content.appendChild(D.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(D){return h.hasPointerCapture(D,this)}setPointerCapture(D){h.setPointerCapture(D,this)}releaseCapture(D){h.releaseCapture(D,this)}getLayers(){return this.children}_bindContentEvents(){S.Konva.isBrowser&&O.forEach(([D,Y])=>{this.content.addEventListener(D,se=>{this[Y](se)},{passive:!1})})}_pointerenter(D){this.setPointersPositions(D);const Y=Z(D.type);Y&&this._fire(Y.pointerenter,{evt:D,target:this,currentTarget:this})}_pointerover(D){this.setPointersPositions(D);const Y=Z(D.type);Y&&this._fire(Y.pointerover,{evt:D,target:this,currentTarget:this})}_getTargetShape(D){let Y=this[D+"targetShape"];return Y&&!Y.getStage()&&(Y=null),Y}_pointerleave(D){const Y=Z(D.type),se=B(D.type);if(!Y)return;this.setPointersPositions(D);const oe=this._getTargetShape(se),le=!(S.Konva.isDragging()||S.Konva.isTransforming())||S.Konva.hitOnDragEnabled;oe&&le?(oe._fireAndBubble(Y.pointerout,{evt:D}),oe._fireAndBubble(Y.pointerleave,{evt:D}),this._fire(Y.pointerleave,{evt:D,target:this,currentTarget:this}),this[se+"targetShape"]=null):le&&(this._fire(Y.pointerleave,{evt:D,target:this,currentTarget:this}),this._fire(Y.pointerout,{evt:D,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(D){const Y=Z(D.type),se=B(D.type);if(!Y)return;this.setPointersPositions(D);let oe=!1;this._changedPointerPositions.forEach(le=>{const pe=this.getIntersection(le);if(o.DD.justDragged=!1,S.Konva["_"+se+"ListenClick"]=!0,!pe||!pe.isListening()){this[se+"ClickStartShape"]=void 0;return}S.Konva.capturePointerEventsEnabled&&pe.setPointerCapture(le.id),this[se+"ClickStartShape"]=pe,pe._fireAndBubble(Y.pointerdown,{evt:D,pointerId:le.id}),oe=!0;const fe=D.type.indexOf("touch")>=0;pe.preventDefault()&&D.cancelable&&fe&&D.preventDefault()}),oe||this._fire(Y.pointerdown,{evt:D,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(D){const Y=Z(D.type),se=B(D.type);if(!Y||(S.Konva.isDragging()&&o.DD.node.preventDefault()&&D.cancelable&&D.preventDefault(),this.setPointersPositions(D),!(!(S.Konva.isDragging()||S.Konva.isTransforming())||S.Konva.hitOnDragEnabled)))return;const le={};let pe=!1;const fe=this._getTargetShape(se);this._changedPointerPositions.forEach(Re=>{const ve=h.getCapturedShape(Re.id)||this.getIntersection(Re),He=Re.id,ke={evt:D,pointerId:He},De=fe!==ve;if(De&&fe&&(fe._fireAndBubble(Y.pointerout,{...ke},ve),fe._fireAndBubble(Y.pointerleave,{...ke},ve)),ve){if(le[ve._id])return;le[ve._id]=!0}ve&&ve.isListening()?(pe=!0,De&&(ve._fireAndBubble(Y.pointerover,{...ke},fe),ve._fireAndBubble(Y.pointerenter,{...ke},fe),this[se+"targetShape"]=ve),ve._fireAndBubble(Y.pointermove,{...ke})):fe&&(this._fire(Y.pointerover,{evt:D,target:this,currentTarget:this,pointerId:He}),this[se+"targetShape"]=null)}),pe||this._fire(Y.pointermove,{evt:D,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(D){const Y=Z(D.type),se=B(D.type);if(!Y)return;this.setPointersPositions(D);const oe=this[se+"ClickStartShape"],le=this[se+"ClickEndShape"],pe={};let fe=!1;this._changedPointerPositions.forEach(Re=>{const ve=h.getCapturedShape(Re.id)||this.getIntersection(Re);if(ve){if(ve.releaseCapture(Re.id),pe[ve._id])return;pe[ve._id]=!0}const He=Re.id,ke={evt:D,pointerId:He};let De=!1;S.Konva["_"+se+"InDblClickWindow"]?(De=!0,clearTimeout(this[se+"DblTimeout"])):o.DD.justDragged||(S.Konva["_"+se+"InDblClickWindow"]=!0,clearTimeout(this[se+"DblTimeout"])),this[se+"DblTimeout"]=setTimeout(function(){S.Konva["_"+se+"InDblClickWindow"]=!1},S.Konva.dblClickWindow),ve&&ve.isListening()?(fe=!0,this[se+"ClickEndShape"]=ve,ve._fireAndBubble(Y.pointerup,{...ke}),S.Konva["_"+se+"ListenClick"]&&oe&&oe===ve&&(ve._fireAndBubble(Y.pointerclick,{...ke}),De&&le&&le===ve&&ve._fireAndBubble(Y.pointerdblclick,{...ke}))):(this[se+"ClickEndShape"]=null,S.Konva["_"+se+"ListenClick"]&&this._fire(Y.pointerclick,{evt:D,target:this,currentTarget:this,pointerId:He}),De&&this._fire(Y.pointerdblclick,{evt:D,target:this,currentTarget:this,pointerId:He}))}),fe||this._fire(Y.pointerup,{evt:D,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),S.Konva["_"+se+"ListenClick"]=!1,D.cancelable&&se!=="touch"&&se!=="pointer"&&D.preventDefault()}_contextmenu(D){this.setPointersPositions(D);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(z,{evt:D}):this._fire(z,{evt:D,target:this,currentTarget:this})}_wheel(D){this.setPointersPositions(D);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(P,{evt:D}):this._fire(P,{evt:D,target:this,currentTarget:this})}_pointercancel(D){this.setPointersPositions(D);const Y=h.getCapturedShape(D.pointerId)||this.getIntersection(this.getPointerPosition());Y&&Y._fireAndBubble(E,h.createEvent(D)),h.releaseCapture(D.pointerId)}_lostpointercapture(D){h.releaseCapture(D.pointerId)}setPointersPositions(D){const Y=this._getContentPosition();let se=null,oe=null;D=D||window.event,D.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(D.touches,le=>{this._pointerPositions.push({id:le.identifier,x:(le.clientX-Y.left)/Y.scaleX,y:(le.clientY-Y.top)/Y.scaleY})}),Array.prototype.forEach.call(D.changedTouches||D.touches,le=>{this._changedPointerPositions.push({id:le.identifier,x:(le.clientX-Y.left)/Y.scaleX,y:(le.clientY-Y.top)/Y.scaleY})})):(se=(D.clientX-Y.left)/Y.scaleX,oe=(D.clientY-Y.top)/Y.scaleY,this.pointerPos={x:se,y:oe},this._pointerPositions=[{x:se,y:oe,id:a.Util._getFirstPointerId(D)}],this._changedPointerPositions=[{x:se,y:oe,id:a.Util._getFirstPointerId(D)}])}_setPointerPosition(D){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(D)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const D=this.content.getBoundingClientRect();return{top:D.top,left:D.left,scaleX:D.width/this.content.clientWidth||1,scaleY:D.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new c.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!S.Konva.isBrowser)return;const D=this.container();if(!D)throw"Stage has no container. A container is required.";D.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),D.appendChild(this.content),this._resizeDOM()}cache(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(D){D.batchDraw()}),this}}i.Stage=ae,ae.prototype.nodeType=v,(0,u._registerNode)(ae),y.Factory.addGetterSetter(ae,"container"),S.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{i.stages.forEach(J=>{J.batchDraw()})})}(La)),La}var Sr={},Ia={},hu;function Ze(){return hu||(hu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Shape=i.shapes=void 0;const a=Ce(),y=Ue(),C=we(),S=Ve(),c=Ae(),o=Ce(),u=Nc(),h="hasShadow",v="shadowRGBA",m="patternImage",A="linearGradient",_="radialGradient";let f;function p(){return f||(f=y.Util.createCanvasElement().getContext("2d"),f)}i.shapes={};function w(b){const N=this.attrs.fillRule;N?b.fill(N):b.fill()}function T(b){b.stroke()}function F(b){const N=this.attrs.fillRule;N?b.fill(N):b.fill()}function g(b){b.stroke()}function l(){this._clearCache(h)}function x(){this._clearCache(v)}function E(){this._clearCache(m)}function L(){this._clearCache(A)}function U(){this._clearCache(_)}class R extends S.Node{constructor(N){super(N);let G;for(;G=y.Util.getRandomColor(),!(G&&!(G in i.shapes)););this.colorKey=G,i.shapes[G]=this}getContext(){return y.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return y.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const G=p().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const z=new y.Transform;z.translate(this.fillPatternX(),this.fillPatternY()),z.rotate(a.Konva.getAngle(this.fillPatternRotation())),z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const W=z.getMatrix(),K=typeof DOMMatrix>"u"?{a:W[0],b:W[1],c:W[2],d:W[3],e:W[4],f:W[5]}:new DOMMatrix(W);G.setTransform(K)}return G}}_getLinearGradient(){return this._getCache(A,this.__getLinearGradient)}__getLinearGradient(){const N=this.fillLinearGradientColorStops();if(N){const G=p(),z=this.fillLinearGradientStartPoint(),W=this.fillLinearGradientEndPoint(),K=G.createLinearGradient(z.x,z.y,W.x,W.y);for(let V=0;V<N.length;V+=2)K.addColorStop(N[V],N[V+1]);return K}}_getRadialGradient(){return this._getCache(_,this.__getRadialGradient)}__getRadialGradient(){const N=this.fillRadialGradientColorStops();if(N){const G=p(),z=this.fillRadialGradientStartPoint(),W=this.fillRadialGradientEndPoint(),K=G.createRadialGradient(z.x,z.y,this.fillRadialGradientStartRadius(),W.x,W.y,this.fillRadialGradientEndRadius());for(let V=0;V<N.length;V+=2)K.addColorStop(N[V],N[V+1]);return K}}getShadowRGBA(){return this._getCache(v,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const N=y.Util.colorToRGBA(this.shadowColor());if(N)return"rgba("+N.r+","+N.g+","+N.b+","+N.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const N=this.hitStrokeWidth();return N==="auto"?this.hasStroke():this.strokeEnabled()&&!!N}intersects(N){const G=this.getStage();if(!G)return!1;const z=G.bufferHitCanvas;return z.getContext().clear(),this.drawHit(z,void 0,!0),z.context.getImageData(Math.round(N.x),Math.round(N.y),1,1).data[3]>0}destroy(){return S.Node.prototype.destroy.call(this),delete i.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(N){var G;if(!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const W=N||this.hasFill(),K=this.hasStroke(),V=this.getAbsoluteOpacity()!==1;if(W&&K&&V)return!0;const re=this.hasShadow(),P=this.shadowForStrokeEnabled();return!!(W&&K&&re&&P)}setStrokeHitEnabled(N){y.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),N?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const N=this.size();return{x:this._centroid?-N.width/2:0,y:this._centroid?-N.height/2:0,width:N.width,height:N.height}}getClientRect(N={}){let G=!1,z=this.getParent();for(;z;){if(z.isCached()){G=!0;break}z=z.getParent()}const W=N.skipTransform,K=N.relativeTo||G&&this.getStage()||void 0,V=this.getSelfRect(),P=!N.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,k=V.width+P,O=V.height+P,I=!N.skipShadow&&this.hasShadow(),B=I?this.shadowOffsetX():0,Z=I?this.shadowOffsetY():0,j=k+Math.abs(B),ne=O+Math.abs(Z),ae=I&&this.shadowBlur()||0,J=j+ae*2,D=ne+ae*2,Y={width:J,height:D,x:-(P/2+ae)+Math.min(B,0)+V.x,y:-(P/2+ae)+Math.min(Z,0)+V.y};return W?Y:this._transformedRect(Y,K)}drawScene(N,G,z){const W=this.getLayer(),K=N||W.getCanvas(),V=K.getContext(),re=this._getCanvasCache(),P=this.getSceneFunc(),k=this.hasShadow();let O;const I=G===this;if(!this.isVisible()&&!I)return this;if(re){V.save();const B=this.getAbsoluteTransform(G).getMatrix();return V.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedSceneCanvas(V),V.restore(),this}if(!P)return this;if(V.save(),this._useBufferCanvas()){O=this.getStage();const B=z||O.bufferCanvas,Z=B.getContext();Z.clear(),Z.save(),Z._applyLineJoin(this);const j=this.getAbsoluteTransform(G).getMatrix();Z.transform(j[0],j[1],j[2],j[3],j[4],j[5]),P.call(this,Z,this),Z.restore();const ne=B.pixelRatio;k&&V._applyShadow(this),V._applyOpacity(this),V._applyGlobalCompositeOperation(this),V.drawImage(B._canvas,B.x||0,B.y||0,B.width/ne,B.height/ne)}else{if(V._applyLineJoin(this),!I){const B=this.getAbsoluteTransform(G).getMatrix();V.transform(B[0],B[1],B[2],B[3],B[4],B[5]),V._applyOpacity(this),V._applyGlobalCompositeOperation(this)}k&&V._applyShadow(this),P.call(this,V,this)}return V.restore(),this}drawHit(N,G,z=!1){if(!this.shouldDrawHit(G,z))return this;const W=this.getLayer(),K=N||W.hitCanvas,V=K&&K.getContext(),re=this.hitFunc()||this.sceneFunc(),P=this._getCanvasCache(),k=P&&P.hit;if(this.colorKey||y.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),k){V.save();const I=this.getAbsoluteTransform(G).getMatrix();return V.transform(I[0],I[1],I[2],I[3],I[4],I[5]),this._drawCachedHitCanvas(V),V.restore(),this}if(!re)return this;if(V.save(),V._applyLineJoin(this),!(this===G)){const I=this.getAbsoluteTransform(G).getMatrix();V.transform(I[0],I[1],I[2],I[3],I[4],I[5])}return re.call(this,V,this),V.restore(),this}drawHitFromCache(N=0){const G=this._getCanvasCache(),z=this._getCachedSceneCanvas(),W=G.hit,K=W.getContext(),V=W.getWidth(),re=W.getHeight();K.clear(),K.drawImage(z._canvas,0,0,V,re);try{const P=K.getImageData(0,0,V,re),k=P.data,O=k.length,I=y.Util._hexToRgb(this.colorKey);for(let B=0;B<O;B+=4)k[B+3]>N?(k[B]=I.r,k[B+1]=I.g,k[B+2]=I.b,k[B+3]=255):k[B+3]=0;K.putImageData(P,0,0)}catch(P){y.Util.error("Unable to draw hit graph from cached scene canvas. "+P.message)}return this}hasPointerCapture(N){return u.hasPointerCapture(N,this)}setPointerCapture(N){u.setPointerCapture(N,this)}releaseCapture(N){u.releaseCapture(N,this)}}i.Shape=R,R.prototype._fillFunc=w,R.prototype._strokeFunc=T,R.prototype._fillFuncHit=F,R.prototype._strokeFuncHit=g,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,o._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",L),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),C.Factory.addGetterSetter(R,"stroke",void 0,(0,c.getStringOrGradientValidator)()),C.Factory.addGetterSetter(R,"strokeWidth",2,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),C.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,c.getNumberOrAutoValidator)()),C.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,c.getBooleanValidator)()),C.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,c.getBooleanValidator)()),C.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,c.getBooleanValidator)()),C.Factory.addGetterSetter(R,"lineJoin"),C.Factory.addGetterSetter(R,"lineCap"),C.Factory.addGetterSetter(R,"sceneFunc"),C.Factory.addGetterSetter(R,"hitFunc"),C.Factory.addGetterSetter(R,"dash"),C.Factory.addGetterSetter(R,"dashOffset",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"shadowColor",void 0,(0,c.getStringValidator)()),C.Factory.addGetterSetter(R,"shadowBlur",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"shadowOpacity",1,(0,c.getNumberValidator)()),C.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),C.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillPatternImage"),C.Factory.addGetterSetter(R,"fill",void 0,(0,c.getStringOrGradientValidator)()),C.Factory.addGetterSetter(R,"fillPatternX",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillPatternY",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),C.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),C.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),C.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),C.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),C.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),C.Factory.addGetterSetter(R,"fillEnabled",!0),C.Factory.addGetterSetter(R,"strokeEnabled",!0),C.Factory.addGetterSetter(R,"shadowEnabled",!0),C.Factory.addGetterSetter(R,"dashEnabled",!0),C.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),C.Factory.addGetterSetter(R,"fillPriority","color"),C.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),C.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,c.getNumberValidator)()),C.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),C.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,c.getNumberValidator)()),C.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,c.getNumberValidator)()),C.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),C.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),C.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),C.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),C.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),C.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),C.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),C.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),C.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),C.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),C.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),C.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),C.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),C.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),C.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),C.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),C.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),C.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),C.Factory.addGetterSetter(R,"fillPatternRotation",0),C.Factory.addGetterSetter(R,"fillRule",void 0,(0,c.getStringValidator)()),C.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Ia)),Ia}var du;function Fc(){if(du)return Sr;du=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Layer=void 0;const i=Ue(),a=cs(),y=Ve(),C=we(),S=us(),c=Ae(),o=Ze(),u=Ce(),h="#",v="beforeDraw",m="draw",A=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],_=A.length;class f extends a.Container{constructor(w){super(w),this.canvas=new S.SceneCanvas,this.hitCanvas=new S.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(w){return this.getContext().clear(w),this.getHitCanvas().getContext().clear(w),this}setZIndex(w){super.setZIndex(w);const T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),w<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[w+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){y.Node.prototype.moveToTop.call(this);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!y.Node.prototype.moveUp.call(this))return!1;const T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(y.Node.prototype.moveDown.call(this)){const w=this.getStage();if(w){const T=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(y.Node.prototype.moveToBottom.call(this)){const w=this.getStage();if(w){const T=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const w=this.getNativeCanvasElement();return y.Node.prototype.remove.call(this),w&&w.parentNode&&i.Util._isInDocument(w)&&w.parentNode.removeChild(w),this}getStage(){return this.parent}setSize({width:w,height:T}){return this.canvas.setSize(w,T),this.hitCanvas.setSize(w,T),this._setSmoothEnabled(),this}_validateAdd(w){const T=w.getType();T!=="Group"&&T!=="Shape"&&i.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(w){return w=w||{},w.width=w.width||this.getWidth(),w.height=w.height||this.getHeight(),w.x=w.x!==void 0?w.x:this.x(),w.y=w.y!==void 0?w.y:this.y(),y.Node.prototype._toKonvaCanvas.call(this,w)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(w){if(!this.isListening()||!this.isVisible())return null;let T=1,F=!1;for(;;){for(let g=0;g<_;g++){const l=A[g],x=this._getIntersection({x:w.x+l.x*T,y:w.y+l.y*T}),E=x.shape;if(E)return E;if(F=!!x.antialiased,!x.antialiased)break}if(F)T+=1;else return null}}_getIntersection(w){const T=this.hitCanvas.pixelRatio,F=this.hitCanvas.context.getImageData(Math.round(w.x*T),Math.round(w.y*T),1,1).data,g=F[3];if(g===255){const l=i.Util._rgbToHex(F[0],F[1],F[2]),x=o.shapes[h+l];return x?{shape:x}:{antialiased:!0}}else if(g>0)return{antialiased:!0};return{}}drawScene(w,T,F){const g=this.getLayer(),l=w||g&&g.getCanvas();return this._fire(v,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),a.Container.prototype.drawScene.call(this,l,T,F),this._fire(m,{node:this}),this}drawHit(w,T){const F=this.getLayer(),g=w||F&&F.hitCanvas;return F&&F.clearBeforeDraw()&&F.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,g,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(w){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(w)}getHitGraphEnabled(w){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const w=this.parent;!!this.hitCanvas._canvas.parentNode?w.content.removeChild(this.hitCanvas._canvas):w.content.appendChild(this.hitCanvas._canvas)}destroy(){return i.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Sr.Layer=f,f.prototype.nodeType="Layer",(0,u._registerNode)(f),C.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),C.Factory.addGetterSetter(f,"clearBeforeDraw",!0),C.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,c.getBooleanValidator)()),Sr}var Cr={},fu;function N0(){if(fu)return Cr;fu=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.FastLayer=void 0;const i=Ue(),a=Fc(),y=Ce();let C=class extends a.Layer{constructor(c){super(c),this.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Cr.FastLayer=C,C.prototype.nodeType="FastLayer",(0,y._registerNode)(C),Cr}var xr={},gu;function Xa(){if(gu)return xr;gu=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.Group=void 0;const i=Ue(),a=cs(),y=Ce();let C=class extends a.Container{_validateAdd(c){const o=c.getType();o!=="Group"&&o!=="Shape"&&i.Util.throw("You may only add groups and shapes to groups.")}};return xr.Group=C,C.prototype.nodeType="Group",(0,y._registerNode)(C),xr}var wr={},pu;function Qa(){if(pu)return wr;pu=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.Animation=void 0;const i=Ce(),a=Ue(),y=function(){return i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return new Date().getTime()}}();let C=class Jn{constructor(c,o){this.id=Jn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:y(),frameRate:0},this.func=c,this.setLayers(o)}setLayers(c){let o=[];return c&&(o=Array.isArray(c)?c:[c]),this.layers=o,this}getLayers(){return this.layers}addLayer(c){const o=this.layers,u=o.length;for(let h=0;h<u;h++)if(o[h]._id===c._id)return!1;return this.layers.push(c),!0}isRunning(){const o=Jn.animations,u=o.length;for(let h=0;h<u;h++)if(o[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=y(),Jn._addAnimation(this),this}stop(){return Jn._removeAnimation(this),this}_updateFrameObject(c){this.frame.timeDiff=c-this.frame.lastTime,this.frame.lastTime=c,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(c){this.animations.push(c),this._handleAnimation()}static _removeAnimation(c){const o=c.id,u=this.animations,h=u.length;for(let v=0;v<h;v++)if(u[v].id===o){this.animations.splice(v,1);break}}static _runFrames(){const c={},o=this.animations;for(let u=0;u<o.length;u++){const h=o[u],v=h.layers,m=h.func;h._updateFrameObject(y());const A=v.length;let _;if(m?_=m.call(h,h.frame)!==!1:_=!0,!!_)for(let f=0;f<A;f++){const p=v[f];p._id!==void 0&&(c[p._id]=p)}}for(const u in c)c.hasOwnProperty(u)&&c[u].batchDraw()}static _animationLoop(){const c=Jn;c.animations.length?(c._runFrames(),a.Util.requestAnimFrame(c._animationLoop)):c.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,a.Util.requestAnimFrame(this._animationLoop))}};return wr.Animation=C,C.animations=[],C.animIdCounter=0,C.animRunning=!1,wr}var Oa={},mu;function F0(){return mu||(mu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Easings=i.Tween=void 0;const a=Ue(),y=Qa(),C=Ve(),S=Ce(),c={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,u=2,h=3,v=["fill","stroke","shadowColor"];let m=0;class A{constructor(p,w,T,F,g,l,x){this.prop=p,this.propFunc=w,this.begin=F,this._pos=F,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=x,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=g-this.begin,this.pause()}fire(p){const w=this[p];w&&w()}setTime(p){p>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():p<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=p,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(p){return p===void 0&&(p=this._time),this.func(p,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(p){this.pause(),this._time=p,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const p=this.getTimer()-this._startTime;this.state===u?this.setTime(p):this.state===h&&this.setTime(this.duration-p)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class _{constructor(p){const w=this,T=p.node,F=T._id,g=p.easing||i.Easings.Linear,l=!!p.yoyo;let x,E;typeof p.duration>"u"?x=.3:p.duration===0?x=.001:x=p.duration,this.node=T,this._id=m++;const L=T.getLayer()||(T instanceof S.Konva.Stage?T.getLayers():null);L||a.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new y.Animation(function(){w.tween.onEnterFrame()},L),this.tween=new A(E,function(U){w._tweenFunc(U)},g,0,1,x*1e3,l),this._addListeners(),_.attrs[F]||(_.attrs[F]={}),_.attrs[F][this._id]||(_.attrs[F][this._id]={}),_.tweens[F]||(_.tweens[F]={});for(E in p)c[E]===void 0&&this._addAttr(E,p[E]);this.reset(),this.onFinish=p.onFinish,this.onReset=p.onReset,this.onUpdate=p.onUpdate}_addAttr(p,w){const T=this.node,F=T._id;let g,l,x,E,L;const U=_.tweens[F][p];U&&delete _.attrs[F][U][p];let R=T.getAttr(p);if(a.Util._isArray(w))if(g=[],l=Math.max(w.length,R.length),p==="points"&&w.length!==R.length&&(w.length>R.length?(E=R,R=a.Util._prepareArrayForTween(R,w,T.closed())):(x=w,w=a.Util._prepareArrayForTween(w,R,T.closed()))),p.indexOf("fill")===0)for(let b=0;b<l;b++)if(b%2===0)g.push(w[b]-R[b]);else{const N=a.Util.colorToRGBA(R[b]);L=a.Util.colorToRGBA(w[b]),R[b]=N,g.push({r:L.r-N.r,g:L.g-N.g,b:L.b-N.b,a:L.a-N.a})}else for(let b=0;b<l;b++)g.push(w[b]-R[b]);else v.indexOf(p)!==-1?(R=a.Util.colorToRGBA(R),L=a.Util.colorToRGBA(w),g={r:L.r-R.r,g:L.g-R.g,b:L.b-R.b,a:L.a-R.a}):g=w-R;_.attrs[F][this._id][p]={start:R,diff:g,end:w,trueEnd:x,trueStart:E},_.tweens[F][p]=this._id}_tweenFunc(p){const w=this.node,T=_.attrs[w._id][this._id];let F,g,l,x,E,L,U,R;for(F in T){if(g=T[F],l=g.start,x=g.diff,R=g.end,a.Util._isArray(l))if(E=[],U=Math.max(l.length,R.length),F.indexOf("fill")===0)for(L=0;L<U;L++)L%2===0?E.push((l[L]||0)+x[L]*p):E.push("rgba("+Math.round(l[L].r+x[L].r*p)+","+Math.round(l[L].g+x[L].g*p)+","+Math.round(l[L].b+x[L].b*p)+","+(l[L].a+x[L].a*p)+")");else for(L=0;L<U;L++)E.push((l[L]||0)+x[L]*p);else v.indexOf(F)!==-1?E="rgba("+Math.round(l.r+x.r*p)+","+Math.round(l.g+x.g*p)+","+Math.round(l.b+x.b*p)+","+(l.a+x.a*p)+")":E=l+x*p;w.setAttr(F,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const p=this.node,w=_.attrs[p._id][this._id];w.points&&w.points.trueEnd&&p.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const p=this.node,w=_.attrs[p._id][this._id];w.points&&w.points.trueStart&&p.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(p){return this.tween.seek(p*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const p=this.node._id,w=this._id,T=_.tweens[p];this.pause(),this.anim&&this.anim.stop();for(const F in T)delete _.tweens[p][F];delete _.attrs[p][w],_.tweens[p]&&(Object.keys(_.tweens[p]).length===0&&delete _.tweens[p],Object.keys(_.attrs[p]).length===0&&delete _.attrs[p])}}i.Tween=_,_.attrs={},_.tweens={},C.Node.prototype.to=function(f){const p=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),p&&p()},new _(f).play()},i.Easings={BackEaseIn(f,p,w,T){return w*(f/=T)*f*((1.70158+1)*f-1.70158)+p},BackEaseOut(f,p,w,T){return w*((f=f/T-1)*f*((1.70158+1)*f+1.70158)+1)+p},BackEaseInOut(f,p,w,T){let F=1.70158;return(f/=T/2)<1?w/2*(f*f*(((F*=1.525)+1)*f-F))+p:w/2*((f-=2)*f*(((F*=1.525)+1)*f+F)+2)+p},ElasticEaseIn(f,p,w,T,F,g){let l=0;return f===0?p:(f/=T)===1?p+w:(g||(g=T*.3),!F||F<Math.abs(w)?(F=w,l=g/4):l=g/(2*Math.PI)*Math.asin(w/F),-(F*Math.pow(2,10*(f-=1))*Math.sin((f*T-l)*(2*Math.PI)/g))+p)},ElasticEaseOut(f,p,w,T,F,g){let l=0;return f===0?p:(f/=T)===1?p+w:(g||(g=T*.3),!F||F<Math.abs(w)?(F=w,l=g/4):l=g/(2*Math.PI)*Math.asin(w/F),F*Math.pow(2,-10*f)*Math.sin((f*T-l)*(2*Math.PI)/g)+w+p)},ElasticEaseInOut(f,p,w,T,F,g){let l=0;return f===0?p:(f/=T/2)===2?p+w:(g||(g=T*(.3*1.5)),!F||F<Math.abs(w)?(F=w,l=g/4):l=g/(2*Math.PI)*Math.asin(w/F),f<1?-.5*(F*Math.pow(2,10*(f-=1))*Math.sin((f*T-l)*(2*Math.PI)/g))+p:F*Math.pow(2,-10*(f-=1))*Math.sin((f*T-l)*(2*Math.PI)/g)*.5+w+p)},BounceEaseOut(f,p,w,T){return(f/=T)<1/2.75?w*(7.5625*f*f)+p:f<2/2.75?w*(7.5625*(f-=1.5/2.75)*f+.75)+p:f<2.5/2.75?w*(7.5625*(f-=2.25/2.75)*f+.9375)+p:w*(7.5625*(f-=2.625/2.75)*f+.984375)+p},BounceEaseIn(f,p,w,T){return w-i.Easings.BounceEaseOut(T-f,0,w,T)+p},BounceEaseInOut(f,p,w,T){return f<T/2?i.Easings.BounceEaseIn(f*2,0,w,T)*.5+p:i.Easings.BounceEaseOut(f*2-T,0,w,T)*.5+w*.5+p},EaseIn(f,p,w,T){return w*(f/=T)*f+p},EaseOut(f,p,w,T){return-w*(f/=T)*(f-2)+p},EaseInOut(f,p,w,T){return(f/=T/2)<1?w/2*f*f+p:-w/2*(--f*(f-2)-1)+p},StrongEaseIn(f,p,w,T){return w*(f/=T)*f*f*f*f+p},StrongEaseOut(f,p,w,T){return w*((f=f/T-1)*f*f*f*f+1)+p},StrongEaseInOut(f,p,w,T){return(f/=T/2)<1?w/2*f*f*f*f*f+p:w/2*((f-=2)*f*f*f*f+2)+p},Linear(f,p,w,T){return w*f/T+p}}}(Oa)),Oa}var vu;function ja(){return vu||(vu=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;const a=Ce(),y=Ue(),C=Ve(),S=cs(),c=b0(),o=Fc(),u=N0(),h=Xa(),v=Ya(),m=Ze(),A=Qa(),_=F0(),f=bc(),p=us();i.Konva=y.Util._assign(a.Konva,{Util:y.Util,Transform:y.Transform,Node:C.Node,Container:S.Container,Stage:c.Stage,stages:c.stages,Layer:o.Layer,FastLayer:u.FastLayer,Group:h.Group,DD:v.DD,Shape:m.Shape,shapes:m.shapes,Animation:A.Animation,Tween:_.Tween,Easings:_.Easings,Context:f.Context,Canvas:p.Canvas}),i.default=i.Konva}(ka)),ka}var Ar={},yu;function M0(){if(yu)return Ar;yu=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Arc=void 0;const i=we(),a=Ze(),y=Ce(),C=Ae(),S=Ce();let c=class extends a.Shape{_sceneFunc(u){const h=y.Konva.getAngle(this.angle()),v=this.clockwise();u.beginPath(),u.arc(0,0,this.outerRadius(),0,h,v),u.arc(0,0,this.innerRadius(),h,0,!v),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}getSelfRect(){const u=this.innerRadius(),h=this.outerRadius(),v=this.clockwise(),m=y.Konva.getAngle(v?360-this.angle():this.angle()),A=Math.cos(Math.min(m,Math.PI)),_=1,f=Math.sin(Math.min(Math.max(Math.PI,m),3*Math.PI/2)),p=Math.sin(Math.min(m,Math.PI/2)),w=A*(A>0?u:h),T=_*h,F=f*(f>0?u:h),g=p*(p>0?h:u);return{x:w,y:v?-1*g:F,width:T-w,height:g-F}}};return Ar.Arc=c,c.prototype._centroid=!0,c.prototype.className="Arc",c.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,S._registerNode)(c),i.Factory.addGetterSetter(c,"innerRadius",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"outerRadius",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"angle",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"clockwise",!1,(0,C.getBooleanValidator)()),Ar}var Pr={},Er={},_u;function Mc(){if(_u)return Er;_u=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Line=void 0;const i=we(),a=Ce(),y=Ze(),C=Ae();function S(u,h,v,m,A,_,f){const p=Math.sqrt(Math.pow(v-u,2)+Math.pow(m-h,2)),w=Math.sqrt(Math.pow(A-v,2)+Math.pow(_-m,2)),T=f*p/(p+w),F=f*w/(p+w),g=v-T*(A-u),l=m-T*(_-h),x=v+F*(A-u),E=m+F*(_-h);return[g,l,x,E]}function c(u,h){const v=u.length,m=[];for(let A=2;A<v-2;A+=2){const _=S(u[A-2],u[A-1],u[A],u[A+1],u[A+2],u[A+3],h);isNaN(_[0])||(m.push(_[0]),m.push(_[1]),m.push(u[A]),m.push(u[A+1]),m.push(_[2]),m.push(_[3]))}return m}let o=class extends y.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){const v=this.points(),m=v.length,A=this.tension(),_=this.closed(),f=this.bezier();if(!m)return;let p=0;if(h.beginPath(),h.moveTo(v[0],v[1]),A!==0&&m>4){const w=this.getTensionPoints(),T=w.length;for(p=_?0:4,_||h.quadraticCurveTo(w[0],w[1],w[2],w[3]);p<T-2;)h.bezierCurveTo(w[p++],w[p++],w[p++],w[p++],w[p++],w[p++]);_||h.quadraticCurveTo(w[T-2],w[T-1],v[m-2],v[m-1])}else if(f)for(p=2;p<m;)h.bezierCurveTo(v[p++],v[p++],v[p++],v[p++],v[p++],v[p++]);else for(p=2;p<m;p+=2)h.lineTo(v[p],v[p+1]);_?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():c(this.points(),this.tension())}_getTensionPointsClosed(){const h=this.points(),v=h.length,m=this.tension(),A=S(h[v-2],h[v-1],h[0],h[1],h[2],h[3],m),_=S(h[v-4],h[v-3],h[v-2],h[v-1],h[0],h[1],m),f=c(h,m);return[A[2],A[3]].concat(f).concat([_[0],_[1],h[v-2],h[v-1],_[2],_[3],A[0],A[1],h[0],h[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();let v=h[0],m=h[0],A=h[1],_=h[1],f,p;for(let w=0;w<h.length/2;w++)f=h[w*2],p=h[w*2+1],v=Math.min(v,f),m=Math.max(m,f),A=Math.min(A,p),_=Math.max(_,p);return{x:v,y:A,width:m-v,height:_-A}}};return Er.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,a._registerNode)(o),i.Factory.addGetterSetter(o,"closed",!1),i.Factory.addGetterSetter(o,"bezier",!1),i.Factory.addGetterSetter(o,"tension",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(o,"points",[],(0,C.getNumberArrayValidator)()),Er}var Tr={},Da={},Su;function L0(){return Su||(Su=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.t2length=i.getQuadraticArcLength=i.getCubicArcLength=i.binomialCoefficients=i.cValues=i.tValues=void 0,i.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],i.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],i.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const a=(o,u,h)=>{let v,m;const _=h/2;v=0;for(let f=0;f<20;f++)m=_*i.tValues[20][f]+_,v+=i.cValues[20][f]*C(o,u,m);return _*v};i.getCubicArcLength=a;const y=(o,u,h)=>{h===void 0&&(h=1);const v=o[0]-2*o[1]+o[2],m=u[0]-2*u[1]+u[2],A=2*o[1]-2*o[0],_=2*u[1]-2*u[0],f=4*(v*v+m*m),p=4*(v*A+m*_),w=A*A+_*_;if(f===0)return h*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(u[2]-u[0],2));const T=p/(2*f),F=w/f,g=h+T,l=F-T*T,x=g*g+l>0?Math.sqrt(g*g+l):0,E=T*T+l>0?Math.sqrt(T*T+l):0,L=T+Math.sqrt(T*T+l)!==0?l*Math.log(Math.abs((g+x)/(T+E))):0;return Math.sqrt(f)/2*(g*x-T*E+L)};i.getQuadraticArcLength=y;function C(o,u,h){const v=S(1,h,o),m=S(1,h,u),A=v*v+m*m;return Math.sqrt(A)}const S=(o,u,h)=>{const v=h.length-1;let m,A;if(v===0)return 0;if(o===0){A=0;for(let _=0;_<=v;_++)A+=i.binomialCoefficients[v][_]*Math.pow(1-u,v-_)*Math.pow(u,_)*h[_];return A}else{m=new Array(v);for(let _=0;_<v;_++)m[_]=v*(h[_+1]-h[_]);return S(o-1,u,m)}},c=(o,u,h)=>{let v=1,m=o/u,A=(o-h(m))/u,_=0;for(;v>.001;){const f=h(m+A),p=Math.abs(o-f)/u;if(p<v)v=p,m+=A;else{const w=h(m-A),T=Math.abs(o-w)/u;T<v?(v=T,m-=A):A/=2}if(_++,_>500)break}return m};i.t2length=c}(Da)),Da}var Cu;function Ja(){if(Cu)return Tr;Cu=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Path=void 0;const i=we(),a=Ce(),y=Ze(),C=L0();let S=class _t extends y.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=_t.parsePathData(this.data()),this.pathLength=_t.getPathLength(this.dataArray)}_sceneFunc(o){const u=this.dataArray;o.beginPath();let h=!1;for(let v=0;v<u.length;v++){const m=u[v].command,A=u[v].points;switch(m){case"L":o.lineTo(A[0],A[1]);break;case"M":o.moveTo(A[0],A[1]);break;case"C":o.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case"Q":o.quadraticCurveTo(A[0],A[1],A[2],A[3]);break;case"A":const _=A[0],f=A[1],p=A[2],w=A[3],T=A[4],F=A[5],g=A[6],l=A[7],x=p>w?p:w,E=p>w?1:p/w,L=p>w?w/p:1;o.translate(_,f),o.rotate(g),o.scale(E,L),o.arc(0,0,x,T,T+F,1-l),o.scale(1/E,1/L),o.rotate(-g),o.translate(-_,-f);break;case"z":h=!0,o.closePath();break}}!h&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(f){if(f.command==="A"){const p=f.points[4],w=f.points[5],T=f.points[4]+w;let F=Math.PI/180;if(Math.abs(p-T)<F&&(F=Math.abs(p-T)),w<0)for(let g=p-F;g>T;g-=F){const l=_t.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,0);o.push(l.x,l.y)}else for(let g=p+F;g<T;g+=F){const l=_t.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,0);o.push(l.x,l.y)}}else if(f.command==="C")for(let p=0;p<=1;p+=.01){const w=_t.getPointOnCubicBezier(p,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);o.push(w.x,w.y)}else o=o.concat(f.points)});let u=o[0],h=o[0],v=o[1],m=o[1],A,_;for(let f=0;f<o.length/2;f++)A=o[f*2],_=o[f*2+1],isNaN(A)||(u=Math.min(u,A),h=Math.max(h,A)),isNaN(_)||(v=Math.min(v,_),m=Math.max(m,_));return{x:u,y:v,width:h-u,height:m-v}}getLength(){return this.pathLength}getPointAtLength(o){return _t.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,u,h,v){return Math.sqrt((h-o)*(h-o)+(v-u)*(v-u))}static getPathLength(o){let u=0;for(let h=0;h<o.length;++h)u+=o[h].pathLength;return u}static getPointAtLengthOfDataArray(o,u){let h,v=0,m=u.length;if(!m)return null;for(;v<m&&o>u[v].pathLength;)o-=u[v].pathLength,++v;if(v===m)return h=u[v-1].points.slice(-2),{x:h[0],y:h[1]};if(o<.01)return u[v].command==="M"?(h=u[v].points.slice(0,2),{x:h[0],y:h[1]}):{x:u[v].start.x,y:u[v].start.y};const A=u[v],_=A.points;switch(A.command){case"L":return _t.getPointOnLine(o,A.start.x,A.start.y,_[0],_[1]);case"C":return _t.getPointOnCubicBezier((0,C.t2length)(o,_t.getPathLength(u),x=>(0,C.getCubicArcLength)([A.start.x,_[0],_[2],_[4]],[A.start.y,_[1],_[3],_[5]],x)),A.start.x,A.start.y,_[0],_[1],_[2],_[3],_[4],_[5]);case"Q":return _t.getPointOnQuadraticBezier((0,C.t2length)(o,_t.getPathLength(u),x=>(0,C.getQuadraticArcLength)([A.start.x,_[0],_[2]],[A.start.y,_[1],_[3]],x)),A.start.x,A.start.y,_[0],_[1],_[2],_[3]);case"A":const f=_[0],p=_[1],w=_[2],T=_[3],F=_[5],g=_[6];let l=_[4];return l+=F*o/A.pathLength,_t.getPointOnEllipticalArc(f,p,w,T,l,g)}return null}static getPointOnLine(o,u,h,v,m,A,_){A=A??u,_=_??h;const f=this.getLineLength(u,h,v,m);if(f<1e-10)return{x:u,y:h};if(v===u)return{x:A,y:_+(m>h?o:-o)};const p=(m-h)/(v-u),w=Math.sqrt(o*o/(1+p*p))*(v<u?-1:1),T=p*w;if(Math.abs(_-h-p*(A-u))<1e-10)return{x:A+w,y:_+T};const F=((A-u)*(v-u)+(_-h)*(m-h))/(f*f),g=u+F*(v-u),l=h+F*(m-h),x=this.getLineLength(A,_,g,l),E=Math.sqrt(o*o-x*x),L=Math.sqrt(E*E/(1+p*p))*(v<u?-1:1),U=p*L;return{x:g+L,y:l+U}}static getPointOnCubicBezier(o,u,h,v,m,A,_,f,p){function w(E){return E*E*E}function T(E){return 3*E*E*(1-E)}function F(E){return 3*E*(1-E)*(1-E)}function g(E){return(1-E)*(1-E)*(1-E)}const l=f*w(o)+A*T(o)+v*F(o)+u*g(o),x=p*w(o)+_*T(o)+m*F(o)+h*g(o);return{x:l,y:x}}static getPointOnQuadraticBezier(o,u,h,v,m,A,_){function f(g){return g*g}function p(g){return 2*g*(1-g)}function w(g){return(1-g)*(1-g)}const T=A*f(o)+v*p(o)+u*w(o),F=_*f(o)+m*p(o)+h*w(o);return{x:T,y:F}}static getPointOnEllipticalArc(o,u,h,v,m,A){const _=Math.cos(A),f=Math.sin(A),p={x:h*Math.cos(m),y:v*Math.sin(m)};return{x:o+(p.x*_-p.y*f),y:u+(p.x*f+p.y*_)}}static parsePathData(o){if(!o)return[];let u=o;const h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];u=u.replace(new RegExp(" ","g"),",");for(let T=0;T<h.length;T++)u=u.replace(new RegExp(h[T],"g"),"|"+h[T]);const v=u.split("|"),m=[],A=[];let _=0,f=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let w;for(let T=1;T<v.length;T++){let F=v[T],g=F.charAt(0);for(F=F.slice(1),A.length=0;w=p.exec(F);)A.push(w[0]);const l=[];for(let x=0,E=A.length;x<E;x++){if(A[x]==="00"){l.push(0,0);continue}const L=parseFloat(A[x]);isNaN(L)?l.push(0):l.push(L)}for(;l.length>0&&!isNaN(l[0]);){let x="",E=[];const L=_,U=f;let R,b,N,G,z,W,K,V,re,P;switch(g){case"l":_+=l.shift(),f+=l.shift(),x="L",E.push(_,f);break;case"L":_=l.shift(),f=l.shift(),E.push(_,f);break;case"m":const k=l.shift(),O=l.shift();if(_+=k,f+=O,x="M",m.length>2&&m[m.length-1].command==="z"){for(let I=m.length-2;I>=0;I--)if(m[I].command==="M"){_=m[I].points[0]+k,f=m[I].points[1]+O;break}}E.push(_,f),g="l";break;case"M":_=l.shift(),f=l.shift(),x="M",E.push(_,f),g="L";break;case"h":_+=l.shift(),x="L",E.push(_,f);break;case"H":_=l.shift(),x="L",E.push(_,f);break;case"v":f+=l.shift(),x="L",E.push(_,f);break;case"V":f=l.shift(),x="L",E.push(_,f);break;case"C":E.push(l.shift(),l.shift(),l.shift(),l.shift()),_=l.shift(),f=l.shift(),E.push(_,f);break;case"c":E.push(_+l.shift(),f+l.shift(),_+l.shift(),f+l.shift()),_+=l.shift(),f+=l.shift(),x="C",E.push(_,f);break;case"S":b=_,N=f,R=m[m.length-1],R.command==="C"&&(b=_+(_-R.points[2]),N=f+(f-R.points[3])),E.push(b,N,l.shift(),l.shift()),_=l.shift(),f=l.shift(),x="C",E.push(_,f);break;case"s":b=_,N=f,R=m[m.length-1],R.command==="C"&&(b=_+(_-R.points[2]),N=f+(f-R.points[3])),E.push(b,N,_+l.shift(),f+l.shift()),_+=l.shift(),f+=l.shift(),x="C",E.push(_,f);break;case"Q":E.push(l.shift(),l.shift()),_=l.shift(),f=l.shift(),E.push(_,f);break;case"q":E.push(_+l.shift(),f+l.shift()),_+=l.shift(),f+=l.shift(),x="Q",E.push(_,f);break;case"T":b=_,N=f,R=m[m.length-1],R.command==="Q"&&(b=_+(_-R.points[0]),N=f+(f-R.points[1])),_=l.shift(),f=l.shift(),x="Q",E.push(b,N,_,f);break;case"t":b=_,N=f,R=m[m.length-1],R.command==="Q"&&(b=_+(_-R.points[0]),N=f+(f-R.points[1])),_+=l.shift(),f+=l.shift(),x="Q",E.push(b,N,_,f);break;case"A":G=l.shift(),z=l.shift(),W=l.shift(),K=l.shift(),V=l.shift(),re=_,P=f,_=l.shift(),f=l.shift(),x="A",E=this.convertEndpointToCenterParameterization(re,P,_,f,K,V,G,z,W);break;case"a":G=l.shift(),z=l.shift(),W=l.shift(),K=l.shift(),V=l.shift(),re=_,P=f,_+=l.shift(),f+=l.shift(),x="A",E=this.convertEndpointToCenterParameterization(re,P,_,f,K,V,G,z,W);break}m.push({command:x||g,points:E,start:{x:L,y:U},pathLength:this.calcLength(L,U,x||g,E)})}(g==="z"||g==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(o,u,h,v){let m,A,_,f;const p=_t;switch(h){case"L":return p.getLineLength(o,u,v[0],v[1]);case"C":return(0,C.getCubicArcLength)([o,v[0],v[2],v[4]],[u,v[1],v[3],v[5]],1);case"Q":return(0,C.getQuadraticArcLength)([o,v[0],v[2]],[u,v[1],v[3]],1);case"A":m=0;const w=v[4],T=v[5],F=v[4]+T;let g=Math.PI/180;if(Math.abs(w-F)<g&&(g=Math.abs(w-F)),A=p.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],w,0),T<0)for(f=w-g;f>F;f-=g)_=p.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],f,0),m+=p.getLineLength(A.x,A.y,_.x,_.y),A=_;else for(f=w+g;f<F;f+=g)_=p.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],f,0),m+=p.getLineLength(A.x,A.y,_.x,_.y),A=_;return _=p.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],F,0),m+=p.getLineLength(A.x,A.y,_.x,_.y),m}return 0}static convertEndpointToCenterParameterization(o,u,h,v,m,A,_,f,p){const w=p*(Math.PI/180),T=Math.cos(w)*(o-h)/2+Math.sin(w)*(u-v)/2,F=-1*Math.sin(w)*(o-h)/2+Math.cos(w)*(u-v)/2,g=T*T/(_*_)+F*F/(f*f);g>1&&(_*=Math.sqrt(g),f*=Math.sqrt(g));let l=Math.sqrt((_*_*(f*f)-_*_*(F*F)-f*f*(T*T))/(_*_*(F*F)+f*f*(T*T)));m===A&&(l*=-1),isNaN(l)&&(l=0);const x=l*_*F/f,E=l*-f*T/_,L=(o+h)/2+Math.cos(w)*x-Math.sin(w)*E,U=(u+v)/2+Math.sin(w)*x+Math.cos(w)*E,R=function(V){return Math.sqrt(V[0]*V[0]+V[1]*V[1])},b=function(V,re){return(V[0]*re[0]+V[1]*re[1])/(R(V)*R(re))},N=function(V,re){return(V[0]*re[1]<V[1]*re[0]?-1:1)*Math.acos(b(V,re))},G=N([1,0],[(T-x)/_,(F-E)/f]),z=[(T-x)/_,(F-E)/f],W=[(-1*T-x)/_,(-1*F-E)/f];let K=N(z,W);return b(z,W)<=-1&&(K=Math.PI),b(z,W)>=1&&(K=0),A===0&&K>0&&(K=K-2*Math.PI),A===1&&K<0&&(K=K+2*Math.PI),[L,U,_,f,G,K,w,A]}};return Tr.Path=S,S.prototype.className="Path",S.prototype._attrsAffectingSize=["data"],(0,a._registerNode)(S),i.Factory.addGetterSetter(S,"data"),Tr}var xu;function I0(){if(xu)return Pr;xu=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.Arrow=void 0;const i=we(),a=Mc(),y=Ae(),C=Ce(),S=Ja();let c=class extends a.Line{_sceneFunc(u){super._sceneFunc(u);const h=Math.PI*2,v=this.points();let m=v;const A=this.tension()!==0&&v.length>4;A&&(m=this.getTensionPoints());const _=this.pointerLength(),f=v.length;let p,w;if(A){const g=[m[m.length-4],m[m.length-3],m[m.length-2],m[m.length-1],v[f-2],v[f-1]],l=S.Path.calcLength(m[m.length-4],m[m.length-3],"C",g),x=S.Path.getPointOnQuadraticBezier(Math.min(1,1-_/l),g[0],g[1],g[2],g[3],g[4],g[5]);p=v[f-2]-x.x,w=v[f-1]-x.y}else p=v[f-2]-v[f-4],w=v[f-1]-v[f-3];const T=(Math.atan2(w,p)+h)%h,F=this.pointerWidth();this.pointerAtEnding()&&(u.save(),u.beginPath(),u.translate(v[f-2],v[f-1]),u.rotate(T),u.moveTo(0,0),u.lineTo(-_,F/2),u.lineTo(-_,-F/2),u.closePath(),u.restore(),this.__fillStroke(u)),this.pointerAtBeginning()&&(u.save(),u.beginPath(),u.translate(v[0],v[1]),A?(p=(m[0]+m[2])/2-v[0],w=(m[1]+m[3])/2-v[1]):(p=v[2]-v[0],w=v[3]-v[1]),u.rotate((Math.atan2(-w,-p)+h)%h),u.moveTo(0,0),u.lineTo(-_,F/2),u.lineTo(-_,-F/2),u.closePath(),u.restore(),this.__fillStroke(u))}__fillStroke(u){const h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,u.setLineDash([])),u.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const u=super.getSelfRect(),h=this.pointerWidth()/2;return{x:u.x,y:u.y-h,width:u.width,height:u.height+h*2}}};return Pr.Arrow=c,c.prototype.className="Arrow",(0,C._registerNode)(c),i.Factory.addGetterSetter(c,"pointerLength",10,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(c,"pointerWidth",10,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(c,"pointerAtBeginning",!1),i.Factory.addGetterSetter(c,"pointerAtEnding",!0),Pr}var Rr={},wu;function O0(){if(wu)return Rr;wu=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Circle=void 0;const i=we(),a=Ze(),y=Ae(),C=Ce();let S=class extends a.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Rr.Circle=S,S.prototype._centroid=!0,S.prototype.className="Circle",S.prototype._attrsAffectingSize=["radius"],(0,C._registerNode)(S),i.Factory.addGetterSetter(S,"radius",0,(0,y.getNumberValidator)()),Rr}var kr={},Au;function D0(){if(Au)return kr;Au=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.Ellipse=void 0;const i=we(),a=Ze(),y=Ae(),C=Ce();let S=class extends a.Shape{_sceneFunc(o){const u=this.radiusX(),h=this.radiusY();o.beginPath(),o.save(),u!==h&&o.scale(1,h/u),o.arc(0,0,u,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return kr.Ellipse=S,S.prototype.className="Ellipse",S.prototype._centroid=!0,S.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,C._registerNode)(S),i.Factory.addComponentsGetterSetter(S,"radius",["x","y"]),i.Factory.addGetterSetter(S,"radiusX",0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(S,"radiusY",0,(0,y.getNumberValidator)()),kr}var br={},Pu;function G0(){if(Pu)return br;Pu=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Image=void 0;const i=Ue(),a=we(),y=Ze(),C=Ce(),S=Ae();class c extends y.Shape{constructor(u){super(u),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",h=>{this._removeImageLoad(h.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const u=this.image();u&&u.complete||u&&u.readyState===4||u&&u.addEventListener&&u.addEventListener("load",this._loadListener)}_removeImageLoad(u){u&&u.removeEventListener&&u.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const u=!!this.cornerRadius(),h=this.hasShadow();return u&&h?!0:super._useBufferCanvas(!0)}_sceneFunc(u){const h=this.getWidth(),v=this.getHeight(),m=this.cornerRadius(),A=this.attrs.image;let _;if(A){const f=this.attrs.cropWidth,p=this.attrs.cropHeight;f&&p?_=[A,this.cropX(),this.cropY(),f,p,0,0,h,v]:_=[A,0,0,h,v]}(this.hasFill()||this.hasStroke()||m)&&(u.beginPath(),m?i.Util.drawRoundedRectPath(u,h,v,m):u.rect(0,0,h,v),u.closePath(),u.fillStrokeShape(this)),A&&(m&&u.clip(),u.drawImage.apply(u,_))}_hitFunc(u){const h=this.width(),v=this.height(),m=this.cornerRadius();u.beginPath(),m?i.Util.drawRoundedRectPath(u,h,v,m):u.rect(0,0,h,v),u.closePath(),u.fillStrokeShape(this)}getWidth(){var u,h;return(u=this.attrs.width)!==null&&u!==void 0?u:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var u,h;return(u=this.attrs.height)!==null&&u!==void 0?u:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(u,h,v=null){const m=i.Util.createImageElement();m.onload=function(){const A=new c({image:m});h(A)},m.onerror=v,m.crossOrigin="Anonymous",m.src=u}}return br.Image=c,c.prototype.className="Image",(0,C._registerNode)(c),a.Factory.addGetterSetter(c,"cornerRadius",0,(0,S.getNumberOrArrayOfNumbersValidator)(4)),a.Factory.addGetterSetter(c,"image"),a.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(c,"cropX",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(c,"cropY",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(c,"cropWidth",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(c,"cropHeight",0,(0,S.getNumberValidator)()),br}var Ln={},Eu;function B0(){if(Eu)return Ln;Eu=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.Tag=Ln.Label=void 0;const i=we(),a=Ze(),y=Xa(),C=Ae(),S=Ce(),c=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",u="none",h="up",v="right",m="down",A="left",_=c.length;let f=class extends y.Group{constructor(T){super(T),this.on("add.konva",function(F){this._addListeners(F.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){let F=this,g;const l=function(){F._sync()};for(g=0;g<_;g++)T.on(c[g]+o,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let T=this.getText(),F=this.getTag(),g,l,x,E,L,U,R;if(T&&F){switch(g=T.width(),l=T.height(),x=F.pointerDirection(),E=F.pointerWidth(),R=F.pointerHeight(),L=0,U=0,x){case h:L=g/2,U=-1*R;break;case v:L=g+E,U=l/2;break;case m:L=g/2,U=l+R;break;case A:L=-1*E,U=l/2;break}F.setAttrs({x:-1*L,y:-1*U,width:g,height:l}),T.setAttrs({x:-1*L,y:-1*U})}}};Ln.Label=f,f.prototype.className="Label",(0,S._registerNode)(f);class p extends a.Shape{_sceneFunc(T){const F=this.width(),g=this.height(),l=this.pointerDirection(),x=this.pointerWidth(),E=this.pointerHeight(),L=this.cornerRadius();let U=0,R=0,b=0,N=0;typeof L=="number"?U=R=b=N=Math.min(L,F/2,g/2):(U=Math.min(L[0]||0,F/2,g/2),R=Math.min(L[1]||0,F/2,g/2),N=Math.min(L[2]||0,F/2,g/2),b=Math.min(L[3]||0,F/2,g/2)),T.beginPath(),T.moveTo(U,0),l===h&&(T.lineTo((F-x)/2,0),T.lineTo(F/2,-1*E),T.lineTo((F+x)/2,0)),T.lineTo(F-R,0),T.arc(F-R,R,R,Math.PI*3/2,0,!1),l===v&&(T.lineTo(F,(g-E)/2),T.lineTo(F+x,g/2),T.lineTo(F,(g+E)/2)),T.lineTo(F,g-N),T.arc(F-N,g-N,N,0,Math.PI/2,!1),l===m&&(T.lineTo((F+x)/2,g),T.lineTo(F/2,g+E),T.lineTo((F-x)/2,g)),T.lineTo(b,g),T.arc(b,g-b,b,Math.PI/2,Math.PI,!1),l===A&&(T.lineTo(0,(g+E)/2),T.lineTo(-1*x,g/2),T.lineTo(0,(g-E)/2)),T.lineTo(0,U),T.arc(U,U,U,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){let T=0,F=0,g=this.pointerWidth(),l=this.pointerHeight(),x=this.pointerDirection(),E=this.width(),L=this.height();return x===h?(F-=l,L+=l):x===m?L+=l:x===A?(T-=g*1.5,E+=g):x===v&&(E+=g*1.5),{x:T,y:F,width:E,height:L}}}return Ln.Tag=p,p.prototype.className="Tag",(0,S._registerNode)(p),i.Factory.addGetterSetter(p,"pointerDirection",u),i.Factory.addGetterSetter(p,"pointerWidth",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(p,"pointerHeight",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(p,"cornerRadius",0,(0,C.getNumberOrArrayOfNumbersValidator)(4)),Ln}var Nr={},Tu;function Lc(){if(Tu)return Nr;Tu=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Rect=void 0;const i=we(),a=Ze(),y=Ce(),C=Ue(),S=Ae();class c extends a.Shape{_sceneFunc(u){const h=this.cornerRadius(),v=this.width(),m=this.height();u.beginPath(),h?C.Util.drawRoundedRectPath(u,v,m,h):u.rect(0,0,v,m),u.closePath(),u.fillStrokeShape(this)}}return Nr.Rect=c,c.prototype.className="Rect",(0,y._registerNode)(c),i.Factory.addGetterSetter(c,"cornerRadius",0,(0,S.getNumberOrArrayOfNumbersValidator)(4)),Nr}var Fr={},Ru;function U0(){if(Ru)return Fr;Ru=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.RegularPolygon=void 0;const i=we(),a=Ze(),y=Ae(),C=Ce();let S=class extends a.Shape{_sceneFunc(o){const u=this._getPoints();o.beginPath(),o.moveTo(u[0].x,u[0].y);for(let h=1;h<u.length;h++)o.lineTo(u[h].x,u[h].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,u=this.attrs.radius||0,h=[];for(let v=0;v<o;v++)h.push({x:u*Math.sin(v*2*Math.PI/o),y:-1*u*Math.cos(v*2*Math.PI/o)});return h}getSelfRect(){const o=this._getPoints();let u=o[0].x,h=o[0].y,v=o[0].x,m=o[0].y;return o.forEach(A=>{u=Math.min(u,A.x),h=Math.max(h,A.x),v=Math.min(v,A.y),m=Math.max(m,A.y)}),{x:u,y:v,width:h-u,height:m-v}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Fr.RegularPolygon=S,S.prototype.className="RegularPolygon",S.prototype._centroid=!0,S.prototype._attrsAffectingSize=["radius"],(0,C._registerNode)(S),i.Factory.addGetterSetter(S,"radius",0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(S,"sides",0,(0,y.getNumberValidator)()),Fr}var Mr={},ku;function z0(){if(ku)return Mr;ku=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Ring=void 0;const i=we(),a=Ze(),y=Ae(),C=Ce(),S=Math.PI*2;let c=class extends a.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.innerRadius(),0,S,!1),u.moveTo(this.outerRadius(),0),u.arc(0,0,this.outerRadius(),S,0,!0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}};return Mr.Ring=c,c.prototype.className="Ring",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,C._registerNode)(c),i.Factory.addGetterSetter(c,"innerRadius",0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(c,"outerRadius",0,(0,y.getNumberValidator)()),Mr}var Lr={},bu;function V0(){if(bu)return Lr;bu=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Sprite=void 0;const i=we(),a=Ze(),y=Qa(),C=Ae(),S=Ce();let c=class extends a.Shape{constructor(u){super(u),this._updated=!0,this.anim=new y.Animation(()=>{const h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(u){const h=this.animation(),v=this.frameIndex(),m=v*4,A=this.animations()[h],_=this.frameOffsets(),f=A[m+0],p=A[m+1],w=A[m+2],T=A[m+3],F=this.image();if((this.hasFill()||this.hasStroke())&&(u.beginPath(),u.rect(0,0,w,T),u.closePath(),u.fillStrokeShape(this)),F)if(_){const g=_[h],l=v*2;u.drawImage(F,f,p,w,T,g[l+0],g[l+1],w,T)}else u.drawImage(F,f,p,w,T,0,0,w,T)}_hitFunc(u){const h=this.animation(),v=this.frameIndex(),m=v*4,A=this.animations()[h],_=this.frameOffsets(),f=A[m+2],p=A[m+3];if(u.beginPath(),_){const w=_[h],T=v*2;u.rect(w[T+0],w[T+1],f,p)}else u.rect(0,0,f,p);u.closePath(),u.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const u=this;this.interval=setInterval(function(){u._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const u=this.getLayer();this.anim.setLayers(u),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const u=this.frameIndex(),h=this.animation(),v=this.animations(),m=v[h],A=m.length/4;u<A-1?this.frameIndex(u+1):this.frameIndex(0)}};return Lr.Sprite=c,c.prototype.className="Sprite",(0,S._registerNode)(c),i.Factory.addGetterSetter(c,"animation"),i.Factory.addGetterSetter(c,"animations"),i.Factory.addGetterSetter(c,"frameOffsets"),i.Factory.addGetterSetter(c,"image"),i.Factory.addGetterSetter(c,"frameIndex",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"frameRate",17,(0,C.getNumberValidator)()),i.Factory.backCompat(c,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Lr}var Ir={},Nu;function j0(){if(Nu)return Ir;Nu=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Star=void 0;const i=we(),a=Ze(),y=Ae(),C=Ce();let S=class extends a.Shape{_sceneFunc(o){const u=this.innerRadius(),h=this.outerRadius(),v=this.numPoints();o.beginPath(),o.moveTo(0,0-h);for(let m=1;m<v*2;m++){const A=m%2===0?h:u,_=A*Math.sin(m*Math.PI/v),f=-1*A*Math.cos(m*Math.PI/v);o.lineTo(_,f)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Ir.Star=S,S.prototype.className="Star",S.prototype._centroid=!0,S.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,C._registerNode)(S),i.Factory.addGetterSetter(S,"numPoints",5,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(S,"innerRadius",0,(0,y.getNumberValidator)()),i.Factory.addGetterSetter(S,"outerRadius",0,(0,y.getNumberValidator)()),Ir}var Qn={},Fu;function Ic(){if(Fu)return Qn;Fu=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.Text=void 0,Qn.stringToArray=o;const i=Ue(),a=we(),y=Ze(),C=Ce(),S=Ae(),c=Ce();function o(Z){return[...Z].reduce((j,ne,ae,J)=>{if(new RegExp("\\p{Emoji}","u").test(ne)){const D=J[ae+1];D&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(D)?(j.push(ne+D),J[ae+1]=""):j.push(ne)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ne+(J[ae+1]||""))?j.push(ne+J[ae+1]):ae>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ne)?j[j.length-1]+=ne:ne&&j.push(ne);return j},[])}const u="auto",h="center",v="inherit",m="justify",A="Change.konva",_="2d",f="-",p="left",w="text",T="Text",F="top",g="bottom",l="middle",x="normal",E="px ",L=" ",U="right",R="rtl",b="word",N="char",G="none",z="…",W=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],K=W.length;function V(Z){return Z.split(",").map(j=>{j=j.trim();const ne=j.indexOf(" ")>=0,ae=j.indexOf('"')>=0||j.indexOf("'")>=0;return ne&&!ae&&(j=`"${j}"`),j}).join(", ")}let re;function P(){return re||(re=i.Util.createCanvasElement().getContext(_),re)}function k(Z){Z.fillText(this._partialText,this._partialTextX,this._partialTextY)}function O(Z){Z.setAttr("miterLimit",2),Z.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function I(Z){return Z=Z||{},!Z.fillLinearGradientColorStops&&!Z.fillRadialGradientColorStops&&!Z.fillPatternImage&&(Z.fill=Z.fill||"black"),Z}class B extends y.Shape{constructor(j){super(I(j)),this._partialTextX=0,this._partialTextY=0;for(let ne=0;ne<K;ne++)this.on(W[ne]+A,this._setTextData);this._setTextData()}_sceneFunc(j){const ne=this.textArr,ae=ne.length;if(!this.text())return;let J=this.padding(),D=this.fontSize(),Y=this.lineHeight()*D,se=this.verticalAlign(),oe=this.direction(),le=0,pe=this.align(),fe=this.getWidth(),Re=this.letterSpacing(),ve=this.fill(),He=this.textDecoration(),ke=He.indexOf("underline")!==-1,De=He.indexOf("line-through")!==-1,sn;oe=oe===v?j.direction:oe;let Ke=Y/2,Cn=l;if(C.Konva._fixTextRendering){const Ne=this.measureSize("M");Cn="alphabetic",Ke=(Ne.fontBoundingBoxAscent-Ne.fontBoundingBoxDescent)/2+Y/2}for(oe===R&&j.setAttr("direction",oe),j.setAttr("font",this._getContextFont()),j.setAttr("textBaseline",Cn),j.setAttr("textAlign",p),se===l?le=(this.getHeight()-ae*Y-J*2)/2:se===g&&(le=this.getHeight()-ae*Y-J*2),j.translate(J,le+J),sn=0;sn<ae;sn++){let Ne=0,St=0;const tt=ne[sn],Yt=tt.text,nt=tt.width,Bt=tt.lastInParagraph;if(j.save(),pe===U?Ne+=fe-nt-J*2:pe===h&&(Ne+=(fe-nt-J*2)/2),ke){j.save(),j.beginPath();const Ct=C.Konva._fixTextRendering?Math.round(D/4):Math.round(D/2),At=Ne,rt=Ke+St+Ct;j.moveTo(At,rt);const it=pe===m&&!Bt?fe-J*2:nt;j.lineTo(At+Math.round(it),rt),j.lineWidth=D/15;const xn=this._getLinearGradient();j.strokeStyle=xn||ve,j.stroke(),j.restore()}if(De){j.save(),j.beginPath();const Ct=C.Konva._fixTextRendering?-Math.round(D/4):0;j.moveTo(Ne,Ke+St+Ct);const At=pe===m&&!Bt?fe-J*2:nt;j.lineTo(Ne+Math.round(At),Ke+St+Ct),j.lineWidth=D/15;const rt=this._getLinearGradient();j.strokeStyle=rt||ve,j.stroke(),j.restore()}if(oe!==R&&(Re!==0||pe===m)){const Ct=Yt.split(" ").length-1,At=o(Yt);for(let rt=0;rt<At.length;rt++){const it=At[rt];it===" "&&!Bt&&pe===m&&(Ne+=(fe-J*2-nt)/Ct),this._partialTextX=Ne,this._partialTextY=Ke+St,this._partialText=it,j.fillStrokeShape(this),Ne+=this.measureSize(it).width+Re}}else Re!==0&&j.setAttr("letterSpacing",`${Re}px`),this._partialTextX=Ne,this._partialTextY=Ke+St,this._partialText=Yt,j.fillStrokeShape(this);j.restore(),ae>1&&(Ke+=Y)}}_hitFunc(j){const ne=this.getWidth(),ae=this.getHeight();j.beginPath(),j.rect(0,0,ne,ae),j.closePath(),j.fillStrokeShape(this)}setText(j){const ne=i.Util._isString(j)?j:j==null?"":j+"";return this._setAttr(w,ne),this}getWidth(){return this.attrs.width===u||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===u||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(j){var ne,ae,J,D,Y,se,oe,le,pe,fe,Re;let ve=P(),He=this.fontSize(),ke;ve.save(),ve.font=this._getContextFont(),ke=ve.measureText(j),ve.restore();const De=He/100;return{actualBoundingBoxAscent:(ne=ke.actualBoundingBoxAscent)!==null&&ne!==void 0?ne:71.58203125*De,actualBoundingBoxDescent:(ae=ke.actualBoundingBoxDescent)!==null&&ae!==void 0?ae:0,actualBoundingBoxLeft:(J=ke.actualBoundingBoxLeft)!==null&&J!==void 0?J:-7.421875*De,actualBoundingBoxRight:(D=ke.actualBoundingBoxRight)!==null&&D!==void 0?D:75.732421875*De,alphabeticBaseline:(Y=ke.alphabeticBaseline)!==null&&Y!==void 0?Y:0,emHeightAscent:(se=ke.emHeightAscent)!==null&&se!==void 0?se:100*De,emHeightDescent:(oe=ke.emHeightDescent)!==null&&oe!==void 0?oe:-20*De,fontBoundingBoxAscent:(le=ke.fontBoundingBoxAscent)!==null&&le!==void 0?le:91*De,fontBoundingBoxDescent:(pe=ke.fontBoundingBoxDescent)!==null&&pe!==void 0?pe:21*De,hangingBaseline:(fe=ke.hangingBaseline)!==null&&fe!==void 0?fe:72.80000305175781*De,ideographicBaseline:(Re=ke.ideographicBaseline)!==null&&Re!==void 0?Re:-21*De,width:ke.width,height:He}}_getContextFont(){return this.fontStyle()+L+this.fontVariant()+L+(this.fontSize()+E)+V(this.fontFamily())}_addTextLine(j){this.align()===m&&(j=j.trim());const ae=this._getTextWidth(j);return this.textArr.push({text:j,width:ae,lastInParagraph:!1})}_getTextWidth(j){const ne=this.letterSpacing(),ae=j.length;return P().measureText(j).width+ne*ae}_setTextData(){let j=this.text().split(`
`),ne=+this.fontSize(),ae=0,J=this.lineHeight()*ne,D=this.attrs.width,Y=this.attrs.height,se=D!==u&&D!==void 0,oe=Y!==u&&Y!==void 0,le=this.padding(),pe=D-le*2,fe=Y-le*2,Re=0,ve=this.wrap(),He=ve!==G,ke=ve!==N&&He,De=this.ellipsis();this.textArr=[],P().font=this._getContextFont();const sn=De?this._getTextWidth(z):0;for(let Ke=0,Cn=j.length;Ke<Cn;++Ke){let Ne=j[Ke],St=this._getTextWidth(Ne);if(se&&St>pe)for(;Ne.length>0;){let tt=0,Yt=o(Ne).length,nt="",Bt=0;for(;tt<Yt;){const Ct=tt+Yt>>>1,At=o(Ne),rt=At.slice(0,Ct+1).join(""),it=this._getTextWidth(rt);(De&&oe&&Re+J>fe?it+sn:it)<=pe?(tt=Ct+1,nt=rt,Bt=it):Yt=Ct}if(nt){if(ke){const rt=o(Ne),it=o(nt),xn=rt[it.length],oi=xn===L||xn===f;let In;if(oi&&Bt<=pe)In=it.length;else{const ds=it.lastIndexOf(L),fs=it.lastIndexOf(f);In=Math.max(ds,fs)+1}In>0&&(tt=In,nt=rt.slice(0,tt).join(""),Bt=this._getTextWidth(nt))}if(nt=nt.trimRight(),this._addTextLine(nt),ae=Math.max(ae,Bt),Re+=J,this._shouldHandleEllipsis(Re)){this._tryToAddEllipsisToLastLine();break}if(Ne=o(Ne).slice(tt).join("").trimLeft(),Ne.length>0&&(St=this._getTextWidth(Ne),St<=pe)){this._addTextLine(Ne),Re+=J,ae=Math.max(ae,St);break}}else break}else this._addTextLine(Ne),Re+=J,ae=Math.max(ae,St),this._shouldHandleEllipsis(Re)&&Ke<Cn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),oe&&Re+J>fe)break}this.textHeight=ne,this.textWidth=ae}_shouldHandleEllipsis(j){const ne=+this.fontSize(),ae=this.lineHeight()*ne,J=this.attrs.height,D=J!==u&&J!==void 0,Y=this.padding(),se=J-Y*2;return!(this.wrap()!==G)||D&&j+ae>se}_tryToAddEllipsisToLastLine(){const j=this.attrs.width,ne=j!==u&&j!==void 0,ae=this.padding(),J=j-ae*2,D=this.ellipsis(),Y=this.textArr[this.textArr.length-1];!Y||!D||(ne&&(this._getTextWidth(Y.text+z)<J||(Y.text=Y.text.slice(0,Y.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Y.text+z))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const j=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ne=this.hasShadow();return j&&ne?!0:super._useBufferCanvas()}}return Qn.Text=B,B.prototype._fillFunc=k,B.prototype._strokeFunc=O,B.prototype.className=T,B.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,c._registerNode)(B),a.Factory.overWriteSetter(B,"width",(0,S.getNumberOrAutoValidator)()),a.Factory.overWriteSetter(B,"height",(0,S.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(B,"direction",v),a.Factory.addGetterSetter(B,"fontFamily","Arial"),a.Factory.addGetterSetter(B,"fontSize",12,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(B,"fontStyle",x),a.Factory.addGetterSetter(B,"fontVariant",x),a.Factory.addGetterSetter(B,"padding",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(B,"align",p),a.Factory.addGetterSetter(B,"verticalAlign",F),a.Factory.addGetterSetter(B,"lineHeight",1,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(B,"wrap",b),a.Factory.addGetterSetter(B,"ellipsis",!1,(0,S.getBooleanValidator)()),a.Factory.addGetterSetter(B,"letterSpacing",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter(B,"text","",(0,S.getStringValidator)()),a.Factory.addGetterSetter(B,"textDecoration",""),Qn}var Or={},Mu;function H0(){if(Mu)return Or;Mu=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.TextPath=void 0;const i=Ue(),a=we(),y=Ze(),C=Ja(),S=Ic(),c=Ae(),o=Ce(),u="",h="normal";function v(_){_.fillText(this.partialText,0,0)}function m(_){_.strokeText(this.partialText,0,0)}let A=class extends y.Shape{constructor(f){super(f),this.dummyCanvas=i.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return C.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const p=this.pathLength;return f-1>p?null:C.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=C.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const p=this.textDecoration(),w=this.fill(),T=this.fontSize(),F=this.glyphInfo;p==="underline"&&f.beginPath();for(let g=0;g<F.length;g++){f.save();const l=F[g].p0;f.translate(l.x,l.y),f.rotate(F[g].rotation),this.partialText=F[g].text,f.fillStrokeShape(this),p==="underline"&&(g===0&&f.moveTo(0,T/2+1),f.lineTo(T,T/2+1)),f.restore()}p==="underline"&&(f.strokeStyle=w,f.lineWidth=T/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const p=this.glyphInfo;if(p.length>=1){const w=p[0].p0;f.moveTo(w.x,w.y)}for(let w=0;w<p.length;w++){const T=p[w].p1;f.lineTo(T.x,T.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return S.Text.prototype.setText.call(this,f)}_getContextFont(){return S.Text.prototype._getContextFont.call(this)}_getTextSize(f){const w=this.dummyCanvas.getContext("2d");w.save(),w.font=this._getContextFont();const T=w.measureText(f);return w.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:p}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=p,this.glyphInfo=[],!this.attrs.data)return null;const w=this.letterSpacing(),T=this.align(),F=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*w,0);let l=0;T==="center"&&(l=Math.max(0,this.pathLength/2-g/2)),T==="right"&&(l=Math.max(0,this.pathLength-g));const x=(0,S.stringToArray)(this.text());let E=l;for(let L=0;L<x.length;L++){const U=this._getPointAtLength(E);if(!U)return;let R=this._getTextSize(x[L]).width+w;if(x[L]===" "&&T==="justify"){const K=this.text().split(" ").length-1;R+=(this.pathLength-g)/K}const b=this._getPointAtLength(E+R);if(!b)return;const N=C.Path.getLineLength(U.x,U.y,b.x,b.y);let G=0;if(F)try{G=F(x[L-1],x[L])*this.fontSize()}catch{G=0}U.x+=G,b.x+=G,this.textWidth+=G;const z=C.Path.getPointOnLine(G+N/2,U.x,U.y,b.x,b.y),W=Math.atan2(b.y-U.y,b.x-U.x);this.glyphInfo.push({transposeX:z.x,transposeY:z.y,text:x[L],rotation:W,p0:U,p1:b}),E+=R}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(E){f.push(E.p0.x),f.push(E.p0.y),f.push(E.p1.x),f.push(E.p1.y)});let p=f[0]||0,w=f[0]||0,T=f[1]||0,F=f[1]||0,g,l;for(let E=0;E<f.length/2;E++)g=f[E*2],l=f[E*2+1],p=Math.min(p,g),w=Math.max(w,g),T=Math.min(T,l),F=Math.max(F,l);const x=this.fontSize();return{x:p-x/2,y:T-x/2,width:w-p+x,height:F-T+x}}destroy(){return i.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Or.TextPath=A,A.prototype._fillFunc=v,A.prototype._strokeFunc=m,A.prototype._fillFuncHit=v,A.prototype._strokeFuncHit=m,A.prototype.className="TextPath",A.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(A),a.Factory.addGetterSetter(A,"data"),a.Factory.addGetterSetter(A,"fontFamily","Arial"),a.Factory.addGetterSetter(A,"fontSize",12,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"fontStyle",h),a.Factory.addGetterSetter(A,"align","left"),a.Factory.addGetterSetter(A,"letterSpacing",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"textBaseline","middle"),a.Factory.addGetterSetter(A,"fontVariant",h),a.Factory.addGetterSetter(A,"text",u),a.Factory.addGetterSetter(A,"textDecoration",""),a.Factory.addGetterSetter(A,"kerningFunc",void 0),Or}var Dr={},Lu;function W0(){if(Lu)return Dr;Lu=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Transformer=void 0;const i=Ue(),a=we(),y=Ve(),C=Ze(),S=Lc(),c=Xa(),o=Ce(),u=Ae(),h=Ce(),v="tr-konva",m=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(R=>R+`.${v}`).join(" "),A="nodesRect",_=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},p="ontouchstart"in o.Konva._global;function w(R,b,N){if(R==="rotater")return N;b+=i.Util.degToRad(f[R]||0);const G=(i.Util.radToDeg(b)%360+360)%360;return i.Util._inRange(G,315+22.5,360)||i.Util._inRange(G,0,22.5)?"ns-resize":i.Util._inRange(G,45-22.5,45+22.5)?"nesw-resize":i.Util._inRange(G,90-22.5,90+22.5)?"ew-resize":i.Util._inRange(G,135-22.5,135+22.5)?"nwse-resize":i.Util._inRange(G,180-22.5,180+22.5)?"ns-resize":i.Util._inRange(G,225-22.5,225+22.5)?"nesw-resize":i.Util._inRange(G,270-22.5,270+22.5)?"ew-resize":i.Util._inRange(G,315-22.5,315+22.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+G),"pointer")}const T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function F(R){return{x:R.x+R.width/2*Math.cos(R.rotation)+R.height/2*Math.sin(-R.rotation),y:R.y+R.height/2*Math.cos(R.rotation)+R.width/2*Math.sin(R.rotation)}}function g(R,b,N){const G=N.x+(R.x-N.x)*Math.cos(b)-(R.y-N.y)*Math.sin(b),z=N.y+(R.x-N.x)*Math.sin(b)+(R.y-N.y)*Math.cos(b);return{...R,rotation:R.rotation+b,x:G,y:z}}function l(R,b){const N=F(R);return g(R,b,N)}function x(R,b,N){let G=b;for(let z=0;z<R.length;z++){const W=o.Konva.getAngle(R[z]),K=Math.abs(W-b)%(Math.PI*2);Math.min(K,Math.PI*2-K)<N&&(G=W)}return G}let E=0;class L extends c.Group{constructor(b){super(b),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(m,this.update),this.getNode()&&this.update()}attachTo(b){return this.setNode(b),this}setNode(b){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([b])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return v+this._id}setNodes(b=[]){this._nodes&&this._nodes.length&&this.detach();const N=b.filter(z=>z.isAncestorOf(this)?(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=b=N,b.length===1&&this.useSingleNodeRotation()?this.rotation(b[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(z=>{const W=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(z._attrsAffectingSize.length){const K=z._attrsAffectingSize.map(V=>V+"Change."+this._getEventNamespace()).join(" ");z.on(K,W)}z.on(_.map(K=>K+`.${this._getEventNamespace()}`).join(" "),W),z.on(`absoluteTransformChange.${this._getEventNamespace()}`,W),this._proxyDrag(z)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(b){let N;b.on(`dragstart.${this._getEventNamespace()}`,G=>{N=b.getAbsolutePosition(),!this.isDragging()&&b!==this.findOne(".back")&&this.startDrag(G,!1)}),b.on(`dragmove.${this._getEventNamespace()}`,G=>{if(!N)return;const z=b.getAbsolutePosition(),W=z.x-N.x,K=z.y-N.y;this.nodes().forEach(V=>{if(V===b||V.isDragging())return;const re=V.getAbsolutePosition();V.setAbsolutePosition({x:re.x+W,y:re.y+K}),V.startDrag(G)}),N=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(b=>{b.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(A),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(A,this.__getNodeRect)}__getNodeShape(b,N=this.rotation(),G){const z=b.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=b.getAbsoluteScale(G),K=b.getAbsolutePosition(G),V=z.x*W.x-b.offsetX()*W.x,re=z.y*W.y-b.offsetY()*W.y,P=(o.Konva.getAngle(b.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),k={x:K.x+V*Math.cos(P)+re*Math.sin(-P),y:K.y+re*Math.cos(P)+V*Math.sin(P),width:z.width*W.x,height:z.height*W.y,rotation:P};return g(k,-o.Konva.getAngle(N),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const N=[];this.nodes().map(P=>{const k=P.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),O=[{x:k.x,y:k.y},{x:k.x+k.width,y:k.y},{x:k.x+k.width,y:k.y+k.height},{x:k.x,y:k.y+k.height}],I=P.getAbsoluteTransform();O.forEach(function(B){const Z=I.point(B);N.push(Z)})});const G=new i.Transform;G.rotate(-o.Konva.getAngle(this.rotation()));let z=1/0,W=1/0,K=-1/0,V=-1/0;N.forEach(function(P){const k=G.point(P);z===void 0&&(z=K=k.x,W=V=k.y),z=Math.min(z,k.x),W=Math.min(W,k.y),K=Math.max(K,k.x),V=Math.max(V,k.y)}),G.invert();const re=G.point({x:z,y:W});return{x:re.x,y:re.y,width:K-z,height:V-W,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(b=>{this._createAnchor(b)}),this._createAnchor("rotater")}_createAnchor(b){const N=new S.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:b+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:p?10:"auto"}),G=this;N.on("mousedown touchstart",function(z){G._handleMouseDown(z)}),N.on("dragstart",z=>{N.stopDrag(),z.cancelBubble=!0}),N.on("dragend",z=>{z.cancelBubble=!0}),N.on("mouseenter",()=>{const z=o.Konva.getAngle(this.rotation()),W=this.rotateAnchorCursor(),K=w(b,z,W);N.getStage().content&&(N.getStage().content.style.cursor=K),this._cursorChange=!0}),N.on("mouseout",()=>{N.getStage().content&&(N.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(N)}_createBack(){const b=new C.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(N,G){const z=G.getParent(),W=z.padding();N.beginPath(),N.rect(-W,-W,G.width()+W*2,G.height()+W*2),N.moveTo(G.width()/2,-W),z.rotateEnabled()&&z.rotateLineVisible()&&N.lineTo(G.width()/2,-z.rotateAnchorOffset()*i.Util._sign(G.height())-W),N.fillStrokeShape(G)},hitFunc:(N,G)=>{if(!this.shouldOverdrawWholeArea())return;const z=this.padding();N.beginPath(),N.rect(-z,-z,G.width()+z*2,G.height()+z*2),N.fillStrokeShape(G)}});this.add(b),this._proxyDrag(b),b.on("dragstart",N=>{N.cancelBubble=!0}),b.on("dragmove",N=>{N.cancelBubble=!0}),b.on("dragend",N=>{N.cancelBubble=!0}),this.on("dragmove",N=>{this.update()})}_handleMouseDown(b){if(this._transforming)return;this._movingAnchorName=b.target.name().split(" ")[0];const N=this._getNodeRect(),G=N.width,z=N.height,W=Math.sqrt(Math.pow(G,2)+Math.pow(z,2));this.sin=Math.abs(z/W),this.cos=Math.abs(G/W),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const K=b.target.getAbsolutePosition(),V=b.target.getStage().getPointerPosition();this._anchorDragOffset={x:V.x-K.x,y:V.y-K.y},E++,this._fire("transformstart",{evt:b.evt,target:this.getNode()}),this._nodes.forEach(re=>{re._fire("transformstart",{evt:b.evt,target:re})})}_handleMouseMove(b){let N,G,z;const W=this.findOne("."+this._movingAnchorName),K=W.getStage();K.setPointersPositions(b);const V=K.getPointerPosition();let re={x:V.x-this._anchorDragOffset.x,y:V.y-this._anchorDragOffset.y};const P=W.getAbsolutePosition();this.anchorDragBoundFunc()&&(re=this.anchorDragBoundFunc()(P,re,b)),W.setAbsolutePosition(re);const k=W.getAbsolutePosition();if(P.x===k.x&&P.y===k.y)return;if(this._movingAnchorName==="rotater"){const J=this._getNodeRect();N=W.x()-J.width/2,G=-W.y()+J.height/2;let D=Math.atan2(-G,N)+Math.PI/2;J.height<0&&(D-=Math.PI);const se=o.Konva.getAngle(this.rotation())+D,oe=o.Konva.getAngle(this.rotationSnapTolerance()),pe=x(this.rotationSnaps(),se,oe)-J.rotation,fe=l(J,pe);this._fitNodesInto(fe,b);return}const O=this.shiftBehavior();let I;O==="inverted"?I=this.keepRatio()&&!b.shiftKey:O==="none"?I=this.keepRatio():I=this.keepRatio()||b.shiftKey;let B=this.centeredScaling()||b.altKey;if(this._movingAnchorName==="top-left"){if(I){const J=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};z=Math.sqrt(Math.pow(J.x-W.x(),2)+Math.pow(J.y-W.y(),2));const D=this.findOne(".top-left").x()>J.x?-1:1,Y=this.findOne(".top-left").y()>J.y?-1:1;N=z*this.cos*D,G=z*this.sin*Y,this.findOne(".top-left").x(J.x-N),this.findOne(".top-left").y(J.y-G)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(W.y());else if(this._movingAnchorName==="top-right"){if(I){const J=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};z=Math.sqrt(Math.pow(W.x()-J.x,2)+Math.pow(J.y-W.y(),2));const D=this.findOne(".top-right").x()<J.x?-1:1,Y=this.findOne(".top-right").y()>J.y?-1:1;N=z*this.cos*D,G=z*this.sin*Y,this.findOne(".top-right").x(J.x+N),this.findOne(".top-right").y(J.y-G)}var Z=W.position();this.findOne(".top-left").y(Z.y),this.findOne(".bottom-right").x(Z.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(W.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(W.x());else if(this._movingAnchorName==="bottom-left"){if(I){const J=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};z=Math.sqrt(Math.pow(J.x-W.x(),2)+Math.pow(W.y()-J.y,2));const D=J.x<W.x()?-1:1,Y=W.y()<J.y?-1:1;N=z*this.cos*D,G=z*this.sin*Y,W.x(J.x-N),W.y(J.y+G)}Z=W.position(),this.findOne(".top-left").x(Z.x),this.findOne(".bottom-right").y(Z.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(W.y());else if(this._movingAnchorName==="bottom-right"){if(I){const J=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};z=Math.sqrt(Math.pow(W.x()-J.x,2)+Math.pow(W.y()-J.y,2));const D=this.findOne(".bottom-right").x()<J.x?-1:1,Y=this.findOne(".bottom-right").y()<J.y?-1:1;N=z*this.cos*D,G=z*this.sin*Y,this.findOne(".bottom-right").x(J.x+N),this.findOne(".bottom-right").y(J.y+G)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(B=this.centeredScaling()||b.altKey,B){const J=this.findOne(".top-left"),D=this.findOne(".bottom-right"),Y=J.x(),se=J.y(),oe=this.getWidth()-D.x(),le=this.getHeight()-D.y();D.move({x:-Y,y:-se}),J.move({x:oe,y:le})}const j=this.findOne(".top-left").getAbsolutePosition();N=j.x,G=j.y;const ne=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ae=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:N,y:G,width:ne,height:ae,rotation:o.Konva.getAngle(this.rotation())},b)}_handleMouseUp(b){this._removeEvents(b)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(b){var N;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const G=this.getNode();E--,this._fire("transformend",{evt:b,target:G}),(N=this.getLayer())===null||N===void 0||N.batchDraw(),G&&this._nodes.forEach(z=>{var W;z._fire("transformend",{evt:b,target:z}),(W=z.getLayer())===null||W===void 0||W.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(b,N){const G=this._getNodeRect(),z=1;if(i.Util._inRange(b.width,-this.padding()*2-z,z)){this.update();return}if(i.Util._inRange(b.height,-this.padding()*2-z,z)){this.update();return}const W=new i.Transform;if(W.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&b.width<0&&this._movingAnchorName.indexOf("left")>=0){const I=W.point({x:-this.padding()*2,y:0});b.x+=I.x,b.y+=I.y,b.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=I.x,this._anchorDragOffset.y-=I.y}else if(this._movingAnchorName&&b.width<0&&this._movingAnchorName.indexOf("right")>=0){const I=W.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=I.x,this._anchorDragOffset.y-=I.y,b.width+=this.padding()*2}if(this._movingAnchorName&&b.height<0&&this._movingAnchorName.indexOf("top")>=0){const I=W.point({x:0,y:-this.padding()*2});b.x+=I.x,b.y+=I.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=I.x,this._anchorDragOffset.y-=I.y,b.height+=this.padding()*2}else if(this._movingAnchorName&&b.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const I=W.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=I.x,this._anchorDragOffset.y-=I.y,b.height+=this.padding()*2}if(this.boundBoxFunc()){const I=this.boundBoxFunc()(G,b);I?b=I:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const K=1e7,V=new i.Transform;V.translate(G.x,G.y),V.rotate(G.rotation),V.scale(G.width/K,G.height/K);const re=new i.Transform,P=b.width/K,k=b.height/K;this.flipEnabled()===!1?(re.translate(b.x,b.y),re.rotate(b.rotation),re.translate(b.width<0?b.width:0,b.height<0?b.height:0),re.scale(Math.abs(P),Math.abs(k))):(re.translate(b.x,b.y),re.rotate(b.rotation),re.scale(P,k));const O=re.multiply(V.invert());this._nodes.forEach(I=>{var B;const Z=I.getParent().getAbsoluteTransform(),j=I.getTransform().copy();j.translate(I.offsetX(),I.offsetY());const ne=new i.Transform;ne.multiply(Z.copy().invert()).multiply(O).multiply(Z).multiply(j);const ae=ne.decompose();I.setAttrs(ae),(B=I.getLayer())===null||B===void 0||B.batchDraw()}),this.rotation(i.Util._getRotation(b.rotation)),this._nodes.forEach(I=>{this._fire("transform",{evt:N,target:I}),I._fire("transform",{evt:N,target:I})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(b,N){this.findOne(b).setAttrs(N)}update(){var b;const N=this._getNodeRect();this.rotation(i.Util._getRotation(N.rotation));const G=N.width,z=N.height,W=this.enabledAnchors(),K=this.resizeEnabled(),V=this.padding(),re=this.anchorSize(),P=this.find("._anchor");P.forEach(O=>{O.setAttrs({width:re,height:re,offsetX:re/2,offsetY:re/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:re/2+V,offsetY:re/2+V,visible:K&&W.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:G/2,y:0,offsetY:re/2+V,visible:K&&W.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:G,y:0,offsetX:re/2-V,offsetY:re/2+V,visible:K&&W.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:z/2,offsetX:re/2+V,visible:K&&W.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:G,y:z/2,offsetX:re/2-V,visible:K&&W.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:z,offsetX:re/2+V,offsetY:re/2-V,visible:K&&W.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:G/2,y:z,offsetY:re/2-V,visible:K&&W.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:G,y:z,offsetX:re/2-V,offsetY:re/2-V,visible:K&&W.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:G/2,y:-this.rotateAnchorOffset()*i.Util._sign(z)-V,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:G,height:z,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const k=this.anchorStyleFunc();k&&P.forEach(O=>{k(O)}),(b=this.getLayer())===null||b===void 0||b.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const b=this.findOne("."+this._movingAnchorName);b&&b.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return y.Node.prototype.toObject.call(this)}clone(b){return y.Node.prototype.clone.call(this,b)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Dr.Transformer=L,L.isTransforming=()=>E>0;function U(R){return R instanceof Array||i.Util.warn("enabledAnchors value should be an array"),R instanceof Array&&R.forEach(function(b){T.indexOf(b)===-1&&i.Util.warn("Unknown anchor name: "+b+". Available names are: "+T.join(", "))}),R||[]}return L.prototype.className="Transformer",(0,h._registerNode)(L),a.Factory.addGetterSetter(L,"enabledAnchors",T,U),a.Factory.addGetterSetter(L,"flipEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(L,"resizeEnabled",!0),a.Factory.addGetterSetter(L,"anchorSize",10,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"rotateEnabled",!0),a.Factory.addGetterSetter(L,"rotateLineVisible",!0),a.Factory.addGetterSetter(L,"rotationSnaps",[]),a.Factory.addGetterSetter(L,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"rotateAnchorCursor","crosshair"),a.Factory.addGetterSetter(L,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"borderEnabled",!0),a.Factory.addGetterSetter(L,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(L,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"anchorFill","white"),a.Factory.addGetterSetter(L,"anchorCornerRadius",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(L,"borderStrokeWidth",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"borderDash"),a.Factory.addGetterSetter(L,"keepRatio",!0),a.Factory.addGetterSetter(L,"shiftBehavior","default"),a.Factory.addGetterSetter(L,"centeredScaling",!1),a.Factory.addGetterSetter(L,"ignoreStroke",!1),a.Factory.addGetterSetter(L,"padding",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(L,"nodes"),a.Factory.addGetterSetter(L,"node"),a.Factory.addGetterSetter(L,"boundBoxFunc"),a.Factory.addGetterSetter(L,"anchorDragBoundFunc"),a.Factory.addGetterSetter(L,"anchorStyleFunc"),a.Factory.addGetterSetter(L,"shouldOverdrawWholeArea",!1),a.Factory.addGetterSetter(L,"useSingleNodeRotation",!0),a.Factory.backCompat(L,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Dr}var Gr={},Iu;function q0(){if(Iu)return Gr;Iu=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Wedge=void 0;const i=we(),a=Ze(),y=Ce(),C=Ae(),S=Ce();let c=class extends a.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.radius(),0,y.Konva.getAngle(this.angle()),this.clockwise()),u.lineTo(0,0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius(u/2)}setHeight(u){this.radius(u/2)}};return Gr.Wedge=c,c.prototype.className="Wedge",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],(0,S._registerNode)(c),i.Factory.addGetterSetter(c,"radius",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"angle",0,(0,C.getNumberValidator)()),i.Factory.addGetterSetter(c,"clockwise",!1),i.Factory.backCompat(c,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Gr}var Br={},Ou;function K0(){if(Ou)return Br;Ou=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Blur=void 0;const i=we(),a=Ve(),y=Ae();function C(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const S=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(h,v){const m=h.data,A=h.width,_=h.height;let f,p,w,T,F,g,l,x,E,L,U,R,b,N,G,z,W,K,V,re;const P=v+v+1,k=A-1,O=_-1,I=v+1,B=I*(I+1)/2,Z=new C,j=S[v],ne=c[v];let ae=null,J=Z,D=null,Y=null;for(let se=1;se<P;se++)J=J.next=new C,se===I&&(ae=J);J.next=Z,w=p=0;for(let se=0;se<_;se++){R=b=N=G=T=F=g=l=0,x=I*(z=m[p]),E=I*(W=m[p+1]),L=I*(K=m[p+2]),U=I*(V=m[p+3]),T+=B*z,F+=B*W,g+=B*K,l+=B*V,J=Z;for(let oe=0;oe<I;oe++)J.r=z,J.g=W,J.b=K,J.a=V,J=J.next;for(let oe=1;oe<I;oe++)f=p+((k<oe?k:oe)<<2),T+=(J.r=z=m[f])*(re=I-oe),F+=(J.g=W=m[f+1])*re,g+=(J.b=K=m[f+2])*re,l+=(J.a=V=m[f+3])*re,R+=z,b+=W,N+=K,G+=V,J=J.next;D=Z,Y=ae;for(let oe=0;oe<A;oe++)m[p+3]=V=l*j>>ne,V!==0?(V=255/V,m[p]=(T*j>>ne)*V,m[p+1]=(F*j>>ne)*V,m[p+2]=(g*j>>ne)*V):m[p]=m[p+1]=m[p+2]=0,T-=x,F-=E,g-=L,l-=U,x-=D.r,E-=D.g,L-=D.b,U-=D.a,f=w+((f=oe+v+1)<k?f:k)<<2,R+=D.r=m[f],b+=D.g=m[f+1],N+=D.b=m[f+2],G+=D.a=m[f+3],T+=R,F+=b,g+=N,l+=G,D=D.next,x+=z=Y.r,E+=W=Y.g,L+=K=Y.b,U+=V=Y.a,R-=z,b-=W,N-=K,G-=V,Y=Y.next,p+=4;w+=A}for(let se=0;se<A;se++){b=N=G=R=F=g=l=T=0,p=se<<2,x=I*(z=m[p]),E=I*(W=m[p+1]),L=I*(K=m[p+2]),U=I*(V=m[p+3]),T+=B*z,F+=B*W,g+=B*K,l+=B*V,J=Z;for(let le=0;le<I;le++)J.r=z,J.g=W,J.b=K,J.a=V,J=J.next;let oe=A;for(let le=1;le<=v;le++)p=oe+se<<2,T+=(J.r=z=m[p])*(re=I-le),F+=(J.g=W=m[p+1])*re,g+=(J.b=K=m[p+2])*re,l+=(J.a=V=m[p+3])*re,R+=z,b+=W,N+=K,G+=V,J=J.next,le<O&&(oe+=A);p=se,D=Z,Y=ae;for(let le=0;le<_;le++)f=p<<2,m[f+3]=V=l*j>>ne,V>0?(V=255/V,m[f]=(T*j>>ne)*V,m[f+1]=(F*j>>ne)*V,m[f+2]=(g*j>>ne)*V):m[f]=m[f+1]=m[f+2]=0,T-=x,F-=E,g-=L,l-=U,x-=D.r,E-=D.g,L-=D.b,U-=D.a,f=se+((f=le+I)<O?f:O)*A<<2,T+=R+=D.r=m[f],F+=b+=D.g=m[f+1],g+=N+=D.b=m[f+2],l+=G+=D.a=m[f+3],D=D.next,x+=z=Y.r,E+=W=Y.g,L+=K=Y.b,U+=V=Y.a,R-=z,b-=W,N-=K,G-=V,Y=Y.next,p+=A}}const u=function(v){const m=Math.round(this.blurRadius());m>0&&o(v,m)};return Br.Blur=u,i.Factory.addGetterSetter(a.Node,"blurRadius",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),Br}var Ur={},Du;function Y0(){if(Du)return Ur;Du=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Brighten=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=this.brightness()*255,o=S.data,u=o.length;for(let h=0;h<u;h+=4)o[h]+=c,o[h+1]+=c,o[h+2]+=c};return Ur.Brighten=C,i.Factory.addGetterSetter(a.Node,"brightness",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),Ur}var zr={},Gu;function X0(){if(Gu)return zr;Gu=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Contrast=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=Math.pow((this.contrast()+100)/100,2),o=S.data,u=o.length;let h=150,v=150,m=150;for(let A=0;A<u;A+=4)h=o[A],v=o[A+1],m=o[A+2],h/=255,h-=.5,h*=c,h+=.5,h*=255,v/=255,v-=.5,v*=c,v+=.5,v*=255,m/=255,m-=.5,m*=c,m+=.5,m*=255,h=h<0?0:h>255?255:h,v=v<0?0:v>255?255:v,m=m<0?0:m>255?255:m,o[A]=h,o[A+1]=v,o[A+2]=m};return zr.Contrast=C,i.Factory.addGetterSetter(a.Node,"contrast",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),zr}var Vr={},Bu;function Q0(){if(Bu)return Vr;Bu=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Emboss=void 0;const i=we(),a=Ve(),y=Ue(),C=Ae(),S=function(c){const o=this.embossStrength()*10,u=this.embossWhiteLevel()*255,h=this.embossDirection(),v=this.embossBlend(),m=c.data,A=c.width,_=c.height,f=A*4;let p=0,w=0,T=_;switch(h){case"top-left":p=-1,w=-1;break;case"top":p=-1,w=0;break;case"top-right":p=-1,w=1;break;case"right":p=0,w=1;break;case"bottom-right":p=1,w=1;break;case"bottom":p=1,w=0;break;case"bottom-left":p=1,w=-1;break;case"left":p=0,w=-1;break;default:y.Util.error("Unknown emboss direction: "+h)}do{const F=(T-1)*f;let g=p;T+g<1&&(g=0),T+g>_&&(g=0);const l=(T-1+g)*A*4;let x=A;do{const E=F+(x-1)*4;let L=w;x+L<1&&(L=0),x+L>A&&(L=0);const U=l+(x-1+L)*4,R=m[E]-m[U],b=m[E+1]-m[U+1],N=m[E+2]-m[U+2];let G=R;const z=G>0?G:-G,W=b>0?b:-b,K=N>0?N:-N;if(W>z&&(G=b),K>z&&(G=N),G*=o,v){const V=m[E]+G,re=m[E+1]+G,P=m[E+2]+G;m[E]=V>255?255:V<0?0:V,m[E+1]=re>255?255:re<0?0:re,m[E+2]=P>255?255:P<0?0:P}else{let V=u-G;V<0?V=0:V>255&&(V=255),m[E]=m[E+1]=m[E+2]=V}}while(--x)}while(--T)};return Vr.Emboss=S,i.Factory.addGetterSetter(a.Node,"embossStrength",.5,(0,C.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"embossWhiteLevel",.5,(0,C.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"embossDirection","top-left",void 0,i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"embossBlend",!1,void 0,i.Factory.afterSetFilter),Vr}var jr={},Uu;function J0(){if(Uu)return jr;Uu=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Enhance=void 0;const i=we(),a=Ve(),y=Ae();function C(c,o,u,h,v){const m=u-o,A=v-h;if(m===0)return h+A/2;if(A===0)return h;let _=(c-o)/m;return _=A*_+h,_}const S=function(c){const o=c.data,u=o.length;let h=o[0],v=h,m,A=o[1],_=A,f,p=o[2],w=p,T;const F=this.enhance();if(F===0)return;for(let R=0;R<u;R+=4)m=o[R+0],m<h?h=m:m>v&&(v=m),f=o[R+1],f<A?A=f:f>_&&(_=f),T=o[R+2],T<p?p=T:T>w&&(w=T);v===h&&(v=255,h=0),_===A&&(_=255,A=0),w===p&&(w=255,p=0);let g,l,x,E,L,U;if(F>0)g=v+F*(255-v),l=h-F*(h-0),x=_+F*(255-_),E=A-F*(A-0),L=w+F*(255-w),U=p-F*(p-0);else{const R=(v+h)*.5;g=v+F*(v-R),l=h+F*(h-R);const b=(_+A)*.5;x=_+F*(_-b),E=A+F*(A-b);const N=(w+p)*.5;L=w+F*(w-N),U=p+F*(p-N)}for(let R=0;R<u;R+=4)o[R+0]=C(o[R+0],h,v,l,g),o[R+1]=C(o[R+1],A,_,E,x),o[R+2]=C(o[R+2],p,w,U,L)};return jr.Enhance=S,i.Factory.addGetterSetter(a.Node,"enhance",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),jr}var Hr={},zu;function Z0(){if(zu)return Hr;zu=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Grayscale=void 0;const i=function(a){const y=a.data,C=y.length;for(let S=0;S<C;S+=4){const c=.34*y[S]+.5*y[S+1]+.16*y[S+2];y[S]=c,y[S+1]=c,y[S+2]=c}};return Hr.Grayscale=i,Hr}var Wr={},Vu;function $0(){if(Vu)return Wr;Vu=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.HSL=void 0;const i=we(),a=Ve(),y=Ae();i.Factory.addGetterSetter(a.Node,"hue",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"saturation",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"luminance",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter);const C=function(S){const c=S.data,o=c.length,u=1,h=Math.pow(2,this.saturation()),v=Math.abs(this.hue()+360)%360,m=this.luminance()*127,A=u*h*Math.cos(v*Math.PI/180),_=u*h*Math.sin(v*Math.PI/180),f=.299*u+.701*A+.167*_,p=.587*u-.587*A+.33*_,w=.114*u-.114*A-.497*_,T=.299*u-.299*A-.328*_,F=.587*u+.413*A+.035*_,g=.114*u-.114*A+.293*_,l=.299*u-.3*A+1.25*_,x=.587*u-.586*A-1.05*_,E=.114*u+.886*A-.2*_;let L,U,R,b;for(let N=0;N<o;N+=4)L=c[N+0],U=c[N+1],R=c[N+2],b=c[N+3],c[N+0]=f*L+p*U+w*R+m,c[N+1]=T*L+F*U+g*R+m,c[N+2]=l*L+x*U+E*R+m,c[N+3]=b};return Wr.HSL=C,Wr}var qr={},ju;function ef(){if(ju)return qr;ju=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.HSV=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=S.data,o=c.length,u=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),v=Math.abs(this.hue()+360)%360,m=u*h*Math.cos(v*Math.PI/180),A=u*h*Math.sin(v*Math.PI/180),_=.299*u+.701*m+.167*A,f=.587*u-.587*m+.33*A,p=.114*u-.114*m-.497*A,w=.299*u-.299*m-.328*A,T=.587*u+.413*m+.035*A,F=.114*u-.114*m+.293*A,g=.299*u-.3*m+1.25*A,l=.587*u-.586*m-1.05*A,x=.114*u+.886*m-.2*A;for(let E=0;E<o;E+=4){const L=c[E+0],U=c[E+1],R=c[E+2],b=c[E+3];c[E+0]=_*L+f*U+p*R,c[E+1]=w*L+T*U+F*R,c[E+2]=g*L+l*U+x*R,c[E+3]=b}};return qr.HSV=C,i.Factory.addGetterSetter(a.Node,"hue",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"saturation",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"value",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),qr}var Kr={},Hu;function tf(){if(Hu)return Kr;Hu=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Invert=void 0;const i=function(a){const y=a.data,C=y.length;for(let S=0;S<C;S+=4)y[S]=255-y[S],y[S+1]=255-y[S+1],y[S+2]=255-y[S+2]};return Kr.Invert=i,Kr}var Yr={},Wu;function nf(){if(Wu)return Yr;Wu=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Kaleidoscope=void 0;const i=we(),a=Ve(),y=Ue(),C=Ae(),S=function(u,h,v){const m=u.data,A=h.data,_=u.width,f=u.height,p=v.polarCenterX||_/2,w=v.polarCenterY||f/2;let T=Math.sqrt(p*p+w*w),F=_-p,g=f-w;const l=Math.sqrt(F*F+g*g);T=l>T?l:T;const x=f,E=_,L=360/E*Math.PI/180;for(let U=0;U<E;U+=1){const R=Math.sin(U*L),b=Math.cos(U*L);for(let N=0;N<x;N+=1){F=Math.floor(p+T*N/x*b),g=Math.floor(w+T*N/x*R);let G=(g*_+F)*4;const z=m[G+0],W=m[G+1],K=m[G+2],V=m[G+3];G=(U+N*_)*4,A[G+0]=z,A[G+1]=W,A[G+2]=K,A[G+3]=V}}},c=function(u,h,v){const m=u.data,A=h.data,_=u.width,f=u.height,p=v.polarCenterX||_/2,w=v.polarCenterY||f/2;let T=Math.sqrt(p*p+w*w),F=_-p,g=f-w;const l=Math.sqrt(F*F+g*g);T=l>T?l:T;const x=f,E=_,L=0;let U,R;for(F=0;F<_;F+=1)for(g=0;g<f;g+=1){const b=F-p,N=g-w,G=Math.sqrt(b*b+N*N)*x/T;let z=(Math.atan2(N,b)*180/Math.PI+360+L)%360;z=z*E/360,U=Math.floor(z),R=Math.floor(G);let W=(R*_+U)*4;const K=m[W+0],V=m[W+1],re=m[W+2],P=m[W+3];W=(g*_+F)*4,A[W+0]=K,A[W+1]=V,A[W+2]=re,A[W+3]=P}},o=function(u){const h=u.width,v=u.height;let m,A,_,f,p,w,T,F,g,l,x=Math.round(this.kaleidoscopePower());const E=Math.round(this.kaleidoscopeAngle()),L=Math.floor(h*(E%360)/360);if(x<1)return;const U=y.Util.createCanvasElement();U.width=h,U.height=v;const R=U.getContext("2d").getImageData(0,0,h,v);y.Util.releaseCanvas(U),S(u,R,{polarCenterX:h/2,polarCenterY:v/2});let b=h/Math.pow(2,x);for(;b<=8;)b=b*2,x-=1;b=Math.ceil(b);let N=b,G=0,z=N,W=1;for(L+b>h&&(G=N,z=0,W=-1),A=0;A<v;A+=1)for(m=G;m!==z;m+=W)_=Math.round(m+L)%h,g=(h*A+_)*4,p=R.data[g+0],w=R.data[g+1],T=R.data[g+2],F=R.data[g+3],l=(h*A+m)*4,R.data[l+0]=p,R.data[l+1]=w,R.data[l+2]=T,R.data[l+3]=F;for(A=0;A<v;A+=1)for(N=Math.floor(b),f=0;f<x;f+=1){for(m=0;m<N+1;m+=1)g=(h*A+m)*4,p=R.data[g+0],w=R.data[g+1],T=R.data[g+2],F=R.data[g+3],l=(h*A+N*2-m-1)*4,R.data[l+0]=p,R.data[l+1]=w,R.data[l+2]=T,R.data[l+3]=F;N*=2}c(R,u,{})};return Yr.Kaleidoscope=o,i.Factory.addGetterSetter(a.Node,"kaleidoscopePower",2,(0,C.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"kaleidoscopeAngle",0,(0,C.getNumberValidator)(),i.Factory.afterSetFilter),Yr}var Xr={},qu;function rf(){if(qu)return Xr;qu=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Mask=void 0;const i=we(),a=Ve(),y=Ae();function C(_,f,p){let w=(p*_.width+f)*4;const T=[];return T.push(_.data[w++],_.data[w++],_.data[w++],_.data[w++]),T}function S(_,f){return Math.sqrt(Math.pow(_[0]-f[0],2)+Math.pow(_[1]-f[1],2)+Math.pow(_[2]-f[2],2))}function c(_){const f=[0,0,0];for(let p=0;p<_.length;p++)f[0]+=_[p][0],f[1]+=_[p][1],f[2]+=_[p][2];return f[0]/=_.length,f[1]/=_.length,f[2]/=_.length,f}function o(_,f){const p=C(_,0,0),w=C(_,_.width-1,0),T=C(_,0,_.height-1),F=C(_,_.width-1,_.height-1),g=f||10;if(S(p,w)<g&&S(w,F)<g&&S(F,T)<g&&S(T,p)<g){const l=c([w,p,F,T]),x=[];for(let E=0;E<_.width*_.height;E++){const L=S(l,[_.data[E*4],_.data[E*4+1],_.data[E*4+2]]);x[E]=L<g?0:255}return x}}function u(_,f){for(let p=0;p<_.width*_.height;p++)_.data[4*p+3]=f[p]}function h(_,f,p){const w=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(w.length)),F=Math.floor(T/2),g=[];for(let l=0;l<p;l++)for(let x=0;x<f;x++){const E=l*f+x;let L=0;for(let U=0;U<T;U++)for(let R=0;R<T;R++){const b=l+U-F,N=x+R-F;if(b>=0&&b<p&&N>=0&&N<f){const G=b*f+N,z=w[U*T+R];L+=_[G]*z}}g[E]=L===255*8?255:0}return g}function v(_,f,p){const w=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(w.length)),F=Math.floor(T/2),g=[];for(let l=0;l<p;l++)for(let x=0;x<f;x++){const E=l*f+x;let L=0;for(let U=0;U<T;U++)for(let R=0;R<T;R++){const b=l+U-F,N=x+R-F;if(b>=0&&b<p&&N>=0&&N<f){const G=b*f+N,z=w[U*T+R];L+=_[G]*z}}g[E]=L>=255*4?255:0}return g}function m(_,f,p){const w=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(w.length)),F=Math.floor(T/2),g=[];for(let l=0;l<p;l++)for(let x=0;x<f;x++){const E=l*f+x;let L=0;for(let U=0;U<T;U++)for(let R=0;R<T;R++){const b=l+U-F,N=x+R-F;if(b>=0&&b<p&&N>=0&&N<f){const G=b*f+N,z=w[U*T+R];L+=_[G]*z}}g[E]=L}return g}const A=function(_){const f=this.threshold();let p=o(_,f);return p&&(p=h(p,_.width,_.height),p=v(p,_.width,_.height),p=m(p,_.width,_.height),u(_,p)),_};return Xr.Mask=A,i.Factory.addGetterSetter(a.Node,"threshold",0,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),Xr}var Qr={},Ku;function sf(){if(Ku)return Qr;Ku=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Noise=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=this.noise()*255,o=S.data,u=o.length,h=c/2;for(let v=0;v<u;v+=4)o[v+0]+=h-2*h*Math.random(),o[v+1]+=h-2*h*Math.random(),o[v+2]+=h-2*h*Math.random()};return Qr.Noise=C,i.Factory.addGetterSetter(a.Node,"noise",.2,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),Qr}var Jr={},Yu;function af(){if(Yu)return Jr;Yu=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Pixelate=void 0;const i=we(),a=Ue(),y=Ve(),C=Ae(),S=function(c){let o=Math.ceil(this.pixelSize()),u=c.width,h=c.height,v=Math.ceil(u/o),m=Math.ceil(h/o),A=c.data;if(o<=0){a.Util.error("pixelSize value can not be <= 0");return}for(let _=0;_<v;_+=1)for(let f=0;f<m;f+=1){let p=0,w=0,T=0,F=0;const g=_*o,l=g+o,x=f*o,E=x+o;let L=0;for(let U=g;U<l;U+=1)if(!(U>=u))for(let R=x;R<E;R+=1){if(R>=h)continue;const b=(u*R+U)*4;p+=A[b+0],w+=A[b+1],T+=A[b+2],F+=A[b+3],L+=1}p=p/L,w=w/L,T=T/L,F=F/L;for(let U=g;U<l;U+=1)if(!(U>=u))for(let R=x;R<E;R+=1){if(R>=h)continue;const b=(u*R+U)*4;A[b+0]=p,A[b+1]=w,A[b+2]=T,A[b+3]=F}}};return Jr.Pixelate=S,i.Factory.addGetterSetter(y.Node,"pixelSize",8,(0,C.getNumberValidator)(),i.Factory.afterSetFilter),Jr}var Zr={},Xu;function of(){if(Xu)return Zr;Xu=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Posterize=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=Math.round(this.levels()*254)+1,o=S.data,u=o.length,h=255/c;for(let v=0;v<u;v+=1)o[v]=Math.floor(o[v]/h)*h};return Zr.Posterize=C,i.Factory.addGetterSetter(a.Node,"levels",.5,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),Zr}var $r={},Qu;function lf(){if(Qu)return $r;Qu=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.RGB=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=S.data,o=c.length,u=this.red(),h=this.green(),v=this.blue();for(let m=0;m<o;m+=4){const A=(.34*c[m]+.5*c[m+1]+.16*c[m+2])/255;c[m]=A*u,c[m+1]=A*h,c[m+2]=A*v,c[m+3]=c[m+3]}};return $r.RGB=C,i.Factory.addGetterSetter(a.Node,"red",0,function(S){return this._filterUpToDate=!1,S>255?255:S<0?0:Math.round(S)}),i.Factory.addGetterSetter(a.Node,"green",0,function(S){return this._filterUpToDate=!1,S>255?255:S<0?0:Math.round(S)}),i.Factory.addGetterSetter(a.Node,"blue",0,y.RGBComponent,i.Factory.afterSetFilter),$r}var ei={},Ju;function uf(){if(Ju)return ei;Ju=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.RGBA=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=S.data,o=c.length,u=this.red(),h=this.green(),v=this.blue(),m=this.alpha();for(let A=0;A<o;A+=4){const _=1-m;c[A]=u*m+c[A]*_,c[A+1]=h*m+c[A+1]*_,c[A+2]=v*m+c[A+2]*_}};return ei.RGBA=C,i.Factory.addGetterSetter(a.Node,"red",0,function(S){return this._filterUpToDate=!1,S>255?255:S<0?0:Math.round(S)}),i.Factory.addGetterSetter(a.Node,"green",0,function(S){return this._filterUpToDate=!1,S>255?255:S<0?0:Math.round(S)}),i.Factory.addGetterSetter(a.Node,"blue",0,y.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(a.Node,"alpha",1,function(S){return this._filterUpToDate=!1,S>1?1:S<0?0:S}),ei}var ti={},Zu;function cf(){if(Zu)return ti;Zu=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Sepia=void 0;const i=function(a){const y=a.data,C=y.length;for(let S=0;S<C;S+=4){const c=y[S+0],o=y[S+1],u=y[S+2];y[S+0]=Math.min(255,c*.393+o*.769+u*.189),y[S+1]=Math.min(255,c*.349+o*.686+u*.168),y[S+2]=Math.min(255,c*.272+o*.534+u*.131)}};return ti.Sepia=i,ti}var ni={},$u;function hf(){if($u)return ni;$u=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Solarize=void 0;const i=function(a){const y=a.data,C=a.width,S=a.height,c=C*4;let o=S;do{const u=(o-1)*c;let h=C;do{const v=u+(h-1)*4;let m=y[v],A=y[v+1],_=y[v+2];m>127&&(m=255-m),A>127&&(A=255-A),_>127&&(_=255-_),y[v]=m,y[v+1]=A,y[v+2]=_}while(--h)}while(--o)};return ni.Solarize=i,ni}var ri={},ec;function df(){if(ec)return ri;ec=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Threshold=void 0;const i=we(),a=Ve(),y=Ae(),C=function(S){const c=this.threshold()*255,o=S.data,u=o.length;for(let h=0;h<u;h+=1)o[h]=o[h]<c?0:255};return ri.Threshold=C,i.Factory.addGetterSetter(a.Node,"threshold",.5,(0,y.getNumberValidator)(),i.Factory.afterSetFilter),ri}var tc;function ff(){if(tc)return vr;tc=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.Konva=void 0;const i=ja(),a=M0(),y=I0(),C=O0(),S=D0(),c=G0(),o=B0(),u=Mc(),h=Ja(),v=Lc(),m=U0(),A=z0(),_=V0(),f=j0(),p=Ic(),w=H0(),T=W0(),F=q0(),g=K0(),l=Y0(),x=X0(),E=Q0(),L=J0(),U=Z0(),R=$0(),b=ef(),N=tf(),G=nf(),z=rf(),W=sf(),K=af(),V=of(),re=lf(),P=uf(),k=cf(),O=hf(),I=df();return vr.Konva=i.Konva.Util._assign(i.Konva,{Arc:a.Arc,Arrow:y.Arrow,Circle:C.Circle,Ellipse:S.Ellipse,Image:c.Image,Label:o.Label,Tag:o.Tag,Line:u.Line,Path:h.Path,Rect:v.Rect,RegularPolygon:m.RegularPolygon,Ring:A.Ring,Sprite:_.Sprite,Star:f.Star,Text:p.Text,TextPath:w.TextPath,Transformer:T.Transformer,Wedge:F.Wedge,Filters:{Blur:g.Blur,Brighten:l.Brighten,Contrast:x.Contrast,Emboss:E.Emboss,Enhance:L.Enhance,Grayscale:U.Grayscale,HSL:R.HSL,HSV:b.HSV,Invert:N.Invert,Kaleidoscope:G.Kaleidoscope,Mask:z.Mask,Noise:W.Noise,Pixelate:K.Pixelate,Posterize:V.Posterize,RGB:re.RGB,RGBA:P.RGBA,Sepia:k.Sepia,Solarize:O.Solarize,Threshold:I.Threshold}}),vr}var gf=ss.exports,nc;function pf(){if(nc)return ss.exports;nc=1,Object.defineProperty(gf,"__esModule",{value:!0});const i=ff();return ss.exports=i.Konva,ss.exports}var mf=pf();const vf=Ha(mf);var es={exports:{}},rc;function yf(){return rc||(rc=1,function(i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;var y=ja();Object.defineProperty(a,"Konva",{enumerable:!0,get:function(){return y.Konva}});const C=ja();i.exports=C.Konva}(es,es.exports)),es.exports}var _f=yf();const ai=Ha(_f);var Ga={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba,ic;function Sf(){return ic||(ic=1,Ba=function(a){var y={},C=dd(),S=yc(),c=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),v=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),E=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=E&&e[E]||e["@@iterator"],typeof e=="function"?e:null)}function U(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m:return"Fragment";case v:return"Portal";case _:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case F:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case l:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}function R(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function b(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N(e){if(b(e)!==e)throw Error(o(188))}function G(e){var t=e.alternate;if(!t){if(t=b(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var d=s.alternate;if(d===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===d.child){for(d=s.child;d;){if(d===n)return N(s),e;if(d===r)return N(s),t;d=d.sibling}throw Error(o(188))}if(n.return!==r.return)n=s,r=d;else{for(var M=!1,H=s.child;H;){if(H===n){M=!0,n=s,r=d;break}if(H===r){M=!0,r=s,n=d;break}H=H.sibling}if(!M){for(H=d.child;H;){if(H===n){M=!0,n=d,r=s;break}if(H===r){M=!0,r=d,n=s;break}H=H.sibling}if(!M)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function z(e){return e=G(e),e!==null?W(e):null}function W(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W(e);if(t!==null)return t;e=e.sibling}return null}function K(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=K(e);if(t!==null)return t}e=e.sibling}return null}var V=Array.isArray,re=a.getPublicInstance,P=a.getRootHostContext,k=a.getChildHostContext,O=a.prepareForCommit,I=a.resetAfterCommit,B=a.createInstance,Z=a.appendInitialChild,j=a.finalizeInitialChildren,ne=a.prepareUpdate,ae=a.shouldSetTextContent,J=a.createTextInstance,D=a.scheduleTimeout,Y=a.cancelTimeout,se=a.noTimeout,oe=a.isPrimaryRenderer,le=a.supportsMutation,pe=a.supportsPersistence,fe=a.supportsHydration,Re=a.getInstanceFromNode,ve=a.preparePortalMount,He=a.getCurrentEventPriority,ke=a.detachDeletedInstance,De=a.supportsMicrotasks,sn=a.scheduleMicrotask,Ke=a.supportsTestSelectors,Cn=a.findFiberRoot,Ne=a.getBoundingRect,St=a.getTextContent,tt=a.isHiddenSubtree,Yt=a.matchAccessibilityRole,nt=a.setFocusIfFocusable,Bt=a.setupIntersectionObserver,Ct=a.appendChild,At=a.appendChildToContainer,rt=a.commitTextUpdate,it=a.commitMount,xn=a.commitUpdate,oi=a.insertBefore,In=a.insertInContainerBefore,ds=a.removeChild,fs=a.removeChildFromContainer,no=a.resetTextContent,Yc=a.hideInstance,Xc=a.hideTextInstance,Qc=a.unhideInstance,Jc=a.unhideTextInstance,Zc=a.clearContainer,$c=a.cloneInstance,ro=a.createContainerChildSet,io=a.appendChildToContainerChildSet,eh=a.finalizeContainerChildren,gs=a.replaceContainerChildren,so=a.cloneHiddenInstance,ao=a.cloneHiddenTextInstance,th=a.canHydrateInstance,nh=a.canHydrateTextInstance,rh=a.canHydrateSuspenseInstance,oo=a.isSuspenseInstancePending,ps=a.isSuspenseInstanceFallback,ih=a.getSuspenseInstanceFallbackErrorDetails,sh=a.registerSuspenseInstanceRetry,li=a.getNextHydratableSibling,ah=a.getFirstHydratableChild,oh=a.getFirstHydratableChildWithinContainer,lh=a.getFirstHydratableChildWithinSuspenseInstance,uh=a.hydrateInstance,ch=a.hydrateTextInstance,hh=a.hydrateSuspenseInstance,dh=a.getNextHydratableInstanceAfterSuspenseInstance,fh=a.commitHydratedContainer,gh=a.commitHydratedSuspenseInstance,ph=a.clearSuspenseBoundary,mh=a.clearSuspenseBoundaryFromContainer,vh=a.shouldDeleteUnhydratedTailInstances,yh=a.didNotMatchHydratedContainerTextInstance,_h=a.didNotMatchHydratedTextInstance,ms;function Zn(e){if(ms===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ms=t&&t[1]||""}return`
`+ms+e}var vs=!1;function ys(e,t){if(!e||vs)return"";vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ie){var r=ie}Reflect.construct(e,[],t)}else{try{t.call()}catch(ie){r=ie}e.call(t.prototype)}else{try{throw Error()}catch(ie){r=ie}e()}}catch(ie){if(ie&&r&&typeof ie.stack=="string"){for(var s=ie.stack.split(`
`),d=r.stack.split(`
`),M=s.length-1,H=d.length-1;1<=M&&0<=H&&s[M]!==d[H];)H--;for(;1<=M&&0<=H;M--,H--)if(s[M]!==d[H]){if(M!==1||H!==1)do if(M--,H--,0>H||s[M]!==d[H]){var Q=`
`+s[M].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=M&&0<=H);break}}}finally{vs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zn(e):""}var Sh=Object.prototype.hasOwnProperty,_s=[],On=-1;function an(e){return{current:e}}function Me(e){0>On||(e.current=_s[On],_s[On]=null,On--)}function Fe(e,t){On++,_s[On]=e.current,e.current=t}var on={},st=an(on),dt=an(!1),wn=on;function Dn(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},d;for(d in n)s[d]=t[d];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function ui(){Me(dt),Me(st)}function lo(e,t,n){if(st.current!==on)throw Error(o(168));Fe(st,t),Fe(dt,n)}function uo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(o(108,R(e)||"Unknown",s));return c({},n,r)}function ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,wn=st.current,Fe(st,e),Fe(dt,dt.current),!0}function co(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=uo(e,t,wn),r.__reactInternalMemoizedMergedChildContext=e,Me(dt),Me(st),Fe(st,e)):Me(dt),Fe(dt,n)}var Mt=Math.clz32?Math.clz32:wh,Ch=Math.log,xh=Math.LN2;function wh(e){return e>>>=0,e===0?32:31-(Ch(e)/xh|0)|0}var hi=64,di=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,d=e.pingedLanes,M=n&268435455;if(M!==0){var H=M&~s;H!==0?r=$n(H):(d&=M,d!==0&&(r=$n(d)))}else M=n&~s,M!==0?r=$n(M):d!==0&&(r=$n(d));if(r===0)return 0;if(t!==0&&t!==r&&(t&s)===0&&(s=r&-r,d=t&-t,s>=d||s===16&&(d&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ah(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,d=e.pendingLanes;0<d;){var M=31-Mt(d),H=1<<M,Q=s[M];Q===-1?((H&n)===0||(H&r)!==0)&&(s[M]=Ah(H,t)):Q<=t&&(e.expiredLanes|=H),d&=~H}}function Ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ho(){var e=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),e}function Cs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function Eh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Mt(n),d=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~d}}function xs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function fo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ws=S.unstable_scheduleCallback,go=S.unstable_cancelCallback,Th=S.unstable_shouldYield,Rh=S.unstable_requestPaint,Ye=S.unstable_now,As=S.unstable_ImmediatePriority,kh=S.unstable_UserBlockingPriority,Ps=S.unstable_NormalPriority,bh=S.unstable_IdlePriority,gi=null,Ut=null;function Nh(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(gi,e,void 0,(e.current.flags&128)===128)}catch{}}function Fh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Fh,Xt=null,pi=!1,Es=!1;function po(e){Xt===null?Xt=[e]:Xt.push(e)}function Mh(e){pi=!0,po(e)}function zt(){if(!Es&&Xt!==null){Es=!0;var e=0,t=Pe;try{var n=Xt;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,pi=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),ws(As,zt),s}finally{Pe=t,Es=!1}}return null}var Gn=[],Bn=0,mi=null,vi=0,Pt=[],Et=0,An=null,Qt=1,Jt="";function Pn(e,t){Gn[Bn++]=vi,Gn[Bn++]=mi,mi=e,vi=t}function mo(e,t,n){Pt[Et++]=Qt,Pt[Et++]=Jt,Pt[Et++]=An,An=e;var r=Qt;e=Jt;var s=32-Mt(r)-1;r&=~(1<<s),n+=1;var d=32-Mt(t)+s;if(30<d){var M=s-s%5;d=(r&(1<<M)-1).toString(32),r>>=M,s-=M,Qt=1<<32-Mt(t)+s|n<<s|r,Jt=d+e}else Qt=1<<d|n<<s|r,Jt=e}function Ts(e){e.return!==null&&(Pn(e,1),mo(e,1,0))}function Rs(e){for(;e===mi;)mi=Gn[--Bn],Gn[Bn]=null,vi=Gn[--Bn],Gn[Bn]=null;for(;e===An;)An=Pt[--Et],Pt[Et]=null,Jt=Pt[--Et],Pt[Et]=null,Qt=Pt[--Et],Pt[Et]=null}var xt=null,Tt=null,Ie=!1,tr=!1,It=null;function vo(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yo(e,t){switch(e.tag){case 5:return t=th(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,xt=e,Tt=ah(t),!0):!1;case 6:return t=nh(t,e.pendingProps),t!==null?(e.stateNode=t,xt=e,Tt=null,!0):!1;case 13:if(t=rh(t),t!==null){var n=An!==null?{id:Qt,overflow:Jt}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,Tt=null,!0}return!1;default:return!1}}function ks(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bs(e){if(Ie){var t=Tt;if(t){var n=t;if(!yo(e,t)){if(ks(e))throw Error(o(418));t=li(n);var r=xt;t&&yo(e,t)?vo(r,n):(e.flags=e.flags&-4097|2,Ie=!1,xt=e)}}else{if(ks(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ie=!1,xt=e}}}function _o(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function yi(e){if(!fe||e!==xt)return!1;if(!Ie)return _o(e),Ie=!0,!1;if(e.tag!==3&&(e.tag!==5||vh(e.type)&&!ae(e.type,e.memoizedProps))){var t=Tt;if(t){if(ks(e))throw So(),Error(o(418));for(;t;)vo(e,t),t=li(t)}}if(_o(e),e.tag===13){if(!fe)throw Error(o(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Tt=dh(e)}else Tt=xt?li(e.stateNode):null;return!0}function So(){for(var e=Tt;e;)e=li(e)}function Un(){fe&&(Tt=xt=null,tr=Ie=!1)}function Ns(e){It===null?It=[e]:It.push(e)}var Lh=u.ReactCurrentBatchConfig;function _i(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sh.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function Ih(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=ys(e.type,!1),e;case 11:return e=ys(e.type.render,!1),e;case 1:return e=ys(e.type,!0),e;default:return""}}function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var s=r,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(M){var H=s.refs;M===null?delete H[d]:H[d]=M},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Co(e){var t=e._init;return t(e._payload)}function xo(e){function t(X,q){if(e){var $=X.deletions;$===null?(X.deletions=[q],X.flags|=16):$.push(q)}}function n(X,q){if(!e)return null;for(;q!==null;)t(X,q),q=q.sibling;return null}function r(X,q){for(X=new Map;q!==null;)q.key!==null?X.set(q.key,q):X.set(q.index,q),q=q.sibling;return X}function s(X,q){return X=gn(X,q),X.index=0,X.sibling=null,X}function d(X,q,$){return X.index=$,e?($=X.alternate,$!==null?($=$.index,$<q?(X.flags|=2,q):$):(X.flags|=2,q)):(X.flags|=1048576,q)}function M(X){return e&&X.alternate===null&&(X.flags|=2),X}function H(X,q,$,ce){return q===null||q.tag!==6?(q=Ea($,X.mode,ce),q.return=X,q):(q=s(q,$),q.return=X,q)}function Q(X,q,$,ce){var ge=$.type;return ge===m?de(X,q,$.props.children,ce,$.key):q!==null&&(q.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===l&&Co(ge)===q.type)?(ce=s(q,$.props),ce.ref=nr(X,q,$),ce.return=X,ce):(ce=Ji($.type,$.key,$.props,null,X.mode,ce),ce.ref=nr(X,q,$),ce.return=X,ce)}function ie(X,q,$,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=Ta($,X.mode,ce),q.return=X,q):(q=s(q,$.children||[]),q.return=X,q)}function de(X,q,$,ce,ge){return q===null||q.tag!==7?(q=Fn($,X.mode,ce,ge),q.return=X,q):(q=s(q,$),q.return=X,q)}function ye(X,q,$){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Ea(""+q,X.mode,$),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return $=Ji(q.type,q.key,q.props,null,X.mode,$),$.ref=nr(X,null,q),$.return=X,$;case v:return q=Ta(q,X.mode,$),q.return=X,q;case l:var ce=q._init;return ye(X,ce(q._payload),$)}if(V(q)||L(q))return q=Fn(q,X.mode,$,null),q.return=X,q;Si(X,q)}return null}function ue(X,q,$,ce){var ge=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ge!==null?null:H(X,q,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return $.key===ge?Q(X,q,$,ce):null;case v:return $.key===ge?ie(X,q,$,ce):null;case l:return ge=$._init,ue(X,q,ge($._payload),ce)}if(V($)||L($))return ge!==null?null:de(X,q,$,ce,null);Si(X,$)}return null}function Le(X,q,$,ce,ge){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return X=X.get($)||null,H(q,X,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case h:return X=X.get(ce.key===null?$:ce.key)||null,Q(q,X,ce,ge);case v:return X=X.get(ce.key===null?$:ce.key)||null,ie(q,X,ce,ge);case l:var Se=ce._init;return Le(X,q,$,Se(ce._payload),ge)}if(V(ce)||L(ce))return X=X.get($)||null,de(q,X,ce,ge,null);Si(q,ce)}return null}function be(X,q,$,ce){for(var ge=null,Se=null,_e=q,Ee=q=0,Je=null;_e!==null&&Ee<$.length;Ee++){_e.index>Ee?(Je=_e,_e=null):Je=_e.sibling;var Te=ue(X,_e,$[Ee],ce);if(Te===null){_e===null&&(_e=Je);break}e&&_e&&Te.alternate===null&&t(X,_e),q=d(Te,q,Ee),Se===null?ge=Te:Se.sibling=Te,Se=Te,_e=Je}if(Ee===$.length)return n(X,_e),Ie&&Pn(X,Ee),ge;if(_e===null){for(;Ee<$.length;Ee++)_e=ye(X,$[Ee],ce),_e!==null&&(q=d(_e,q,Ee),Se===null?ge=_e:Se.sibling=_e,Se=_e);return Ie&&Pn(X,Ee),ge}for(_e=r(X,_e);Ee<$.length;Ee++)Je=Le(_e,X,Ee,$[Ee],ce),Je!==null&&(e&&Je.alternate!==null&&_e.delete(Je.key===null?Ee:Je.key),q=d(Je,q,Ee),Se===null?ge=Je:Se.sibling=Je,Se=Je);return e&&_e.forEach(function(pn){return t(X,pn)}),Ie&&Pn(X,Ee),ge}function vt(X,q,$,ce){var ge=L($);if(typeof ge!="function")throw Error(o(150));if($=ge.call($),$==null)throw Error(o(151));for(var Se=ge=null,_e=q,Ee=q=0,Je=null,Te=$.next();_e!==null&&!Te.done;Ee++,Te=$.next()){_e.index>Ee?(Je=_e,_e=null):Je=_e.sibling;var pn=ue(X,_e,Te.value,ce);if(pn===null){_e===null&&(_e=Je);break}e&&_e&&pn.alternate===null&&t(X,_e),q=d(pn,q,Ee),Se===null?ge=pn:Se.sibling=pn,Se=pn,_e=Je}if(Te.done)return n(X,_e),Ie&&Pn(X,Ee),ge;if(_e===null){for(;!Te.done;Ee++,Te=$.next())Te=ye(X,Te.value,ce),Te!==null&&(q=d(Te,q,Ee),Se===null?ge=Te:Se.sibling=Te,Se=Te);return Ie&&Pn(X,Ee),ge}for(_e=r(X,_e);!Te.done;Ee++,Te=$.next())Te=Le(_e,X,Ee,Te.value,ce),Te!==null&&(e&&Te.alternate!==null&&_e.delete(Te.key===null?Ee:Te.key),q=d(Te,q,Ee),Se===null?ge=Te:Se.sibling=Te,Se=Te);return e&&_e.forEach(function(hd){return t(X,hd)}),Ie&&Pn(X,Ee),ge}function tn(X,q,$,ce){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case h:e:{for(var ge=$.key,Se=q;Se!==null;){if(Se.key===ge){if(ge=$.type,ge===m){if(Se.tag===7){n(X,Se.sibling),q=s(Se,$.props.children),q.return=X,X=q;break e}}else if(Se.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===l&&Co(ge)===Se.type){n(X,Se.sibling),q=s(Se,$.props),q.ref=nr(X,Se,$),q.return=X,X=q;break e}n(X,Se);break}else t(X,Se);Se=Se.sibling}$.type===m?(q=Fn($.props.children,X.mode,ce,$.key),q.return=X,X=q):(ce=Ji($.type,$.key,$.props,null,X.mode,ce),ce.ref=nr(X,q,$),ce.return=X,X=ce)}return M(X);case v:e:{for(Se=$.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){n(X,q.sibling),q=s(q,$.children||[]),q.return=X,X=q;break e}else{n(X,q);break}else t(X,q);q=q.sibling}q=Ta($,X.mode,ce),q.return=X,X=q}return M(X);case l:return Se=$._init,tn(X,q,Se($._payload),ce)}if(V($))return be(X,q,$,ce);if(L($))return vt(X,q,$,ce);Si(X,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,q!==null&&q.tag===6?(n(X,q.sibling),q=s(q,$),q.return=X,X=q):(n(X,q),q=Ea($,X.mode,ce),q.return=X,X=q),M(X)):n(X,q)}return tn}var zn=xo(!0),wo=xo(!1),Ci=an(null),xi=null,Vn=null,Fs=null;function Ms(){Fs=Vn=xi=null}function Ao(e,t,n){oe?(Fe(Ci,t._currentValue),t._currentValue=n):(Fe(Ci,t._currentValue2),t._currentValue2=n)}function Ls(e){var t=Ci.current;Me(Ci),oe?e._currentValue=t:e._currentValue2=t}function Is(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){xi=e,Fs=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function Rt(e){var t=oe?e._currentValue:e._currentValue2;if(Fs!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(xi===null)throw Error(o(308));Vn=e,xi.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var En=null;function Os(e){En===null?En=[e]:En.push(e)}function Po(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Os(t)):(n.next=s.next,s.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Vt(e,n)}return s=r.interleaved,s===null?(t.next=t,Os(r)):(t.next=s.next,s.next=t),r.interleaved=t,Vt(e,n)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xs(e,n)}}function To(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var M={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?s=d=M:d=d.next=M,n=n.next}while(n!==null);d===null?s=d=t:d=d.next=t}else s=d=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:d,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ai(e,t,n,r){var s=e.updateQueue;ln=!1;var d=s.firstBaseUpdate,M=s.lastBaseUpdate,H=s.shared.pending;if(H!==null){s.shared.pending=null;var Q=H,ie=Q.next;Q.next=null,M===null?d=ie:M.next=ie,M=Q;var de=e.alternate;de!==null&&(de=de.updateQueue,H=de.lastBaseUpdate,H!==M&&(H===null?de.firstBaseUpdate=ie:H.next=ie,de.lastBaseUpdate=Q))}if(d!==null){var ye=s.baseState;M=0,de=ie=Q=null,H=d;do{var ue=H.lane,Le=H.eventTime;if((r&ue)===ue){de!==null&&(de=de.next={eventTime:Le,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var be=e,vt=H;switch(ue=t,Le=n,vt.tag){case 1:if(be=vt.payload,typeof be=="function"){ye=be.call(Le,ye,ue);break e}ye=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=vt.payload,ue=typeof be=="function"?be.call(Le,ye,ue):be,ue==null)break e;ye=c({},ye,ue);break e;case 2:ln=!0}}H.callback!==null&&H.lane!==0&&(e.flags|=64,ue=s.effects,ue===null?s.effects=[H]:ue.push(H))}else Le={eventTime:Le,lane:ue,tag:H.tag,payload:H.payload,callback:H.callback,next:null},de===null?(ie=de=Le,Q=ye):de=de.next=Le,M|=ue;if(H=H.next,H===null){if(H=s.shared.pending,H===null)break;ue=H,H=ue.next,ue.next=null,s.lastBaseUpdate=ue,s.shared.pending=null}}while(!0);if(de===null&&(Q=ye),s.baseState=Q,s.firstBaseUpdate=ie,s.lastBaseUpdate=de,t=s.shared.interleaved,t!==null){s=t;do M|=s.lane,s=s.next;while(s!==t)}else d===null&&(s.shared.lanes=0);Rn|=M,e.lanes=M,e.memoizedState=ye}}function Ro(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(o(191,s));s.call(r)}}}var rr={},kt=an(rr),ir=an(rr),Hn=an(rr);function jt(e){if(e===rr)throw Error(o(174));return e}function Gs(e,t){Fe(Hn,t),Fe(ir,e),Fe(kt,rr),e=P(t),Me(kt),Fe(kt,e)}function Wn(){Me(kt),Me(ir),Me(Hn)}function ko(e){var t=jt(Hn.current),n=jt(kt.current);t=k(n,e.type,t),n!==t&&(Fe(ir,e),Fe(kt,t))}function Bs(e){ir.current===e&&(Me(kt),Me(ir))}var Ge=an(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||oo(n)||ps(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=[];function zs(){for(var e=0;e<Us.length;e++){var t=Us[e];oe?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Us.length=0}var Ei=u.ReactCurrentDispatcher,Vs=u.ReactCurrentBatchConfig,Tn=0,Be=null,We=null,Xe=null,Ti=!1,sr=!1,ar=0,Oh=0;function at(){throw Error(o(321))}function js(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function Hs(e,t,n,r,s,d){if(Tn=d,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ei.current=e===null||e.memoizedState===null?Uh:zh,e=n(r,s),sr){d=0;do{if(sr=!1,ar=0,25<=d)throw Error(o(301));d+=1,Xe=We=null,t.updateQueue=null,Ei.current=Vh,e=n(r,s)}while(sr)}if(Ei.current=bi,t=We!==null&&We.next!==null,Tn=0,Xe=We=Be=null,Ti=!1,t)throw Error(o(300));return e}function Ws(){var e=ar!==0;return ar=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function bt(){if(We===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Xe===null?Be.memoizedState:Xe.next;if(t!==null)Xe=t,We=e;else{if(e===null)throw Error(o(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function or(e,t){return typeof t=="function"?t(e):t}function qs(e){var t=bt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=We,s=r.baseQueue,d=n.pending;if(d!==null){if(s!==null){var M=s.next;s.next=d.next,d.next=M}r.baseQueue=s=d,n.pending=null}if(s!==null){d=s.next,r=r.baseState;var H=M=null,Q=null,ie=d;do{var de=ie.lane;if((Tn&de)===de)Q!==null&&(Q=Q.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),r=ie.hasEagerState?ie.eagerState:e(r,ie.action);else{var ye={lane:de,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Q===null?(H=Q=ye,M=r):Q=Q.next=ye,Be.lanes|=de,Rn|=de}ie=ie.next}while(ie!==null&&ie!==d);Q===null?M=r:Q.next=H,Lt(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=M,t.baseQueue=Q,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do d=s.lane,Be.lanes|=d,Rn|=d,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ks(e){var t=bt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,d=t.memoizedState;if(s!==null){n.pending=null;var M=s=s.next;do d=e(d,M.action),M=M.next;while(M!==s);Lt(d,t.memoizedState)||(gt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,r]}function bo(){}function No(e,t){var n=Be,r=bt(),s=t(),d=!Lt(r.memoizedState,s);if(d&&(r.memoizedState=s,gt=!0),r=r.queue,Ys(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||d||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,lr(9,Mo.bind(null,n,r,s,t),void 0,null),Qe===null)throw Error(o(349));(Tn&30)!==0||Fo(n,t,s)}return s}function Fo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mo(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Oo(e)}function Lo(e,t,n){return n(function(){Io(t)&&Oo(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function Oo(e){var t=Vt(e,1);t!==null&&Nt(t,e,1,-1)}function Do(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},t.queue=e,e=e.dispatch=Bh.bind(null,Be,e),[t.memoizedState,e]}function lr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Go(){return bt().memoizedState}function Ri(e,t,n,r){var s=Ht();Be.flags|=e,s.memoizedState=lr(1|t,n,void 0,r===void 0?null:r)}function ki(e,t,n,r){var s=bt();r=r===void 0?null:r;var d=void 0;if(We!==null){var M=We.memoizedState;if(d=M.destroy,r!==null&&js(r,M.deps)){s.memoizedState=lr(t,n,d,r);return}}Be.flags|=e,s.memoizedState=lr(1|t,n,d,r)}function Bo(e,t){return Ri(8390656,8,e,t)}function Ys(e,t){return ki(2048,8,e,t)}function Uo(e,t){return ki(4,2,e,t)}function zo(e,t){return ki(4,4,e,t)}function Vo(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jo(e,t,n){return n=n!=null?n.concat([e]):null,ki(4,4,Vo.bind(null,t,e),n)}function Xs(){}function Ho(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&js(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return(Tn&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n):(Lt(n,t)||(n=ho(),Be.lanes|=n,Rn|=n,e.baseState=!0),t)}function Dh(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Vs.transition;Vs.transition={};try{e(!1),t()}finally{Pe=n,Vs.transition=r}}function Ko(){return bt().memoizedState}function Gh(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(n=Po(e,t,n,r),n!==null){var s=ut();Nt(n,e,r,s),Qo(n,t,r)}}function Bh(e,t,n){var r=dn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,s);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var M=t.lastRenderedState,H=d(M,n);if(s.hasEagerState=!0,s.eagerState=H,Lt(H,M)){var Q=t.interleaved;Q===null?(s.next=s,Os(t)):(s.next=Q.next,Q.next=s),t.interleaved=s;return}}catch{}finally{}n=Po(e,t,s,r),n!==null&&(s=ut(),Nt(n,e,r,s),Qo(n,t,r))}}function Yo(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Xo(e,t){sr=Ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xs(e,n)}}var bi={readContext:Rt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Uh={readContext:Rt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gh.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Do,useDebugValue:Xs,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Dh.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Ht();if(Ie){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Qe===null)throw Error(o(349));(Tn&30)!==0||Fo(r,t,n)}s.memoizedState=n;var d={value:n,getSnapshot:t};return s.queue=d,Bo(Lo.bind(null,r,d,e),[e]),r.flags|=2048,lr(9,Mo.bind(null,r,d,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Qe.identifierPrefix;if(Ie){var n=Jt,r=Qt;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zh={readContext:Rt,useCallback:Ho,useContext:Rt,useEffect:Ys,useImperativeHandle:jo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:Wo,useReducer:qs,useRef:Go,useState:function(){return qs(or)},useDebugValue:Xs,useDeferredValue:function(e){var t=bt();return qo(t,We.memoizedState,e)},useTransition:function(){var e=qs(or)[0],t=bt().memoizedState;return[e,t]},useMutableSource:bo,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1},Vh={readContext:Rt,useCallback:Ho,useContext:Rt,useEffect:Ys,useImperativeHandle:jo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:Wo,useReducer:Ks,useRef:Go,useState:function(){return Ks(or)},useDebugValue:Xs,useDeferredValue:function(e){var t=bt();return We===null?t.memoizedState=e:qo(t,We.memoizedState,e)},useTransition:function(){var e=Ks(or)[0],t=bt().memoizedState;return[e,t]},useMutableSource:bo,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=c({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:c({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?b(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ut(),s=dn(e),d=Zt(r,s);d.payload=t,n!=null&&(d.callback=n),t=un(e,d,s),t!==null&&(Nt(t,e,s,r),wi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ut(),s=dn(e),d=Zt(r,s);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=un(e,d,s),t!==null&&(Nt(t,e,s,r),wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),r=dn(e),s=Zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=un(e,s,r),t!==null&&(Nt(t,e,r,n),wi(t,e,r))}};function Jo(e,t,n,r,s,d,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,M):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(s,d):!0}function Zo(e,t,n){var r=!1,s=on,d=t.contextType;return typeof d=="object"&&d!==null?d=Rt(d):(s=ft(t)?wn:st.current,r=t.contextTypes,d=(r=r!=null)?Dn(e,s):on),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=d),t}function $o(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Js(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ds(e);var d=t.contextType;typeof d=="object"&&d!==null?s.context=Rt(d):(d=ft(t)?wn:st.current,s.context=Dn(e,d)),s.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Qs(e,t,d,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ni.enqueueReplaceState(s,s.state,null),Ai(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var n="",r=t;do n+=Ih(r),r=r.return;while(r);var s=n}catch(d){s=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:s,digest:null}}function Zs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $s(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jh=typeof WeakMap=="function"?WeakMap:Map;function el(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wi||(Wi=!0,_a=r),$s(e,t)},n}function tl(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$s(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){$s(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var M=t.stack;this.componentDidCatch(t.value,{componentStack:M!==null?M:""})}),n}function nl(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rd.bind(null,e,t,n),t.then(e,e))}function rl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function il(e,t,n,r,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Hh=u.ReactCurrentOwner,gt=!1;function ct(e,t,n,r){t.child=e===null?wo(t,null,n,r):zn(t,e.child,n,r)}function sl(e,t,n,r,s){n=n.render;var d=t.ref;return jn(t,s),r=Hs(e,t,n,r,d,s),n=Ws(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Ie&&n&&Ts(t),t.flags|=1,ct(e,t,r,s),t.child)}function al(e,t,n,r,s){if(e===null){var d=n.type;return typeof d=="function"&&!Pa(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,ol(e,t,d,r,s)):(e=Ji(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&s)===0){var M=d.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(M,r)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=gn(d,r),e.ref=t.ref,e.return=t,t.child=e}function ol(e,t,n,r,s){if(e!==null){var d=e.memoizedProps;if(_i(d,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=d,(e.lanes&s)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,$t(e,t,s)}return ea(e,t,n,r,s)}function ll(e,t,n){var r=t.pendingProps,s=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Yn,wt),wt|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Yn,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=d!==null?d.baseLanes:n,Fe(Yn,wt),wt|=r}else d!==null?(r=d.baseLanes|n,t.memoizedState=null):r=n,Fe(Yn,wt),wt|=r;return ct(e,t,s,n),t.child}function ul(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,s){var d=ft(n)?wn:st.current;return d=Dn(t,d),jn(t,s),n=Hs(e,t,n,r,d,s),r=Ws(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Ie&&r&&Ts(t),t.flags|=1,ct(e,t,n,s),t.child)}function cl(e,t,n,r,s){if(ft(n)){var d=!0;ci(t)}else d=!1;if(jn(t,s),t.stateNode===null)Mi(e,t),Zo(t,n,r),Js(t,n,r,s),r=!0;else if(e===null){var M=t.stateNode,H=t.memoizedProps;M.props=H;var Q=M.context,ie=n.contextType;typeof ie=="object"&&ie!==null?ie=Rt(ie):(ie=ft(n)?wn:st.current,ie=Dn(t,ie));var de=n.getDerivedStateFromProps,ye=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";ye||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==r||Q!==ie)&&$o(t,M,r,ie),ln=!1;var ue=t.memoizedState;M.state=ue,Ai(t,r,M,s),Q=t.memoizedState,H!==r||ue!==Q||dt.current||ln?(typeof de=="function"&&(Qs(t,n,de,r),Q=t.memoizedState),(H=ln||Jo(t,n,H,r,ue,Q,ie))?(ye||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(t.flags|=4194308)):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Q),M.props=r,M.state=Q,M.context=ie,r=H):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{M=t.stateNode,Eo(e,t),H=t.memoizedProps,ie=t.type===t.elementType?H:Ot(t.type,H),M.props=ie,ye=t.pendingProps,ue=M.context,Q=n.contextType,typeof Q=="object"&&Q!==null?Q=Rt(Q):(Q=ft(n)?wn:st.current,Q=Dn(t,Q));var Le=n.getDerivedStateFromProps;(de=typeof Le=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==ye||ue!==Q)&&$o(t,M,r,Q),ln=!1,ue=t.memoizedState,M.state=ue,Ai(t,r,M,s);var be=t.memoizedState;H!==ye||ue!==be||dt.current||ln?(typeof Le=="function"&&(Qs(t,n,Le,r),be=t.memoizedState),(ie=ln||Jo(t,n,ie,r,ue,be,Q)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(r,be,Q),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(r,be,Q)),typeof M.componentDidUpdate=="function"&&(t.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=be),M.props=r,M.state=be,M.context=Q,r=ie):(typeof M.componentDidUpdate!="function"||H===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,d,s)}function ta(e,t,n,r,s,d){ul(e,t);var M=(t.flags&128)!==0;if(!r&&!M)return s&&co(t,n,!1),$t(e,t,d);r=t.stateNode,Hh.current=t;var H=M&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&M?(t.child=zn(t,e.child,null,d),t.child=zn(t,null,H,d)):ct(e,t,H,d),t.memoizedState=r.state,s&&co(t,n,!0),t.child}function hl(e){var t=e.stateNode;t.pendingContext?lo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lo(e,t.context,!1),Gs(e,t.containerInfo)}function dl(e,t,n,r,s){return Un(),Ns(s),t.flags|=256,ct(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function fl(e,t,n){var r=t.pendingProps,s=Ge.current,d=!1,M=(t.flags&128)!==0,H;if((H=M)||(H=e!==null&&e.memoizedState===null?!1:(s&2)!==0),H?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(Ge,s&1),e===null)return bs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:ps(e)?t.lanes=8:t.lanes=1073741824,null):(M=r.children,e=r.fallback,d?(r=t.mode,d=t.child,M={mode:"hidden",children:M},(r&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=M):d=Zi(M,r,0,null),e=Fn(e,r,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=ra(n),t.memoizedState=na,e):ia(t,M));if(s=e.memoizedState,s!==null&&(H=s.dehydrated,H!==null))return Wh(e,t,M,r,H,s,n);if(d){d=r.fallback,M=t.mode,s=e.child,H=s.sibling;var Q={mode:"hidden",children:r.children};return(M&1)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=Q,t.deletions=null):(r=gn(s,Q),r.subtreeFlags=s.subtreeFlags&14680064),H!==null?d=gn(H,d):(d=Fn(d,M,n,null),d.flags|=2),d.return=t,r.return=t,r.sibling=d,t.child=r,r=d,d=t.child,M=e.child.memoizedState,M=M===null?ra(n):{baseLanes:M.baseLanes|n,cachePool:null,transitions:M.transitions},d.memoizedState=M,d.childLanes=e.childLanes&~n,t.memoizedState=na,r}return d=e.child,e=d.sibling,r=gn(d,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ia(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,n,r){return r!==null&&Ns(r),zn(t,e.child,null,n),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,n,r,s,d,M){if(n)return t.flags&256?(t.flags&=-257,r=Zs(Error(o(422))),Fi(e,t,M,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=r.fallback,s=t.mode,r=Zi({mode:"visible",children:r.children},s,0,null),d=Fn(d,s,M,null),d.flags|=2,r.return=t,d.return=t,r.sibling=d,t.child=r,(t.mode&1)!==0&&zn(t,e.child,null,M),t.child.memoizedState=ra(M),t.memoizedState=na,d);if((t.mode&1)===0)return Fi(e,t,M,null);if(ps(s))return r=ih(s).digest,d=Error(o(419)),r=Zs(d,r,void 0),Fi(e,t,M,r);if(n=(M&e.childLanes)!==0,gt||n){if(r=Qe,r!==null){switch(M&-M){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|M))!==0?0:s,s!==0&&s!==d.retryLane&&(d.retryLane=s,Vt(e,s),Nt(r,e,s,-1))}return Aa(),r=Zs(Error(o(421))),Fi(e,t,M,r)}return oo(s)?(t.flags|=128,t.child=e.child,t=id.bind(null,e),sh(s,t),null):(e=d.treeContext,fe&&(Tt=lh(s),xt=t,Ie=!0,It=null,tr=!1,e!==null&&(Pt[Et++]=Qt,Pt[Et++]=Jt,Pt[Et++]=An,Qt=e.id,Jt=e.overflow,An=t)),t=ia(t,r.children),t.flags|=4096,t)}function gl(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Is(e.return,t,n)}function sa(e,t,n,r,s){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=n,d.tailMode=s)}function pl(e,t,n){var r=t.pendingProps,s=r.revealOrder,d=r.tail;if(ct(e,t,r.children,n),r=Ge.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gl(e,n,t);else if(e.tag===19)gl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ge,r),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Pi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),sa(t,!1,s,n,d);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}sa(t,!0,n,null,d);break;case"together":sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qh(e,t,n){switch(t.tag){case 3:hl(t),Un();break;case 5:ko(t);break;case 1:ft(t.type)&&ci(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:Ao(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Fe(Ge,Ge.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?fl(e,t,n):(Fe(Ge,Ge.current&1),e=$t(e,t,n),e!==null?e.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return pl(e,t,n);t.flags|=128}var s=t.memoizedState;if(s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,ll(e,t,n)}return $t(e,t,n)}function Wt(e){e.flags|=4}function ml(e,t){if(e!==null&&e.child===t.child)return!0;if((t.flags&16)!==0)return!1;for(e=t.child;e!==null;){if((e.flags&12854)!==0||(e.subtreeFlags&12854)!==0)return!1;e=e.sibling}return!0}var ur,cr,Li,Ii;if(le)ur=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)Z(e,n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cr=function(){},Li=function(e,t,n,r,s){if(e=e.memoizedProps,e!==r){var d=t.stateNode,M=jt(kt.current);n=ne(d,n,e,r,s,M),(t.updateQueue=n)&&Wt(t)}},Ii=function(e,t,n,r){n!==r&&Wt(t)};else if(pe){ur=function(e,t,n,r){for(var s=t.child;s!==null;){if(s.tag===5){var d=s.stateNode;n&&r&&(d=so(d,s.type,s.memoizedProps,s)),Z(e,d)}else if(s.tag===6)d=s.stateNode,n&&r&&(d=ao(d,s.memoizedProps,s)),Z(e,d);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)d=s.child,d!==null&&(d.return=s),ur(e,s,!0,!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};var vl=function(e,t,n,r){for(var s=t.child;s!==null;){if(s.tag===5){var d=s.stateNode;n&&r&&(d=so(d,s.type,s.memoizedProps,s)),io(e,d)}else if(s.tag===6)d=s.stateNode,n&&r&&(d=ao(d,s.memoizedProps,s)),io(e,d);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)d=s.child,d!==null&&(d.return=s),vl(e,s,!0,!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};cr=function(e,t){var n=t.stateNode;if(!ml(e,t)){e=n.containerInfo;var r=ro(e);vl(r,t,!1,!1),n.pendingChildren=r,Wt(t),eh(e,r)}},Li=function(e,t,n,r,s){var d=e.stateNode,M=e.memoizedProps;if((e=ml(e,t))&&M===r)t.stateNode=d;else{var H=t.stateNode,Q=jt(kt.current),ie=null;M!==r&&(ie=ne(H,n,M,r,s,Q)),e&&ie===null?t.stateNode=d:(d=$c(d,ie,n,M,r,t,e,H),j(d,n,r,s,Q)&&Wt(t),t.stateNode=d,e?Wt(t):ur(d,t,!1,!1))}},Ii=function(e,t,n,r){n!==r?(e=jt(Hn.current),n=jt(kt.current),t.stateNode=J(r,e,n,t),Wt(t)):t.stateNode=e.stateNode}}else cr=function(){},Li=function(){},Ii=function(){};function hr(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kh(e,t,n){var r=t.pendingProps;switch(Rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ft(t.type)&&ui(),ot(t),null;case 3:return n=t.stateNode,Wn(),Me(dt),Me(st),zs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yi(t)?Wt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,It!==null&&(xa(It),It=null))),cr(e,t),ot(t),null;case 5:Bs(t),n=jt(Hn.current);var s=t.type;if(e!==null&&t.stateNode!=null)Li(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return ot(t),null}if(e=jt(kt.current),yi(t)){if(!fe)throw Error(o(175));e=uh(t.stateNode,t.type,t.memoizedProps,n,e,t,!tr),t.updateQueue=e,e!==null&&Wt(t)}else{var d=B(s,r,n,e,t);ur(d,t,!1,!1),t.stateNode=d,j(d,s,r,n,e)&&Wt(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Ii(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=jt(Hn.current),n=jt(kt.current),yi(t)){if(!fe)throw Error(o(176));if(e=t.stateNode,n=t.memoizedProps,(r=ch(e,n,t,!tr))&&(s=xt,s!==null))switch(s.tag){case 3:yh(s.stateNode.containerInfo,e,n,(s.mode&1)!==0);break;case 5:_h(s.type,s.memoizedProps,s.stateNode,e,n,(s.mode&1)!==0)}r&&Wt(t)}else t.stateNode=J(r,e,n,t)}return ot(t),null;case 13:if(Me(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)So(),Un(),t.flags|=98560,s=!1;else if(s=yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(!fe)throw Error(o(344));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));hh(s,t)}else Un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),s=!1}else It!==null&&(xa(It),It=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?qe===0&&(qe=3):Aa())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Wn(),cr(e,t),e===null&&ve(t.stateNode.containerInfo),ot(t),null;case 10:return Ls(t.type._context),ot(t),null;case 17:return ft(t.type)&&ui(),ot(t),null;case 19:if(Me(Ge),s=t.memoizedState,s===null)return ot(t),null;if(r=(t.flags&128)!==0,d=s.rendering,d===null)if(r)hr(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Pi(e),d!==null){for(t.flags|=128,hr(s,!1),e=d.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;n!==null;)r=n,s=e,r.flags&=14680066,d=r.alternate,d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n=n.sibling;return Fe(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ye()>ya&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Pi(d),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Ie)return ot(t),null}else 2*Ye()-s.renderingStartTime>ya&&n!==1073741824&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,e=Ge.current,Fe(Ge,r?e&1|2:e&1),t):(ot(t),null);case 22:case 23:return wa(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(wt&1073741824)!==0&&(ot(t),le&&t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Yh(e,t){switch(Rs(t),t.tag){case 1:return ft(t.type)&&ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),Me(dt),Me(st),zs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Bs(t),null;case 13:if(Me(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ge),null;case 4:return Wn(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var Oi=!1,lt=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,he=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function aa(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var yl=!1;function Qh(e,t){for(O(e.containerInfo),he=t;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var n=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var r=n.memoizedProps,s=n.memoizedState,d=e.stateNode,M=d.getSnapshotBeforeUpdate(e.elementType===e.type?r:Ot(e.type,r),s);d.__reactInternalSnapshotBeforeUpdate=M}break;case 3:le&&Zc(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){Oe(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return n=yl,yl=!1,n}function dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var d=s.destroy;s.destroy=void 0,d!==void 0&&aa(t,n,d)}s=s.next}while(s!==r)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=re(n);break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _l(e){var t=e.alternate;t!==null&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sl(e){return e.tag===5||e.tag===3||e.tag===4}function Cl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function la(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?In(n,e,t):At(n,e);else if(r!==4&&(e=e.child,e!==null))for(la(e,t,n),e=e.sibling;e!==null;)la(e,t,n),e=e.sibling}function ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?oi(n,e,t):Ct(n,e);else if(r!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}var $e=null,Dt=!1;function qt(e,t,n){for(n=n.child;n!==null;)ca(e,t,n),n=n.sibling}function ca(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(gi,n)}catch{}switch(n.tag){case 5:lt||Kn(n,t);case 6:if(le){var r=$e,s=Dt;$e=null,qt(e,t,n),$e=r,Dt=s,$e!==null&&(Dt?fs($e,n.stateNode):ds($e,n.stateNode))}else qt(e,t,n);break;case 18:le&&$e!==null&&(Dt?mh($e,n.stateNode):ph($e,n.stateNode));break;case 4:le?(r=$e,s=Dt,$e=n.stateNode.containerInfo,Dt=!0,qt(e,t,n),$e=r,Dt=s):(pe&&(r=n.stateNode.containerInfo,s=ro(r),gs(r,s)),qt(e,t,n));break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var d=s,M=d.destroy;d=d.tag,M!==void 0&&((d&2)!==0||(d&4)!==0)&&aa(n,t,M),s=s.next}while(s!==r)}qt(e,t,n);break;case 1:if(!lt&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(H){Oe(n,t,H)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,qt(e,t,n),lt=r):qt(e,t,n);break;default:qt(e,t,n)}}function xl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xh),t.forEach(function(r){var s=sd.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var d=e,M=t;if(le){var H=M;e:for(;H!==null;){switch(H.tag){case 5:$e=H.stateNode,Dt=!1;break e;case 3:$e=H.stateNode.containerInfo,Dt=!0;break e;case 4:$e=H.stateNode.containerInfo,Dt=!0;break e}H=H.return}if($e===null)throw Error(o(160));ca(d,M,s),$e=null,Dt=!1}else ca(d,M,s);var Q=s.alternate;Q!==null&&(Q.return=null),s.return=null}catch(ie){Oe(s,t,ie)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wl(t,e),t=t.sibling}function wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),Kt(e),r&4){try{dr(3,e,e.return),Di(3,e)}catch(ue){Oe(e,e.return,ue)}try{dr(5,e,e.return)}catch(ue){Oe(e,e.return,ue)}}break;case 1:Gt(t,e),Kt(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(Gt(t,e),Kt(e),r&512&&n!==null&&Kn(n,n.return),le){if(e.flags&32){var s=e.stateNode;try{no(s)}catch(ue){Oe(e,e.return,ue)}}if(r&4&&(s=e.stateNode,s!=null)){var d=e.memoizedProps;if(n=n!==null?n.memoizedProps:d,r=e.type,t=e.updateQueue,e.updateQueue=null,t!==null)try{xn(s,t,r,n,d,e)}catch(ue){Oe(e,e.return,ue)}}}break;case 6:if(Gt(t,e),Kt(e),r&4&&le){if(e.stateNode===null)throw Error(o(162));s=e.stateNode,d=e.memoizedProps,n=n!==null?n.memoizedProps:d;try{rt(s,n,d)}catch(ue){Oe(e,e.return,ue)}}break;case 3:if(Gt(t,e),Kt(e),r&4){if(le&&fe&&n!==null&&n.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(ue){Oe(e,e.return,ue)}if(pe){s=t.containerInfo,d=t.pendingChildren;try{gs(s,d)}catch(ue){Oe(e,e.return,ue)}}}break;case 4:if(Gt(t,e),Kt(e),r&4&&pe){d=e.stateNode,s=d.containerInfo,d=d.pendingChildren;try{gs(s,d)}catch(ue){Oe(e,e.return,ue)}}break;case 13:Gt(t,e),Kt(e),s=e.child,s.flags&8192&&(d=s.memoizedState!==null,s.stateNode.isHidden=d,!d||s.alternate!==null&&s.alternate.memoizedState!==null||(va=Ye())),r&4&&xl(e);break;case 22:var M=n!==null&&n.memoizedState!==null;if(e.mode&1?(lt=(n=lt)||M,Gt(t,e),lt=n):Gt(t,e),Kt(e),r&8192){if(n=e.memoizedState!==null,(e.stateNode.isHidden=n)&&!M&&(e.mode&1)!==0)for(he=e,r=e.child;r!==null;){for(t=he=r;he!==null;){M=he;var H=M.child;switch(M.tag){case 0:case 11:case 14:case 15:dr(4,M,M.return);break;case 1:Kn(M,M.return);var Q=M.stateNode;if(typeof Q.componentWillUnmount=="function"){var ie=M,de=M.return;try{var ye=ie;Q.props=ye.memoizedProps,Q.state=ye.memoizedState,Q.componentWillUnmount()}catch(ue){Oe(ie,de,ue)}}break;case 5:Kn(M,M.return);break;case 22:if(M.memoizedState!==null){El(t);continue}}H!==null?(H.return=M,he=H):El(t)}r=r.sibling}if(le){e:if(r=null,le)for(t=e;;){if(t.tag===5){if(r===null){r=t;try{s=t.stateNode,n?Yc(s):Qc(t.stateNode,t.memoizedProps)}catch(ue){Oe(e,e.return,ue)}}}else if(t.tag===6){if(r===null)try{d=t.stateNode,n?Xc(d):Jc(d,t.memoizedProps)}catch(ue){Oe(e,e.return,ue)}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}}break;case 19:Gt(t,e),Kt(e),r&4&&xl(e);break;case 21:break;default:Gt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{if(le){e:{for(var n=e.return;n!==null;){if(Sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(no(s),r.flags&=-33);var d=Cl(e);ua(e,d,s);break;case 3:case 4:var M=r.stateNode.containerInfo,H=Cl(e);la(e,H,M);break;default:throw Error(o(161))}}}catch(Q){Oe(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jh(e,t,n){he=e,Al(e)}function Al(e,t,n){for(var r=(e.mode&1)!==0;he!==null;){var s=he,d=s.child;if(s.tag===22&&r){var M=s.memoizedState!==null||Oi;if(!M){var H=s.alternate,Q=H!==null&&H.memoizedState!==null||lt;H=Oi;var ie=lt;if(Oi=M,(lt=Q)&&!ie)for(he=s;he!==null;)M=he,Q=M.child,M.tag===22&&M.memoizedState!==null?Tl(s):Q!==null?(Q.return=M,he=Q):Tl(s);for(;d!==null;)he=d,Al(d),d=d.sibling;he=s,Oi=H,lt=ie}Pl(e)}else(s.subtreeFlags&8772)!==0&&d!==null?(d.return=s,he=d):Pl(e)}}function Pl(e){for(;he!==null;){var t=he;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:lt||Di(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Ro(t,d,r);break;case 3:var M=t.updateQueue;if(M!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=re(t.child.stateNode);break;case 1:n=t.child.stateNode}Ro(t,M,n)}break;case 5:var H=t.stateNode;n===null&&t.flags&4&&it(H,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&t.memoizedState===null){var Q=t.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var de=ie.dehydrated;de!==null&&gh(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}lt||t.flags&512&&oa(t)}catch(ye){Oe(t,t.return,ye)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function El(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function Tl(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Di(4,t)}catch(Q){Oe(t,n,Q)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(Q){Oe(t,s,Q)}}var d=t.return;try{oa(t)}catch(Q){Oe(t,d,Q)}break;case 5:var M=t.return;try{oa(t)}catch(Q){Oe(t,M,Q)}}}catch(Q){Oe(t,t.return,Q)}if(t===e){he=null;break}var H=t.sibling;if(H!==null){H.return=t.return,he=H;break}he=t.return}}var Gi=0,Bi=1,Ui=2,zi=3,Vi=4;if(typeof Symbol=="function"&&Symbol.for){var fr=Symbol.for;Gi=fr("selector.component"),Bi=fr("selector.has_pseudo_class"),Ui=fr("selector.role"),zi=fr("selector.test_id"),Vi=fr("selector.text")}function ha(e){var t=Re(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(o(364));return t}if(e=Cn(e),e===null)throw Error(o(362));return e.stateNode.current}function da(e,t){switch(t.$$typeof){case Gi:if(e.type===t.value)return!0;break;case Bi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],s=e[n++],d=t[s];if(r.tag!==5||!tt(r)){for(;d!=null&&da(r,d);)s++,d=t[s];if(s===t.length){t=!0;break e}else for(r=r.child;r!==null;)e.push(r,s),r=r.sibling}}t=!1}return t;case Ui:if(e.tag===5&&Yt(e.stateNode,t.value))return!0;break;case Vi:if((e.tag===5||e.tag===6)&&(e=St(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case zi:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function fa(e){switch(e.$$typeof){case Gi:return"<"+(U(e.value)||"Unknown")+">";case Bi:return":has("+(fa(e)||"")+")";case Ui:return'[role="'+e.value+'"]';case Vi:return'"'+e.value+'"';case zi:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Rl(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var s=e[r++],d=e[r++],M=t[d];if(s.tag!==5||!tt(s)){for(;M!=null&&da(s,M);)d++,M=t[d];if(d===t.length)n.push(s);else for(s=s.child;s!==null;)e.push(s,d),s=s.sibling}}return n}function ga(e,t){if(!Ke)throw Error(o(363));e=ha(e),e=Rl(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(r.tag===5)tt(r)||t.push(r.stateNode);else for(r=r.child;r!==null;)e.push(r),r=r.sibling}return t}var Zh=Math.ceil,ji=u.ReactCurrentDispatcher,pa=u.ReactCurrentOwner,ze=u.ReactCurrentBatchConfig,xe=0,Qe=null,je=null,et=0,wt=0,Yn=an(0),qe=0,gr=null,Rn=0,Hi=0,ma=0,pr=null,pt=null,va=0,ya=1/0,en=null;function Xn(){ya=Ye()+500}var Wi=!1,_a=null,cn=null,qi=!1,hn=null,Ki=0,mr=0,Sa=null,Yi=-1,Xi=0;function ut(){return(xe&6)!==0?Ye():Yi!==-1?Yi:Yi=Ye()}function dn(e){return(e.mode&1)===0?1:(xe&2)!==0&&et!==0?et&-et:Lh.transition!==null?(Xi===0&&(Xi=ho()),Xi):(e=Pe,e!==0?e:He())}function Nt(e,t,n,r){if(50<mr)throw mr=0,Sa=null,Error(o(185));er(e,n,r),((xe&2)===0||e!==Qe)&&(e===Qe&&((xe&2)===0&&(Hi|=n),qe===4&&fn(e,et)),mt(e,r),n===1&&xe===0&&(t.mode&1)===0&&(Xn(),pi&&zt()))}function mt(e,t){var n=e.callbackNode;Ph(e,t);var r=fi(e,e===Qe?et:0);if(r===0)n!==null&&go(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&go(n),t===1)e.tag===0?Mh(bl.bind(null,e)):po(bl.bind(null,e)),De?sn(function(){(xe&6)===0&&zt()}):ws(As,zt),n=null;else{switch(fo(r)){case 1:n=As;break;case 4:n=kh;break;case 16:n=Ps;break;case 536870912:n=bh;break;default:n=Ps}n=Bl(n,kl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kl(e,t){if(Yi=-1,Xi=0,(xe&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var r=fi(e,e===Qe?et:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Qi(e,r);else{t=r;var s=xe;xe|=2;var d=Ml();(Qe!==e||et!==t)&&(en=null,Xn(),kn(e,t));do try{td();break}catch(H){Fl(e,H)}while(!0);Ms(),ji.current=d,xe=s,je!==null?t=0:(Qe=null,et=0,t=qe)}if(t!==0){if(t===2&&(s=Ss(e),s!==0&&(r=s,t=Ca(e,s))),t===1)throw n=gr,kn(e,0),fn(e,r),mt(e,Ye()),n;if(t===6)fn(e,r);else{if(s=e.current.alternate,(r&30)===0&&!$h(s)&&(t=Qi(e,r),t===2&&(d=Ss(e),d!==0&&(r=d,t=Ca(e,d))),t===1))throw n=gr,kn(e,0),fn(e,r),mt(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:bn(e,pt,en);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=va+500-Ye(),10<t)){if(fi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=D(bn.bind(null,e,pt,en),t);break}bn(e,pt,en);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var M=31-Mt(r);d=1<<M,M=t[M],M>s&&(s=M),r&=~d}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zh(r/1960))-r,10<r){e.timeoutHandle=D(bn.bind(null,e,pt,en),r);break}bn(e,pt,en);break;case 5:bn(e,pt,en);break;default:throw Error(o(329))}}}return mt(e,Ye()),e.callbackNode===n?kl.bind(null,e):null}function Ca(e,t){var n=pr;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=pt,pt=n,t!==null&&xa(t)),e}function xa(e){pt===null?pt=e:pt.push.apply(pt,e)}function $h(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],d=s.getSnapshot;s=s.value;try{if(!Lt(d(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~ma,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if((xe&6)!==0)throw Error(o(327));Nn();var t=fi(e,0);if((t&1)===0)return mt(e,Ye()),null;var n=Qi(e,t);if(e.tag!==0&&n===2){var r=Ss(e);r!==0&&(t=r,n=Ca(e,r))}if(n===1)throw n=gr,kn(e,0),fn(e,t),mt(e,Ye()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,pt,en),mt(e,Ye()),null}function Nl(e){hn!==null&&hn.tag===0&&(xe&6)===0&&Nn();var t=xe;xe|=1;var n=ze.transition,r=Pe;try{if(ze.transition=null,Pe=1,e)return e()}finally{Pe=r,ze.transition=n,xe=t,(xe&6)===0&&zt()}}function wa(){wt=Yn.current,Me(Yn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==se&&(e.timeoutHandle=se,Y(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Rs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ui();break;case 3:Wn(),Me(dt),Me(st),zs();break;case 5:Bs(r);break;case 4:Wn();break;case 13:Me(Ge);break;case 19:Me(Ge);break;case 10:Ls(r.type._context);break;case 22:case 23:wa()}n=n.return}if(Qe=e,je=e=gn(e.current,null),et=wt=t,qe=0,gr=null,ma=Hi=Rn=0,pt=pr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,d=n.pending;if(d!==null){var M=d.next;d.next=s,r.next=M}n.pending=r}En=null}return e}function Fl(e,t){do{var n=je;try{if(Ms(),Ei.current=bi,Ti){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ti=!1}if(Tn=0,Xe=We=Be=null,sr=!1,ar=0,pa.current=null,n===null||n.return===null){qe=1,gr=t,je=null;break}e:{var d=e,M=n.return,H=n,Q=t;if(t=et,H.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ie=Q,de=H,ye=de.tag;if((de.mode&1)===0&&(ye===0||ye===11||ye===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Le=rl(M);if(Le!==null){Le.flags&=-257,il(Le,M,H,d,t),Le.mode&1&&nl(d,ie,t),t=Le,Q=ie;var be=t.updateQueue;if(be===null){var vt=new Set;vt.add(Q),t.updateQueue=vt}else be.add(Q);break e}else{if((t&1)===0){nl(d,ie,t),Aa();break e}Q=Error(o(426))}}else if(Ie&&H.mode&1){var tn=rl(M);if(tn!==null){(tn.flags&65536)===0&&(tn.flags|=256),il(tn,M,H,d,t),Ns(qn(Q,H));break e}}d=Q=qn(Q,H),qe!==4&&(qe=2),pr===null?pr=[d]:pr.push(d),d=M;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var X=el(d,Q,t);To(d,X);break e;case 1:H=Q;var q=d.type,$=d.stateNode;if((d.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(cn===null||!cn.has($)))){d.flags|=65536,t&=-t,d.lanes|=t;var ce=tl(d,H,t);To(d,ce);break e}}d=d.return}while(d!==null)}Il(n)}catch(ge){t=ge,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Ml(){var e=ji.current;return ji.current=bi,e===null?bi:e}function Aa(){(qe===0||qe===3||qe===2)&&(qe=4),Qe===null||(Rn&268435455)===0&&(Hi&268435455)===0||fn(Qe,et)}function Qi(e,t){var n=xe;xe|=2;var r=Ml();(Qe!==e||et!==t)&&(en=null,kn(e,t));do try{ed();break}catch(s){Fl(e,s)}while(!0);if(Ms(),xe=n,ji.current=r,je!==null)throw Error(o(261));return Qe=null,et=0,qe}function ed(){for(;je!==null;)Ll(je)}function td(){for(;je!==null&&!Th();)Ll(je)}function Ll(e){var t=Gl(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Il(e):je=t,pa.current=null}function Il(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Kh(n,t,wt),n!==null){je=n;return}}else{if(n=Yh(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,je=null;return}}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);qe===0&&(qe=5)}function bn(e,t,n){var r=Pe,s=ze.transition;try{ze.transition=null,Pe=1,nd(e,t,n,r)}finally{ze.transition=s,Pe=r}return null}function nd(e,t,n,r){do Nn();while(hn!==null);if((xe&6)!==0)throw Error(o(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(Eh(e,d),e===Qe&&(je=Qe=null,et=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||qi||(qi=!0,Bl(Ps,function(){return Nn(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=ze.transition,ze.transition=null;var M=Pe;Pe=1;var H=xe;xe|=4,pa.current=null,Qh(e,n),wl(n,e),I(e.containerInfo),e.current=n,Jh(n),Rh(),xe=H,Pe=M,ze.transition=d}else e.current=n;if(qi&&(qi=!1,hn=e,Ki=s),d=e.pendingLanes,d===0&&(cn=null),Nh(n.stateNode),mt(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wi)throw Wi=!1,e=_a,_a=null,e;return(Ki&1)!==0&&e.tag!==0&&Nn(),d=e.pendingLanes,(d&1)!==0?e===Sa?mr++:(mr=0,Sa=e):mr=0,zt(),null}function Nn(){if(hn!==null){var e=fo(Ki),t=ze.transition,n=Pe;try{if(ze.transition=null,Pe=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,Ki=0,(xe&6)!==0)throw Error(o(331));var s=xe;for(xe|=4,he=e.current;he!==null;){var d=he,M=d.child;if((he.flags&16)!==0){var H=d.deletions;if(H!==null){for(var Q=0;Q<H.length;Q++){var ie=H[Q];for(he=ie;he!==null;){var de=he;switch(de.tag){case 0:case 11:case 15:dr(8,de,d)}var ye=de.child;if(ye!==null)ye.return=de,he=ye;else for(;he!==null;){de=he;var ue=de.sibling,Le=de.return;if(_l(de),de===ie){he=null;break}if(ue!==null){ue.return=Le,he=ue;break}he=Le}}}var be=d.alternate;if(be!==null){var vt=be.child;if(vt!==null){be.child=null;do{var tn=vt.sibling;vt.sibling=null,vt=tn}while(vt!==null)}}he=d}}if((d.subtreeFlags&2064)!==0&&M!==null)M.return=d,he=M;else e:for(;he!==null;){if(d=he,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:dr(9,d,d.return)}var X=d.sibling;if(X!==null){X.return=d.return,he=X;break e}he=d.return}}var q=e.current;for(he=q;he!==null;){M=he;var $=M.child;if((M.subtreeFlags&2064)!==0&&$!==null)$.return=M,he=$;else e:for(M=q;he!==null;){if(H=he,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Di(9,H)}}catch(ge){Oe(H,H.return,ge)}if(H===M){he=null;break e}var ce=H.sibling;if(ce!==null){ce.return=H.return,he=ce;break e}he=H.return}}if(xe=s,zt(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(gi,e)}catch{}r=!0}return r}finally{Pe=n,ze.transition=t}}return!1}function Ol(e,t,n){t=qn(n,t),t=el(e,t,1),e=un(e,t,1),t=ut(),e!==null&&(er(e,1,t),mt(e,t))}function Oe(e,t,n){if(e.tag===3)Ol(e,e,n);else for(;t!==null;){if(t.tag===3){Ol(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=qn(n,e),e=tl(t,e,1),t=un(t,e,1),e=ut(),t!==null&&(er(t,1,e),mt(t,e));break}}t=t.return}}function rd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(et&n)===n&&(qe===4||qe===3&&(et&130023424)===et&&500>Ye()-va?kn(e,0):ma|=n),mt(e,t)}function Dl(e,t){t===0&&((e.mode&1)===0?t=1:(t=di,di<<=1,(di&130023424)===0&&(di=4194304)));var n=ut();e=Vt(e,t),e!==null&&(er(e,t,n),mt(e,n))}function id(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dl(e,n)}function sd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Dl(e,n)}var Gl;Gl=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)gt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return gt=!1,qh(e,t,n);gt=(e.flags&131072)!==0}else gt=!1,Ie&&(t.flags&1048576)!==0&&mo(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mi(e,t),e=t.pendingProps;var s=Dn(t,st.current);jn(t,n),s=Hs(null,t,r,e,s,n);var d=Ws();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(d=!0,ci(t)):d=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ds(t),s.updater=Ni,t.stateNode=s,s._reactInternals=t,Js(t,r,e,n),t=ta(null,t,r,!0,d,n)):(t.tag=0,Ie&&d&&Ts(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=od(r),e=Ot(r,e),s){case 0:t=ea(null,t,r,e,n);break e;case 1:t=cl(null,t,r,e,n);break e;case 11:t=sl(null,t,r,e,n);break e;case 14:t=al(null,t,r,Ot(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),ea(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),cl(e,t,r,s,n);case 3:e:{if(hl(t),e===null)throw Error(o(387));r=t.pendingProps,d=t.memoizedState,s=d.element,Eo(e,t),Ai(t,r,null,n);var M=t.memoizedState;if(r=M.element,fe&&d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){s=qn(Error(o(423)),t),t=dl(e,t,r,n,s);break e}else if(r!==s){s=qn(Error(o(424)),t),t=dl(e,t,r,n,s);break e}else for(fe&&(Tt=oh(t.stateNode.containerInfo),xt=t,Ie=!0,It=null,tr=!1),n=wo(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),r===s){t=$t(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return ko(t),e===null&&bs(t),r=t.type,s=t.pendingProps,d=e!==null?e.memoizedProps:null,M=s.children,ae(r,s)?M=null:d!==null&&ae(r,d)&&(t.flags|=32),ul(e,t),ct(e,t,M,n),t.child;case 6:return e===null&&bs(t),null;case 13:return fl(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zn(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),sl(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,d=t.memoizedProps,M=s.value,Ao(t,r,M),d!==null)if(Lt(d.value,M)){if(d.children===s.children&&!dt.current){t=$t(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var H=d.dependencies;if(H!==null){M=d.child;for(var Q=H.firstContext;Q!==null;){if(Q.context===r){if(d.tag===1){Q=Zt(-1,n&-n),Q.tag=2;var ie=d.updateQueue;if(ie!==null){ie=ie.shared;var de=ie.pending;de===null?Q.next=Q:(Q.next=de.next,de.next=Q),ie.pending=Q}}d.lanes|=n,Q=d.alternate,Q!==null&&(Q.lanes|=n),Is(d.return,n,t),H.lanes|=n;break}Q=Q.next}}else if(d.tag===10)M=d.type===t.type?null:d.child;else if(d.tag===18){if(M=d.return,M===null)throw Error(o(341));M.lanes|=n,H=M.alternate,H!==null&&(H.lanes|=n),Is(M,n,t),M=d.sibling}else M=d.child;if(M!==null)M.return=d;else for(M=d;M!==null;){if(M===t){M=null;break}if(d=M.sibling,d!==null){d.return=M.return,M=d;break}M=M.return}d=M}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,jn(t,n),s=Rt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=Ot(r,t.pendingProps),s=Ot(r.type,s),al(e,t,r,s,n);case 15:return ol(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Mi(e,t),t.tag=1,ft(r)?(e=!0,ci(t)):e=!1,jn(t,n),Zo(t,r,s),Js(t,r,s,n),ta(null,t,r,!0,e,n);case 19:return pl(e,t,n);case 22:return ll(e,t,n)}throw Error(o(156,t.tag))};function Bl(e,t){return ws(e,t)}function ad(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new ad(e,t,n,r)}function Pa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function od(e){if(typeof e=="function")return Pa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===w)return 11;if(e===g)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ji(e,t,n,r,s,d){var M=2;if(r=e,typeof e=="function")Pa(e)&&(M=1);else if(typeof e=="string")M=5;else e:switch(e){case m:return Fn(n.children,s,d,t);case A:M=8,s|=8;break;case _:return e=Ft(12,n,t,s|2),e.elementType=_,e.lanes=d,e;case T:return e=Ft(13,n,t,s),e.elementType=T,e.lanes=d,e;case F:return e=Ft(19,n,t,s),e.elementType=F,e.lanes=d,e;case x:return Zi(n,s,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f:M=10;break e;case p:M=9;break e;case w:M=11;break e;case g:M=14;break e;case l:M=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ft(M,n,t,s),t.elementType=e,t.type=r,t.lanes=d,t}function Fn(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function Zi(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=x,e.lanes=n,e.stateNode={isHidden:!1},e}function Ea(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ld(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cs(0),this.expirationTimes=Cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.identifierPrefix=r,this.onRecoverableError=s,fe&&(this.mutableSourceEagerHydrationData=null)}function Ul(e,t,n,r,s,d,M,H,Q){return e=new ld(e,t,n,H,Q),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Ft(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(d),e}function zl(e){if(!e)return on;e=e._reactInternals;e:{if(b(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ft(n))return uo(e,n,t)}return t}function Vl(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=z(t),e===null?null:e.stateNode}function jl(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $i(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}function ud(e){return e=z(e),e===null?null:e.stateNode}function cd(){return null}return y.attemptContinuousHydration=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=ut();Nt(t,e,134217728,n)}$i(e,134217728)}},y.attemptDiscreteHydration=function(e){if(e.tag===13){var t=Vt(e,1);if(t!==null){var n=ut();Nt(t,e,1,n)}$i(e,1)}},y.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=dn(e),n=Vt(e,t);if(n!==null){var r=ut();Nt(n,e,t,r)}$i(e,t)}},y.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$n(t.pendingLanes);n!==0&&(xs(t,n|1),mt(t,Ye()),(xe&6)===0&&(Xn(),zt()))}break;case 13:Nl(function(){var r=Vt(e,1);if(r!==null){var s=ut();Nt(r,e,1,s)}}),$i(e,1)}},y.batchedUpdates=function(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Xn(),pi&&zt())}},y.createComponentSelector=function(e){return{$$typeof:Gi,value:e}},y.createContainer=function(e,t,n,r,s,d,M){return Ul(e,t,!1,null,n,r,s,d,M)},y.createHasPseudoClassSelector=function(e){return{$$typeof:Bi,value:e}},y.createHydrationContainer=function(e,t,n,r,s,d,M,H,Q){return e=Ul(n,r,!0,e,s,d,M,H,Q),e.context=zl(null),n=e.current,r=ut(),s=dn(n),d=Zt(r,s),d.callback=t??null,un(n,d,s),e.current.lanes=s,er(e,s,r),mt(e,r),e},y.createPortal=function(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}},y.createRoleSelector=function(e){return{$$typeof:Ui,value:e}},y.createTestNameSelector=function(e){return{$$typeof:zi,value:e}},y.createTextSelector=function(e){return{$$typeof:Vi,value:e}},y.deferredUpdates=function(e){var t=Pe,n=ze.transition;try{return ze.transition=null,Pe=16,e()}finally{Pe=t,ze.transition=n}},y.discreteUpdates=function(e,t,n,r,s){var d=Pe,M=ze.transition;try{return ze.transition=null,Pe=1,e(t,n,r,s)}finally{Pe=d,ze.transition=M,xe===0&&Xn()}},y.findAllNodes=ga,y.findBoundingRects=function(e,t){if(!Ke)throw Error(o(363));t=ga(e,t),e=[];for(var n=0;n<t.length;n++)e.push(Ne(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,s=r+n.width,d=n.y,M=d+n.height,H=t-1;0<=H;H--)if(t!==H){var Q=e[H],ie=Q.x,de=ie+Q.width,ye=Q.y,ue=ye+Q.height;if(r>=ie&&d>=ye&&s<=de&&M<=ue){e.splice(t,1);break}else if(r!==ie||n.width!==Q.width||ue<d||ye>M){if(!(d!==ye||n.height!==Q.height||de<r||ie>s)){ie>r&&(Q.width+=ie-r,Q.x=r),de<s&&(Q.width=s-ie),e.splice(t,1);break}}else{ye>d&&(Q.height+=ye-d,Q.y=d),ue<M&&(Q.height=M-ye),e.splice(t,1);break}}}return e},y.findHostInstance=Vl,y.findHostInstanceWithNoPortals=function(e){return e=G(e),e=e!==null?K(e):null,e===null?null:e.stateNode},y.findHostInstanceWithWarning=function(e){return Vl(e)},y.flushControlled=function(e){var t=xe;xe|=1;var n=ze.transition,r=Pe;try{ze.transition=null,Pe=1,e()}finally{Pe=r,ze.transition=n,xe=t,xe===0&&(Xn(),zt())}},y.flushPassiveEffects=Nn,y.flushSync=Nl,y.focusWithin=function(e,t){if(!Ke)throw Error(o(363));for(e=ha(e),t=Rl(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!tt(n)){if(n.tag===5&&nt(n.stateNode))return!0;for(n=n.child;n!==null;)t.push(n),n=n.sibling}}return!1},y.getCurrentUpdatePriority=function(){return Pe},y.getFindAllNodesFailureDescription=function(e,t){if(!Ke)throw Error(o(363));var n=0,r=[];e=[ha(e),0];for(var s=0;s<e.length;){var d=e[s++],M=e[s++],H=t[M];if((d.tag!==5||!tt(d))&&(da(d,H)&&(r.push(fa(H)),M++,M>n&&(n=M)),M<t.length))for(d=d.child;d!==null;)e.push(d,M),d=d.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(fa(t[n]));return`findAllNodes was able to match part of the selector:
  `+(r.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},y.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return re(e.child.stateNode);default:return e.child.stateNode}},y.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:ud,findFiberByHostInstance:e.findFiberByHostInstance||cd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{gi=t.inject(e),Ut=t}catch{}e=!!t.checkDCE}}return e},y.isAlreadyRendering=function(){return!1},y.observeVisibleRects=function(e,t,n,r){if(!Ke)throw Error(o(363));e=ga(e,t);var s=Bt(e,n,r).disconnect;return{disconnect:function(){s()}}},y.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},y.runWithPriority=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}},y.shouldError=function(){return null},y.shouldSuspend=function(){return!1},y.updateContainer=function(e,t,n,r){var s=t.current,d=ut(),M=dn(s);return n=zl(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(d,M),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(s,t,M),e!==null&&(Nt(e,s,M,d),wi(e,s,M)),M},y}),Ba}var sc;function Cf(){return sc||(sc=1,Ga.exports=Sf()),Ga.exports}var xf=Cf();const wf=Ha(xf);var Ua={exports:{}},vn={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac;function Af(){return ac||(ac=1,vn.ConcurrentRoot=1,vn.ContinuousEventPriority=4,vn.DefaultEventPriority=16,vn.DiscreteEventPriority=1,vn.IdleEventPriority=536870912,vn.LegacyRoot=0),vn}var oc;function Pf(){return oc||(oc=1,Ua.exports=Af()),Ua.exports}var Oc=Pf(),Ef=Ce();const lc={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let uc=!1,cc=!1;const Za=".react-konva-event",Tf=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Rf=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,kf={};function hs(i,a,y=kf){if(!uc&&"zIndex"in a&&(console.warn(Rf),uc=!0),!cc&&a.draggable){var C=a.x!==void 0||a.y!==void 0,S=a.onDragEnd||a.onDragMove;C&&!S&&(console.warn(Tf),cc=!0)}for(var c in y)if(!lc[c]){var o=c.slice(0,2)==="on",u=y[c]!==a[c];if(o&&u){var h=c.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),i.off(h,y[c])}var v=!a.hasOwnProperty(c);v&&i.setAttr(c,void 0)}var m=a._useStrictMode,A={},_=!1;const f={};for(var c in a)if(!lc[c]){var o=c.slice(0,2)==="on",p=y[c]!==a[c];if(o&&p){var h=c.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),a[c]&&(f[h]=a[c])}!o&&(a[c]!==y[c]||m&&a[c]!==i.getAttr(c))&&(_=!0,A[c]=a[c])}_&&(i.setAttrs(A),Sn(i));for(var h in f)i.on(h+Za,f[h])}function Sn(i){if(!Ef.Konva.autoDrawEnabled){var a=i.getLayer()||i.getStage();a&&a.batchDraw()}}var za=yc();const Dc={},bf={};ai.Node.prototype._applyProps=hs;function Nf(i,a){if(typeof a=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${a}`);return}i.add(a),Sn(i)}function Ff(i,a,y){let C=ai[i];C||(console.error(`Konva has no node with the type ${i}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${i}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),C=ai.Group);const S={},c={};for(var o in a){var u=o.slice(0,2)==="on";u?c[o]=a[o]:S[o]=a[o]}const h=new C(S);return hs(h,c),h}function Mf(i,a,y){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${i}"`)}function Lf(i,a,y){return!1}function If(i){return i}function Of(){return null}function Df(){return null}function Gf(i,a,y,C){return bf}function Bf(){}function Uf(i){}function zf(i,a){return!1}function Vf(){return Dc}function jf(){return Dc}const Hf=setTimeout,Wf=clearTimeout,qf=-1;function Kf(i,a){return!1}const Yf=!1,Xf=!0,Qf=!0;function Jf(i,a){a.parent===i?a.moveToTop():i.add(a),Sn(i)}function Zf(i,a){a.parent===i?a.moveToTop():i.add(a),Sn(i)}function Gc(i,a,y){a._remove(),i.add(a),a.setZIndex(y.getZIndex()),Sn(i)}function $f(i,a,y){Gc(i,a,y)}function e1(i,a){a.destroy(),a.off(Za),Sn(i)}function t1(i,a){a.destroy(),a.off(Za),Sn(i)}function n1(i,a,y){console.error(`Text components are not yet supported in ReactKonva. You text is: "${y}"`)}function r1(i,a,y){}function i1(i,a,y,C,S){hs(i,S,C)}function s1(i){i.hide(),Sn(i)}function a1(i){}function o1(i,a){(a.visible==null||a.visible)&&i.show()}function l1(i,a){}function u1(i){}function c1(){}const h1=()=>Oc.DefaultEventPriority,d1=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Jf,appendChildToContainer:Zf,appendInitialChild:Nf,cancelTimeout:Wf,clearContainer:u1,commitMount:r1,commitTextUpdate:n1,commitUpdate:i1,createInstance:Ff,createTextInstance:Mf,detachDeletedInstance:c1,finalizeInitialChildren:Lf,getChildHostContext:jf,getCurrentEventPriority:h1,getPublicInstance:If,getRootHostContext:Vf,hideInstance:s1,hideTextInstance:a1,idlePriority:za.unstable_IdlePriority,insertBefore:Gc,insertInContainerBefore:$f,isPrimaryRenderer:Yf,noTimeout:qf,now:za.unstable_now,prepareForCommit:Of,preparePortalMount:Df,prepareUpdate:Gf,removeChild:e1,removeChildFromContainer:t1,resetAfterCommit:Bf,resetTextContent:Uf,run:za.unstable_runWithPriority,scheduleTimeout:Hf,shouldDeprioritizeSubtree:zf,shouldSetTextContent:Kf,supportsMutation:Qf,unhideInstance:o1,unhideTextInstance:l1,warnsIfNotActing:Xf},Symbol.toStringTag,{value:"Module"}));var f1=Object.defineProperty,g1=Object.defineProperties,p1=Object.getOwnPropertyDescriptors,hc=Object.getOwnPropertySymbols,m1=Object.prototype.hasOwnProperty,v1=Object.prototype.propertyIsEnumerable,dc=(i,a,y)=>a in i?f1(i,a,{enumerable:!0,configurable:!0,writable:!0,value:y}):i[a]=y,fc=(i,a)=>{for(var y in a||(a={}))m1.call(a,y)&&dc(i,y,a[y]);if(hc)for(var y of hc(a))v1.call(a,y)&&dc(i,y,a[y]);return i},y1=(i,a)=>g1(i,p1(a)),gc,pc;typeof window<"u"&&((gc=window.document)!=null&&gc.createElement||((pc=window.navigator)==null?void 0:pc.product)==="ReactNative")?ee.useLayoutEffect:ee.useEffect;function Bc(i,a,y){if(!i)return;if(y(i)===!0)return i;let C=i.child;for(;C;){const S=Bc(C,a,y);if(S)return S;C=C.sibling}}function Uc(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const mc=console.error;console.error=function(){const i=[...arguments].join("");if(i?.startsWith("Warning:")&&i.includes("useContext")){console.error=mc;return}return mc.apply(this,arguments)};const $a=Uc(ee.createContext(null));class zc extends ee.Component{render(){return ee.createElement($a.Provider,{value:this._reactInternals},this.props.children)}}function _1(){const i=ee.useContext($a);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=ee.useId();return ee.useMemo(()=>{for(const C of[i,i?.alternate]){if(!C)continue;const S=Bc(C,!1,c=>{let o=c.memoizedState;for(;o;){if(o.memoizedState===a)return!0;o=o.next}});if(S)return S}},[i,a])}function S1(){const i=_1(),[a]=ee.useState(()=>new Map);a.clear();let y=i;for(;y;){if(y.type&&typeof y.type=="object"){const S=y.type._context===void 0&&y.type.Provider===y.type?y.type:y.type._context;S&&S!==$a&&!a.has(S)&&a.set(S,ee.useContext(Uc(S)))}y=y.return}return a}function C1(){const i=S1();return ee.useMemo(()=>Array.from(i.keys()).reduce((a,y)=>C=>ee.createElement(a,null,ee.createElement(y.Provider,y1(fc({},C),{value:i.get(y)}))),a=>ee.createElement(zc,fc({},a))),[i])}function x1(i){const a=me.useRef({});return me.useLayoutEffect(()=>{a.current=i}),me.useLayoutEffect(()=>()=>{a.current={}},[]),a.current}const w1=i=>{const a=me.useRef(),y=me.useRef(),C=me.useRef(),S=x1(i),c=C1(),o=u=>{const{forwardedRef:h}=i;h&&(typeof h=="function"?h(u):h.current=u)};return me.useLayoutEffect(()=>(y.current=new ai.Stage({width:i.width,height:i.height,container:a.current}),o(y.current),C.current=si.createContainer(y.current,Oc.LegacyRoot,!1,null),si.updateContainer(me.createElement(c,{},i.children),C.current),()=>{ai.isBrowser&&(o(null),si.updateContainer(null,C.current,null),y.current.destroy())}),[]),me.useLayoutEffect(()=>{o(y.current),hs(y.current,i,S),si.updateContainer(me.createElement(c,{},i.children),C.current,null)}),me.createElement("div",{ref:a,id:i.id,accessKey:i.accessKey,className:i.className,role:i.role,style:i.style,tabIndex:i.tabIndex,title:i.title})},A1="Layer",P1="Rect",E1="Text",T1="Transformer",si=wf(d1);si.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:me.version,rendererPackageName:"react-konva"});const R1=me.forwardRef((i,a)=>me.createElement(zc,{},me.createElement(w1,{...i,forwardedRef:a})));var k1="ckc7pf0";const b1=i=>({None:0,Thin:1,Normal:1.5,Thick:2})[i],eo=ee.forwardRef(({canvasState:i},a)=>{const{ref:y}=Cc(()=>{S.current?.nodes([])}),C=ee.useRef(null),S=ee.useRef(null),c=ee.useRef(null),o=ee.useRef(null),u=()=>{if(!C.current||!c.current)return;const m=C.current.getPointerPosition();if(!m)return;const A=m.x,_=m.y;if(A<0||_<0||A>i.canvasWidth||_>i.canvasHeight){const f=i.canvasWidth/2,p=i.canvasHeight/2;c.current.rotation(0);const w=c.current.getClientRect();c.current.setPosition({x:f-w.width/2,y:p-w.height/2})}},h=()=>{S.current&&c.current&&S.current.nodes([c.current])},v=m=>{S.current&&m.target!==c.current&&S.current.nodes([])};return ee.useEffect(()=>{if(!c.current)return;const m=c.current.getClientRect(),A=m.width,_=m.height,f=i.canvasWidth/2,p=i.canvasHeight/2;c.current.setPosition({x:f-A/2,y:p-_/2})},[i.canvasWidth,i.canvasHeight]),ee.useEffect(()=>{if(!o.current)return;i.isBlur&&i.selectedImage?(o.current.cache(),o.current.filters([vf.Filters.Blur]),o.current.blurRadius(10)):o.current.clearCache()},[i.selectedImage,i.isBlur]),te.jsx("div",{ref:y,className:k1,children:te.jsx(R1,{ref:bd(C,a),width:i.canvasWidth,height:i.canvasHeight,children:te.jsxs(A1,{children:[te.jsx(P1,{ref:o,onClick:v,x:0,y:0,width:i.canvasWidth,height:i.canvasHeight,fillPatternImage:i.selectedImage?i.selectedImage:void 0,fill:i.selectedImage?void 0:i.bgColor.hex}),te.jsx(E1,{ref:c,x:i.canvasWidth/2,y:i.canvasHeight/2,fontSize:30,fontFamily:i.fontFamily,fill:i.fontColor.hex,stroke:i.strokeColor.hex,strokeWidth:b1(i.fontStrokeType),fontStyle:i.fontStyle,lineHeight:i.lineHeight,text:i.value,onClick:h,onDragEnd:u,verticalAlign:"middle",onMouseEnter:()=>document.body.style.cursor="pointer",onMouseLeave:()=>document.body.style.cursor="default",align:i.textAlign,draggable:!0}),te.jsx(T1,{ref:S,anchorCornerRadius:10,borderStrokeWidth:2,centeredScaling:!0})]})})})});eo.displayName="CanvasV2";eo.__docgenInfo={description:"",methods:[],displayName:"CanvasV2",props:{canvasState:{required:!0,tsType:{name:"CanvasStateWithColors"},description:""}}};const Vc=({width:i=24,height:a=24,viewBox:y="0 0 24 24",fill:C="#09244B",strokeWidth:S=1})=>te.jsx("svg",{width:i,height:a,viewBox:y,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:te.jsx("g",{id:"页面-1",fill:"none",fillRule:"evenodd",children:te.jsx("g",{id:"Editor",transform:"translate(-192.000000, 0.000000)",fillRule:"nonzero",children:te.jsxs("g",{id:"bold_line",transform:"translate(192.000000, 0.000000)",children:[te.jsx("path",{d:"M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z",id:"MingCute",fillRule:"nonzero"}),te.jsx("path",{d:"M13,3 C15.7614,3 18,5.23858 18,8 C18,9.43071 17.3991,10.7211 16.4359,11.6325 C17.9657,12.4875 19,14.123 19,16 C19,18.6887316 16.8776708,20.8818169 14.2168878,20.9953804 L14,21 L6.1,21 C5.533,21 5.06617778,20.5709778 5.00645481,20.0198548 L5,19.9 L5,4.1 C5,3.53299067 5.42901351,3.06617653 5.98014344,3.00645469 L6.1,3 L13,3 Z M14,13 L7,13 L7,19 L14,19 C15.6569,19 17,17.6569 17,16 C17,14.3431 15.6569,13 14,13 Z M13,5 L7,5 L7,11 L13,11 C14.6569,11 16,9.65685 16,8 C16,6.34315 14.6569,5 13,5 Z",id:"形状",fill:C,stroke:C,strokeWidth:S})]})})})});Vc.__docgenInfo={description:"",methods:[],displayName:"BoldFontIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#09244B'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}}}};const jc=({width:i=24,height:a=24,fill:y="#000000",viewBox:C="0 0 24 24"})=>te.jsxs("svg",{width:i,height:a,viewBox:C,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[te.jsx("title",{children:"ic_fluent_text_italic_24_filled"}),te.jsx("desc",{children:"Created with Sketch."}),te.jsx("g",{id:"🔍-System-Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:te.jsx("g",{id:"ic_fluent_text_italic_24_filled",fill:y,fillRule:"nonzero",children:te.jsx("path",{d:"M10.6485851,18.5 L14.4957557,18.5 C15.047766,18.5 15.4952856,18.9478705 15.4952856,19.5 C15.4952856,20.0521295 15.047766,20.5 14.4957557,20.5 L4.99646479,20.5 C4.44472052,20.5 4,20.0524021 4,19.5 C4,18.9475979 4.44472052,18.5 4.99646479,18.5 L8.50564567,18.5 L13.3322324,5.9993837 L9.99693298,5.9993837 C9.44485457,5.9993837 8.99693298,5.55175319 8.99693298,4.99969185 C8.99693298,4.44763051 9.44485457,4 9.99693298,4 L18.5004701,4 C19.0525073,4 19.5,4.44758938 19.5,4.99969185 C19.5,5.55179432 19.0525073,5.9993837 18.5004701,5.9993837 L15.4751718,5.9993837 L10.6485851,18.5 Z",id:"🎨-Color"})})})]});jc.__docgenInfo={description:"",methods:[],displayName:"FontItalicIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'0 0 24 24'",computed:!1}}}};const Hc=({width:i=24,height:a=24,fill:y="#000000",viewBox:C=`0 0 ${i} ${a}`})=>te.jsx("svg",{fill:y,width:i,height:a,viewBox:C,xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{d:"M5 18h14v3H5zm7.5-14h-1c-.401 0-.764.24-.921.609L5.745 16h2.173l1.273-3h5.604l1.268 3h2.171L13.421 4.61A1 1 0 0 0 12.5 4zm-2.46 7 1.959-4.616L13.95 11h-3.91z"})});Hc.__docgenInfo={description:"",methods:[],displayName:"FontColorIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};const Wc=({width:i=24,height:a=24,fill:y="#000000",viewBox:C="0 0 24 24"})=>te.jsxs("svg",{width:i,height:a,viewBox:C,fill:y,xmlns:"http://www.w3.org/2000/svg",children:[te.jsx("circle",{cx:"12",cy:"6",r:"1.5",fill:y}),te.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:y}),te.jsx("circle",{cx:"12",cy:"18",r:"1.5",fill:y})]});Wc.__docgenInfo={description:"",methods:[],displayName:"MoreDotIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};var N1="var(--_14rheq80)",F1="_14rheq81",M1="_14rheq82",L1="_14rheq83",I1="_14rheq84";const qc=({hasInput:i=!0,label:a,name:y,min:C,max:S,value:c,onChange:o})=>{const u=ee.useMemo(()=>c==="-"?"50% 100%":(+c-C)*100/(S-C)+"% 100%",[C,S,c]),h=ee.useMemo(()=>({...Ac({[N1]:u})}),[u]);return te.jsxs("div",{className:F1,children:[te.jsxs("div",{className:M1,children:[te.jsx("label",{htmlFor:y,className:L1,children:a}),te.jsx("input",{type:"range",step:.1,name:y,min:C,max:S,value:c,onChange:o,className:I1,style:h})]}),i&&te.jsx(as,{width:80,name:y,value:c,onChange:o})]})};qc.__docgenInfo={description:"",methods:[],displayName:"RangeInput",props:{hasInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},value:{required:!0,tsType:{name:"string"},description:""},min:{required:!0,tsType:{name:"number"},description:""},max:{required:!0,tsType:{name:"number"},description:""},label:{required:!0,tsType:{name:"string"},description:""}},composes:["ComponentProps"]};const O1={value:`Simple Thumbnail
Generator 😁`,fontStrokeType:"None",textAlign:"center",fontFamily:"Arial",canvasWidth:600,canvasHeight:400,lineHeight:1,imageType:"png",fontStyle:"normal",isBlur:!1,selectedImage:void 0,isBlockEvent:!1},D1=i=>["canvasWidth","canvasHeight"].includes(i)?()=>"":(y,C)=>!C&&y==="-"?"-":"",Kc=({additionalFontFamily:i,modalPosition:a,isFullWidth:y,onToggle:C})=>{const{ref:S}=Cc(()=>{u.isBlockEvent||o(!1)}),[c,o]=ee.useState(!1),[u,h]=ee.useState(O1),[v,m]=ee.useState({canvasWidth:600,canvasHeight:400}),A=Fd(h,300),[_,f]=Ra("#192841"),[p,w]=Ra("#fff"),[T,F]=Ra("#121212"),g=ee.useRef(null),l=ee.useMemo(()=>({...u,bgColor:_,fontColor:p,strokeColor:T}),[u,_,p,T]),x=ee.useMemo(()=>[...i||[],...h0],[i]),E=ee.useMemo(()=>{const{textAlign:k}=u;return k==="center"?xd:k==="right"?wd:Cd},[u.textAlign]),L=ee.useCallback(()=>{const k=O=>{const{textAlign:I}=O;return I==="center"?"right":I==="right"?"left":"center"};h(O=>({...O,textAlign:k(O)}))},[]),U=ee.useCallback(k=>{F(k),u.fontStrokeType==="None"&&h(O=>({...O,fontStrokeType:"Normal"}))},[u.fontStrokeType,F]),R=ee.useCallback(()=>{h(k=>({...k,isBlockEvent:!k.isBlockEvent}))},[]),b=ee.useCallback(k=>{const O=/[^0-9]/g,{name:I,value:B}=k.target,Z=window.innerWidth,j=D1(I),ne=B.replace(O,j);I==="canvasWidth"&&+ne>Z||(A(ae=>({...ae,[I]:ne})),m(ae=>({...ae,[I]:ne})))},[A]),N=ee.useCallback(k=>{const{name:O,value:I}=k.target;h(B=>({...B,[O]:I}))},[]),G=ee.useCallback((k,O)=>{h(I=>({...I,[k]:O}))},[]),z=ee.useCallback(k=>{h(O=>({...O,selectedImage:void 0,isBlur:!1})),f(k)},[f]),W=ee.useCallback(k=>{const{files:O}=k.target;if(O){const I=new Image;I.src=O[0]&&URL.createObjectURL(O[0]),I.onload=async()=>{m({canvasWidth:I.width,canvasHeight:I.height}),h(B=>({...B,isBlur:!1,selectedImage:I,canvasWidth:I.width,canvasHeight:I.height}))}}},[]),K=ee.useCallback(()=>{h(k=>({...k,isBlur:!k.isBlur}))},[]),V=ee.useCallback(()=>{p0(g,u.imageType)},[u.imageType]),re=ee.useCallback(k=>{h(O=>({...O,fontStyle:O.fontStyle===k?"normal":k}))},[]),P=ee.useCallback(k=>{const{name:O,value:I}=k.target;h(B=>({...B,[O]:+I}))},[]);return te.jsxs("section",{className:S0({modalPosition:a,isFullWidth:y}),children:[te.jsx(Rc,{onToggle:C}),te.jsx("div",{className:C0,children:te.jsxs("div",{className:x0,children:[te.jsx(eo,{ref:g,canvasState:l}),te.jsxs("div",{className:R0,children:[te.jsx(ns,{name:"fontFamily",value:u.fontFamily,onChange:G,children:x.map(k=>te.jsx(rs,{value:k,children:k},k))}),te.jsx(Pc,{onChangeImage:W}),te.jsx(is,{color:_,setColor:z,toggleIsBlockEvent:R,children:te.jsx("img",{src:md,width:20,height:20})}),te.jsx(_n,{hasBorder:!0,onClick:K,children:te.jsx("img",{src:Sd,width:20,height:20})}),te.jsx(ii,{color:"#d3d1d1",height:20,width:1}),te.jsx(_n,{hasBorder:!0,onClick:L,children:te.jsx("img",{src:E,width:20,height:20})}),te.jsx(is,{color:p,setColor:w,toggleIsBlockEvent:R,children:te.jsx(Hc,{width:20,height:20,viewBox:"0 0 24 24"})}),te.jsx(_n,{hasBorder:!0,onClick:()=>re("bold"),children:te.jsx(Vc,{width:20,height:20})}),te.jsx(_n,{hasBorder:!0,onClick:()=>re("italic"),children:te.jsx(jc,{width:20,height:20})}),te.jsx(ii,{color:"#d3d1d1",height:20,width:1}),te.jsx(_n,{hasBorder:!0,isOpen:c,onClick:()=>o(k=>!k),children:te.jsx(Wc,{width:20,height:20})}),c&&te.jsxs("div",{ref:S,className:k0,children:[te.jsx(qc,{hasInput:!1,label:"Line Height",name:"lineHeight",min:-3,max:3,value:String(u.lineHeight),onChange:P}),te.jsx(ii,{color:"#d3d1d1",height:20,width:1}),te.jsx(is,{color:T,setColor:U,toggleIsBlockEvent:R,children:te.jsx("img",{src:vd,width:20,height:20})}),te.jsx(ns,{name:"fontStrokeType",value:u.fontStrokeType,onChange:G,children:d0.map(k=>te.jsx(rs,{value:k,children:k},k))})]})]}),te.jsx("div",{className:T0,children:te.jsx("textarea",{className:A0,name:"value",rows:5,value:u.value,onChange:N,placeholder:"THUMBNAIL TEXT"})}),te.jsxs("div",{className:$l,children:[te.jsx(as,{name:"canvasWidth",label:`Canvas Width (max: ${window.innerWidth}px)`,value:v.canvasWidth,onChange:b,disabled:!!u.selectedImage,width:200}),te.jsx(as,{name:"canvasHeight",label:"Canvas Height",value:v.canvasHeight,onChange:b,disabled:!!u.selectedImage,width:200})]}),te.jsx(ii,{color:"#f3f3f3",height:10,margin:[10,0,0,0]}),te.jsx("div",{className:$l,children:te.jsx(ns,{name:"imageType",label:"Download Image Type",value:u.imageType,onChange:G,children:f0.map(k=>te.jsx(rs,{value:k,children:k},k))})}),te.jsx("div",{className:P0,children:te.jsx("button",{className:E0,onClick:V,children:"DOWNLOAD"})})]})})]})};Kc.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGeneratorContent",props:{additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!0,tsType:{name:"boolean"},description:""},modalPosition:{required:!0,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const G1=i=>{switch(i){case"small":return 24;case"medium":return 32;default:return 40}},to=({isDefaultOpen:i=!1,iconSize:a="medium",iconPosition:y="bottom-right",modalPosition:C="right",isFullWidth:S=!1,additionalFontFamily:c})=>{const[o,u]=ee.useState(i),h=G1(a),v=()=>{u(!o)};return te.jsx(xc,{children:o?te.jsx(Kc,{isFullWidth:S,modalPosition:C,additionalFontFamily:c,onToggle:v}):te.jsx("button",{className:w0({iconPosition:y}),onClick:v,children:te.jsx("img",{src:_d,width:h,height:h})})})};to.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGenerator",props:{iconPosition:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1}},modalPosition:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:"",defaultValue:{value:"'right'",computed:!1}},iconSize:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const a2={title:"components/ThumbnailGenerator",component:to},B1=({modalPosition:i,iconPosition:a,iconSize:y,isFullWidth:C})=>te.jsx(to,{modalPosition:i,iconPosition:a,iconSize:y,isFullWidth:C,isDefaultOpen:!0}),ts=B1.bind({iconSize:"medium",modalPosition:"right",iconPosition:[0,20,20,0],isFullWidth:!1});ts.parameters={...ts.parameters,docs:{...ts.parameters?.docs,source:{originalSource:`Template.bind({
  iconSize: 'medium',
  modalPosition: 'right',
  iconPosition: [0, 20, 20, 0],
  isFullWidth: false
})`,...ts.parameters?.docs?.source}}};const o2=["Default"];export{ts as Default,o2 as __namedExportsOrder,a2 as default};
