import{j as et,r as S0}from"./index-DdnTpj_A.js";import{r as tt,V as Fh,R as mt,c as jh,g as wo,a as g2}from"./iframe-DrwcOS5B.js";import{r as b0}from"./index-onGrzX9M.js";const p2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVR4nO2UQQqAMAwEN37Bfyq+xeqhPrYiRKiF1LbJMQs5NTubQgjgcllqBbABIAWDmLGUDzOAxHUOhhB7X87D/CgoQqiAB6lpz5ouAFMjPB8u1ny9IdQDl0KiYGrtGwohDfwPQhZwaTsOLu1KV3+SLCb/C4mW8PIMaM+Jy4U+3QvhPMbXkfjkAAAAAElFTkSuQmCC",m2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR4nO2UQQqAIBBF/3SF7hl0lsxFHdYYGCElKZyx1Tz4C0PeNxkEHOdPCMAqoRHyACBJTgDTKHmyLCEA8SbdJXkdNddVn/yQb5xN+ycteUZV8iZXlXyVd5U8yafW5p6SoJgOqqaNXQWzwehRVcLOgsXgGSBxsMtxYMMFKrM8y1JyjcUAAAAASUVORK5CYII=",v2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoElEQVR4nO2WUQqAIBBE57TzVZ3DSxf9FASJueusBTnQp/seplPAyMg9CcAEfaZj9mMIYAWwCOHnzNm6YHkDrpRwwxUSzfAWCRncIyGHWyTC4DUS4fCSRDd4TqI7/Fqt2/FEVPe3BXjZ9ohvRzG5d95NgoUDFy7BitMeJkHDVZNL0HHPZRJsKJlmCQoazi1BYb2aJRjQ7SaJ9PZv+ci/sgM32VIN2RJOpwAAAABJRU5ErkJggg==",y2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR4nN2UPQrCQBBGH7Y5lK122lna2CTaxUK9jOCttDPXMBtZmMAgG9xfBD8YSDK735sZhsA/awZcgXMpwBzogQE4loJsFaRYJxvgJZBLKchNAEXGVQNGRVbIThnv1XuWcenKa8d3C2lzVe7K95I/kNk8CeJrHgUJNQ+G6A2JCRPSRRHzWIhR5mtghYf0rg9fzBu5UwGdRJUDYpS51Unl7HPSuIxj0x4qf/cFuDr5rHxUp848SfgvNRNnlmJsYxEKGCFT5r/TG1Z/kWy10vtdAAAAAElFTkSuQmCC",_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACdUlEQVR4nO1WPYwSQRT+UPACMRISY5DKYOhMDJReAZ0/OaDTBkotoNQCSi2g9AootYCOs4FOQwKNiRaQUFxiSCg8Q0guBoiRjUJgzNvMrLi3u9wurNV9yUt23+x73zezM28ecAFreA1AAsC4Sdz3X3B/jVhtNGY73hFZoVBgAvTMBdCYrbgO4JfT6WTD4VARMBqNmMvlIgG/AdywU8BzmmkikWBqxONxsQr0jW04JpJ6vS6TTiYT2Qjk4wK+AHDYQb5PBH6/n83nc5m0VCqxcrksPy8WCxYIBISIe3YIeEvJ8/m8suzhcJhFIhHlPZfLCQFvdk1+FcAPh8PB+v2+TNbr9ZTj1+12Zd9gMGD0DYCfAK7tUsAzIorFYspsM5mMIiCbzSr+aDQq/E93KeAzJa1WqzKJJEnM5/MpArxeL5vNZvJYpVIR/k+7Ir9jQKKYjri7uxBwaLDMiun8nq3vhysATnU22j+2vkE7nY7wfwewt42AJ5RI56idMfUR5f7H2wj4QElEsSE0m01Wq9U0jcYEKIYLeG+V/BaApdvtZuPxmJnFdDplHo+HBCx5LtN4STNIp9PMKlKplFgFymUKlwGcUHC73VZfuYa2flW3Wi3hP+E5z42HFBgMBtlqtVI3HRutWCzKMRQbCoWE/4HprqeonYjE6eGRgfAjy11P6+9SftuwlJcAfNX5defull5QgmQyaXUzvVJvXuqgzHRLx/Rxo9FQH6cVgNtWjq+Zbmlfq+vhwVSULBUwVbdEHMYXT167pFJZtlzCKSfPc7hRAM7aqclLZU9cYhpmKOAmgI+8fIqAIYADmMcBjxV5ljw3cVwAAn8A9R8muIepLUEAAAAASUVORK5CYII=",S2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVR4nO3Yv0scQRTA8U9ia8pAwFJMKQipzZZeIVgLFwhWsTB/RppUQvoUHopXCrbXaRPshATyB2iVCKJCTlcOTljOvdM979fG94VX7sz78mbezgxBEARB8J/yAb9wg3RMcYOfqBZNvjLGpNMusVREYHsCEk47olZEoJH58JPxsZ7Jo5VTXwKJ8ZGEgN4VuOtUf1DHmzJVoJKz0Q7wQkkEtrt0i7dKIlDrIjBncCSxhPTexNX2r761iXfLtolHQRICogL3eI1vOMYRvmBaSZbQO5zmtN7fmJ10gfc463FcPsHCqATm8R2H2MHiA+Ot4PIRZ/6/HWMNReAz/uVc/b7iZc5YH9EscHG5wPIwBKaw+cDk+3iVGWcD133cvppYG6RAq0vsPXLyH5hpd5eiiacdVa0PQmC13e6KTH7+xOTTnOhb4GoIyYxUIJ2QaISAElWgNgFLJu2IrWf1tJi9bZXycTcIgiAIlIFbufOCQD+tqawAAAAASUVORK5CYII=",b2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHsklEQVR4nO2aaVBTVxTH86Htt35rpy4IFnGrjrUuuNe91gLKMi6lIC4kIQmLJCxJIBCzQIAgUoMJLhCEWkFA0GjFfVwGdejiNi60WFFTFGISkmo3ejrv1dD3kheSCOFBypn5f7t5uf/fPfe8c29CoQzFUAyFK5GWsn8ufbOiPGJd/sXQwOzmoBWSR1gFB2Rr14bkPV8fJjd+sbbAHLGu4IU7FR2lMHLi97aKhZWNZSVnV1PcEZmZ596IpSuV8/25v458JxoGspYuEHRliarOVFXdeqtPzKcmqSPmz+S9INuY6yAyulS7jvF7ZT6eWZw/xotBupnXle9IBsgkh069lvlYhrLA612qzUN9htEgOCALssRVsF99FqqrLpEqZA45WTUQtioHnZv1fBEPebLaepfTfozVyiMPitlSBN9/dweePn0KJpMJzGbzgFLz/UfAohfbQPAbxYTiXce5The8udO5uD3//ogYKN17ArRaLSqj0Ui62Z50oPw8Omesh+ULhV1NTU1vOgTAoO7abb3yJXv+M9/e3k66QWchWGeCTOpEPZhv9apD0t5ivr9XX6fTQ11tIwh4XwF9ixJS2GrYo2qABy1apz7PoKrwWbBI2OWwyfHCFD6f4XR0z1vMt7W19Zv5yq8vwrTJHMLqPnpEDKRzK1BAPT3j3t1WXGH8N5sbguwCoG9WlGO/CKn22NXv6OjoF/MySbVTr7nAFVJ49ux5j88KCZThPiMSHrxsF0Dk+oJL2MFi4dc4ADqdrl9W3pV3fXSUomeYUjxMTsK+h3YBhAZmN2MHFyuP4QDo9Xq373nrtPcZRgUufSscKEyFfD4Hpn9At4Fw7sx1u89Ul5zGjaVtLDLYBRC0QvIIO3i/+iQOgMFgcCsApOBZm79Wnwbws6hbxptCWDIb36MwacV2n4k0S9ixyAFqwAJI51bgJousPNa8RecP8nDj/KemeAYAhtVrC0l7IgCdt4S4cUjT4xEAkhNLcZNF9jwRgLunBbhxH05I9AwAe1QNuMnOmERH97w1gISNCbhxa0PyPAPAgxatTQ+/dDYDLlTyofO2EO6dEdiYR1Sy55RnADCbzZCWii+EjjRvJg/0zw2eA0Cn06MdnjPmx/mw4Num+z0+b9ABMJvNaHuLdHiOVt6R+UELwPxKSIeHNDnIex45AH04kQ1rgnPRPW/QO3cqHdQAzH2gfgVg6DRCzbl6YMuyIHRTMiwOTIBFnyVAwOdsoKVlQFF1CWg7tJ4HQPe8AwQKOXw0w/ENsp8vHaI4aXD7wW3PAKC5dBz857FcenVZQAiV28Fk6hycAEymTkgrzAPvEbZX567ok9BEuPHj9cEFoOVxCwSsZxMaGu1FhRAqG7ilAth+Vgw7LkhAXCuEKF4KTJqM7/IsmjghBvYdLRscAOrOa2DKVNu9jty3rYtLgoPaXNC8zCdUvSkfklTpaPoTfX4Dhw9tOu3ABPDkyWPg75ATpryfLw1ENUK7xq1V/pMMFgXGE2bDjDksOHHt5MACcOfeXVi9PpVwwnOXxIH6XrbT5i06+kIObEU6IdDRI6mQlJONvlZJB1DfcBKmTCFO+ciUFKg3yl02j1XRFSl8NJP49bk8ZCvcaP6BPACRW8TgPbz3Ke9Ih/VyFCYRhAnjYkBVqyYHwEiilF8aC+r7sj4zj5WoVgjj/IgLZHgcF7TtT8gD4PVuNIRzOL1O+V4VyNks+OZKg/sALFyY1En0xX5jaMCrYEOtIcut5i06YpYDK49PuP2QAskvzIVOkxtOg5MnMf+0/sI5Sxnw5dVU2N/K6zcAFikaJTB1BpMwGz4JS4SbLTf6FsDMWXF/YAcvC2OCuoWHmicDAKKajjxYw0wiLpDj6bC7Tt13AFaGcnB/jEguYXebJwuARduqM2HsGOK/wESyefCLnWO2xwDQvCqQi4PsF8jjjQ2eDUDjoIP0GUEFTq4U10F6HADNKxVdlcA0f+ICuSw4obuD9FgAGgcd5PixdFDVqD0bgOaVkPuGcWOJ7xoWf7bVeQAhEakG7OB4RSIOQI1eSrpZezrQmgPLw2x/NrMWfVMPf5CIYKThWuGNGQk4AId0YtKN9qSjv+ZDrJy4g+zO6sTSVrsAmGmiRuzgj1cycAAqn20j3WRvj9gJ4iytXQASpWI1cuixDPYeFt3dBiOqeJwOmpfuPQz1ZQe5epPtvSW/oEBK6SlmzWN2YT8QtDEWlwX1phzSzTkr5HIW62XixBigOIo4geSMNTW28r9iWPm07y5C3Kn0igyb1c9U5rY4BJBZVfWW/1wWLgu8h+Mh1JkHdhakl2egXSHWw5wlcXCpve5tijMh2CHnvz/KtpIGRMVC4dUU+EorQFtSso1aq6xZZpP2iHx9aLCzetduiiuxdZv0KLYgWjTqvWhY8CkDNmWygV8mQE9pZAqZQ4yUi94ijXqPSnhaFO+V/0R5nUgUZR0hyoTBIl9vGoj2yh9QehOCHdu5s+bja8JgELLndx5W7aP0RRQ3Fb8ZL5Scmr2A1UW0LQaKkHRHbq0zivMeOl3wXI1tqsIgJl90eQMr/efg8GQjcoDCKmBN0m+B4Ul/BYVzulZFcP5eFeleraGldNEFGb9zd2a3lZ4qS3bZ0FAMBeV/Hf8ApUHbVMNLqRkAAAAASUVORK5CYII=",C2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR4nOXWzSsFURjH8S8rikv5Byhs7Sy85S0WVhb+GupuLGxk60bKTvwHFqRElGRzs2LJwms3rLg69Ts1i9u9M885c0ue+tU5Z3rm08ycmQb+WLUB54obN602gKqy3ix0DPhOwG48mTfaCdwnUJ87oCNPeK0G6rOaF9oHfNWB3bHePOCDOqjPXmx0BPhJAbuMx0JbgMuUqMtFLHghA+ozHwM+NcBnMZ5t1ZjhEHg3AN62ogXgMwD+0Jcucy0FoD6LFngnAmy63TcR4GsL/KZmt7NHjfCrBa6ouV3zJwP8boFv1Tyk+aEBLlvgLTWvaD5ngEsWeFbND0CX1pYzwtMY60Qn2AdatTYFXKVAjwioQeAlgXdrvacB+gz0E1gTCfwRKAKbDdBoPwMDwHHK2xt8pbVqRju1rPe8onEpZCPxL+oX1mA2OnIJA6MAAAAASUVORK5CYII=",A2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR4nO3aQQqDMBQE0Dlek/uvWwjeo8UTVFTiF9+D7DPoYhiSAACV9SSfJN/iZ71jOyPwKBBm61kE3mH9Td4Fvt6/s97xtScgAHfSJzWt05rSnZrWkgLG0wK3SU1LUwJgA5tW5q8ZU4vLeFrgZtMCoI5u00rt4nDUuFtTOqrZtACoo3unlcunHJtWbFoAQIr5AdE+2j1jRhTnAAAAAElFTkSuQmCC",E2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVR4nO3WQQqEMBBFwX887fuvFcR7zJATzCBCWqmC3qdJIC8BADqrJHuST/MZZ1zvWPhosMy/c1r4gvFMtga392vGGZcrCwLwJKW0Mv3PVVq5MS1XpQVAH6W0Mr2olFaUFgDvVEor04tKaUVpAfBOpbQyvaiUVpQWAJBmvtJoWcwlcdsDAAAAAElFTkSuQmCC",x2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVR4nO3YQQrCMBQE0Dmeyf3XCqX3UHICJQ0xmvfg7zO0i2ESAGBlNckjyXPxa28sIwIfC4T59E6BO7Tf5L7A13t37Y23noAA7KROamrDmtYvNbUhTeuq7QKXSU1N0wLYQrVpZfqaMbV4HLsFLjYtAP5HtWll7eJxlU0rNi0Autm08v0px6YVmxYAkMW8AOsU2j1bZwouAAAAAElFTkSuQmCC";function C0(){return typeof window>"u"}function T2(){return!C0()}function N2(n,r,p={}){let m,u=null,s=null,c=null;const{signal:d,leading:f=!1,trailing:S=!0,maxWait:y}=p,A=()=>{u!=null&&(n.apply(m,u),m=void 0,u=null,s=null)},b=()=>{S&&A(),T()},v=()=>{if(typeof y=="number"&&s!=null){const o=Date.now()-s,x=y-o;if(x<=0){b();return}return Math.min(r,x)}return r},g=()=>{c!=null&&clearTimeout(c);const o=v();c=setTimeout(()=>{c=null,b()},o)},C=()=>{c!=null&&(clearTimeout(c),c=null)},T=()=>{C(),m=void 0,u=null,s=null},O=()=>{C(),A(),s=null},_=function(...o){if(d?.aborted)return;m=this,u=o;const x=c==null;x&&(s=Date.now()),g(),f&&x&&A()};return _.cancel=T,_.flush=O,d?.addEventListener("abort",T,{once:!0}),_}function R2(){if(C0())return!1;const n=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|Windows Phone|BlackBerry|IEMobile|Opera Mini/i.test(n)}function M2(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function O2(n){return typeof n=="function"}const D2=(...n)=>r=>n.forEach(p=>{if(O2(p))p(r);else if(p!=null){const m=p;m.current=r}});function G2(...n){return tt.useCallback(D2(...n),n)}function A0(){const[n,r]=tt.useState(!1);return tt.useEffect(()=>{r(!0)},[]),n}function Ho(n){const r=tt.useRef(n);return r.current=n,tt.useCallback((...p)=>r.current(...p),[])}function U2(n){const r=Ho(n);tt.useEffect(()=>()=>r(),[r])}function z2(n,r,p={}){const m=Ho(n),{signal:u,leading:s=!1,trailing:c=!0,maxWait:d}=p??{},f=tt.useMemo(()=>N2(m,r,{signal:u,leading:s,trailing:c,...typeof d=="number"&&{maxWait:d}}),[m,r,u,s,c,d]);return U2(()=>f.cancel()),f}const Lo=T2()?tt.useLayoutEffect:tt.useEffect,B2=n=>n?M2(n,"current"):!1;function w2(n,r,p,m){const u=Ho(p);Lo(()=>{const s=B2(n)?n.current:n;if(s)return s.addEventListener(r,u,m),()=>{s.removeEventListener(r,u,m)}},[r,n,m,u])}function E0(n,r){const{excludeRefs:p}={},m=tt.useRef(null),u=tt.useMemo(()=>R2()?"touchstart":"mousedown",[]);return w2(typeof document<"u"?document:null,u,({target:c})=>{if(!m.current)return;const d=m.current,f=p?.some(A=>A.current?.contains(c));!d.contains(c)&&!f&&n(d)}),{ref:m}}const Yh=tt.createContext({parentPortalElement:null}),H2="portal";function L2({children:n,className:r=H2,containerRef:p}){const{parentPortalElement:m}=tt.useContext(Yh),u=tt.useCallback(d=>{const f=d.ownerDocument.createElement("div");return f.classList.add(r),f},[r]),s=tt.useMemo(()=>m||p?.current||document.body,[m,p]),c=tt.useMemo(()=>u(s),[u,s]);return Lo(()=>(s.appendChild(c),()=>{s.contains(c)&&s.removeChild(c)}),[c,s]),S0.createPortal(et.jsx(Yh.Provider,{value:{parentPortalElement:c},children:n}),c)}const P2=({children:n,...r})=>A0()?et.jsx(L2,{...r,children:n}):et.jsx(et.Fragment,{}),Kh=tt.createContext({parentPortalElement:null}),V2="portal";function q2({children:n,className:r=V2,containerRef:p}){const{parentPortalElement:m}=tt.useContext(Kh),u=tt.useCallback(d=>{const f=d.ownerDocument.createElement("div");return f.classList.add(r),f},[r]),s=tt.useMemo(()=>m||p?.current||document.body,[m,p]),c=tt.useMemo(()=>u(s),[u,s]);return Lo(()=>(s.appendChild(c),()=>{s.contains(c)&&s.removeChild(c)}),[c,s]),S0.createPortal(et.jsx(Kh.Provider,{value:{parentPortalElement:c},children:n}),c)}const x0=({children:n,...r})=>A0()?et.jsx(q2,{...r,children:n}):et.jsx(et.Fragment,{});x0.__docgenInfo={description:"",methods:[],displayName:"Portal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},containerRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLElement>",elements:[{name:"HTMLElement"}]},description:""}}};function Mo(){return Mo=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var p=arguments[r];for(var m in p)({}).hasOwnProperty.call(p,m)&&(n[m]=p[m])}return n},Mo.apply(null,arguments)}function F2(n){if(n.sheet)return n.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===n)return document.styleSheets[r]}function j2(n){var r=document.createElement("style");return r.setAttribute("data-emotion",n.key),n.nonce!==void 0&&r.setAttribute("nonce",n.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Y2=function(){function n(p){var m=this;this._insertTag=function(u){var s;m.tags.length===0?m.insertionPoint?s=m.insertionPoint.nextSibling:m.prepend?s=m.container.firstChild:s=m.before:s=m.tags[m.tags.length-1].nextSibling,m.container.insertBefore(u,s),m.tags.push(u)},this.isSpeedy=p.speedy===void 0?!0:p.speedy,this.tags=[],this.ctr=0,this.nonce=p.nonce,this.key=p.key,this.container=p.container,this.prepend=p.prepend,this.insertionPoint=p.insertionPoint,this.before=null}var r=n.prototype;return r.hydrate=function(m){m.forEach(this._insertTag)},r.insert=function(m){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j2(this));var u=this.tags[this.tags.length-1];if(this.isSpeedy){var s=F2(u);try{s.insertRule(m,s.cssRules.length)}catch{}}else u.appendChild(document.createTextNode(m));this.ctr++},r.flush=function(){this.tags.forEach(function(m){var u;return(u=m.parentNode)==null?void 0:u.removeChild(m)}),this.tags=[],this.ctr=0},n}(),Ae="-ms-",_l="-moz-",wt="-webkit-",T0="comm",Po="rule",Vo="decl",K2="@import",N0="@keyframes",X2="@layer",Q2=Math.abs,Al=String.fromCharCode,k2=Object.assign;function Z2(n,r){return Se(n,0)^45?(((r<<2^Se(n,0))<<2^Se(n,1))<<2^Se(n,2))<<2^Se(n,3):0}function R0(n){return n.trim()}function J2(n,r){return(n=r.exec(n))?n[0]:n}function Ht(n,r,p){return n.replace(r,p)}function Oo(n,r){return n.indexOf(r)}function Se(n,r){return n.charCodeAt(r)|0}function fr(n,r,p){return n.slice(r,p)}function ca(n){return n.length}function qo(n){return n.length}function ul(n,r){return r.push(n),n}function W2(n,r){return n.map(r).join("")}var El=1,Qn=1,M0=0,ze=0,ne=0,kn="";function xl(n,r,p,m,u,s,c){return{value:n,root:r,parent:p,type:m,props:u,children:s,line:El,column:Qn,length:c,return:""}}function Ei(n,r){return k2(xl("",null,null,"",null,null,0),n,{length:-n.length},r)}function I2(){return ne}function $2(){return ne=ze>0?Se(kn,--ze):0,Qn--,ne===10&&(Qn=1,El--),ne}function Xe(){return ne=ze<M0?Se(kn,ze++):0,Qn++,ne===10&&(Qn=1,El++),ne}function da(){return Se(kn,ze)}function dl(){return ze}function mr(n,r){return fr(kn,n,r)}function gr(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function O0(n){return El=Qn=1,M0=ca(kn=n),ze=0,[]}function D0(n){return kn="",n}function fl(n){return R0(mr(ze-1,Do(n===91?n+2:n===40?n+1:n)))}function tg(n){for(;(ne=da())&&ne<33;)Xe();return gr(n)>2||gr(ne)>3?"":" "}function eg(n,r){for(;--r&&Xe()&&!(ne<48||ne>102||ne>57&&ne<65||ne>70&&ne<97););return mr(n,dl()+(r<6&&da()==32&&Xe()==32))}function Do(n){for(;Xe();)switch(ne){case n:return ze;case 34:case 39:n!==34&&n!==39&&Do(ne);break;case 40:n===41&&Do(n);break;case 92:Xe();break}return ze}function ag(n,r){for(;Xe()&&n+ne!==57;)if(n+ne===84&&da()===47)break;return"/*"+mr(r,ze-1)+"*"+Al(n===47?n:Xe())}function ng(n){for(;!gr(da());)Xe();return mr(n,ze)}function ig(n){return D0(gl("",null,null,null,[""],n=O0(n),0,[0],n))}function gl(n,r,p,m,u,s,c,d,f){for(var S=0,y=0,A=c,b=0,v=0,g=0,C=1,T=1,O=1,_=0,o="",x=u,E=s,G=m,P=o;T;)switch(g=_,_=Xe()){case 40:if(g!=108&&Se(P,A-1)==58){Oo(P+=Ht(fl(_),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:P+=fl(_);break;case 9:case 10:case 13:case 32:P+=tg(g);break;case 92:P+=eg(dl()-1,7);continue;case 47:switch(da()){case 42:case 47:ul(rg(ag(Xe(),dl()),r,p),f);break;default:P+="/"}break;case 123*C:d[S++]=ca(P)*O;case 125*C:case 59:case 0:switch(_){case 0:case 125:T=0;case 59+y:O==-1&&(P=Ht(P,/\f/g,"")),v>0&&ca(P)-A&&ul(v>32?Qh(P+";",m,p,A-1):Qh(Ht(P," ","")+";",m,p,A-2),f);break;case 59:P+=";";default:if(ul(G=Xh(P,r,p,S,y,u,d,o,x=[],E=[],A),s),_===123)if(y===0)gl(P,r,G,G,x,s,A,d,E);else switch(b===99&&Se(P,3)===110?100:b){case 100:case 108:case 109:case 115:gl(n,G,G,m&&ul(Xh(n,G,G,0,0,u,d,o,u,x=[],A),E),u,E,A,d,m?x:E);break;default:gl(P,G,G,G,[""],E,0,d,E)}}S=y=v=0,C=O=1,o=P="",A=c;break;case 58:A=1+ca(P),v=g;default:if(C<1){if(_==123)--C;else if(_==125&&C++==0&&$2()==125)continue}switch(P+=Al(_),_*C){case 38:O=y>0?1:(P+="\f",-1);break;case 44:d[S++]=(ca(P)-1)*O,O=1;break;case 64:da()===45&&(P+=fl(Xe())),b=da(),y=A=ca(o=P+=ng(dl())),_++;break;case 45:g===45&&ca(P)==2&&(C=0)}}return s}function Xh(n,r,p,m,u,s,c,d,f,S,y){for(var A=u-1,b=u===0?s:[""],v=qo(b),g=0,C=0,T=0;g<m;++g)for(var O=0,_=fr(n,A+1,A=Q2(C=c[g])),o=n;O<v;++O)(o=R0(C>0?b[O]+" "+_:Ht(_,/&\f/g,b[O])))&&(f[T++]=o);return xl(n,r,p,u===0?Po:d,f,S,y)}function rg(n,r,p){return xl(n,r,p,T0,Al(I2()),fr(n,2,-2),0)}function Qh(n,r,p,m){return xl(n,r,p,Vo,fr(n,0,m),fr(n,m+1,-1),m)}function Xn(n,r){for(var p="",m=qo(n),u=0;u<m;u++)p+=r(n[u],u,n,r)||"";return p}function lg(n,r,p,m){switch(n.type){case X2:if(n.children.length)break;case K2:case Vo:return n.return=n.return||n.value;case T0:return"";case N0:return n.return=n.value+"{"+Xn(n.children,m)+"}";case Po:n.value=n.props.join(",")}return ca(p=Xn(n.children,m))?n.return=n.value+"{"+p+"}":""}function sg(n){var r=qo(n);return function(p,m,u,s){for(var c="",d=0;d<r;d++)c+=n[d](p,m,u,s)||"";return c}}function og(n){return function(r){r.root||(r=r.return)&&n(r)}}function G0(n){var r=Object.create(null);return function(p){return r[p]===void 0&&(r[p]=n(p)),r[p]}}var ug=function(r,p,m){for(var u=0,s=0;u=s,s=da(),u===38&&s===12&&(p[m]=1),!gr(s);)Xe();return mr(r,ze)},cg=function(r,p){var m=-1,u=44;do switch(gr(u)){case 0:u===38&&da()===12&&(p[m]=1),r[m]+=ug(ze-1,p,m);break;case 2:r[m]+=fl(u);break;case 4:if(u===44){r[++m]=da()===58?"&\f":"",p[m]=r[m].length;break}default:r[m]+=Al(u)}while(u=Xe());return r},hg=function(r,p){return D0(cg(O0(r),p))},kh=new WeakMap,dg=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var p=r.value,m=r.parent,u=r.column===m.column&&r.line===m.line;m.type!=="rule";)if(m=m.parent,!m)return;if(!(r.props.length===1&&p.charCodeAt(0)!==58&&!kh.get(m))&&!u){kh.set(r,!0);for(var s=[],c=hg(p,s),d=m.props,f=0,S=0;f<c.length;f++)for(var y=0;y<d.length;y++,S++)r.props[S]=s[f]?c[f].replace(/&\f/g,d[y]):d[y]+" "+c[f]}}},fg=function(r){if(r.type==="decl"){var p=r.value;p.charCodeAt(0)===108&&p.charCodeAt(2)===98&&(r.return="",r.value="")}};function U0(n,r){switch(Z2(n,r)){case 5103:return wt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+n+_l+n+Ae+n+n;case 6828:case 4268:return wt+n+Ae+n+n;case 6165:return wt+n+Ae+"flex-"+n+n;case 5187:return wt+n+Ht(n,/(\w+).+(:[^]+)/,wt+"box-$1$2"+Ae+"flex-$1$2")+n;case 5443:return wt+n+Ae+"flex-item-"+Ht(n,/flex-|-self/,"")+n;case 4675:return wt+n+Ae+"flex-line-pack"+Ht(n,/align-content|flex-|-self/,"")+n;case 5548:return wt+n+Ae+Ht(n,"shrink","negative")+n;case 5292:return wt+n+Ae+Ht(n,"basis","preferred-size")+n;case 6060:return wt+"box-"+Ht(n,"-grow","")+wt+n+Ae+Ht(n,"grow","positive")+n;case 4554:return wt+Ht(n,/([^-])(transform)/g,"$1"+wt+"$2")+n;case 6187:return Ht(Ht(Ht(n,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),n,"")+n;case 5495:case 3959:return Ht(n,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return Ht(Ht(n,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+Ae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+n+n;case 4095:case 3583:case 4068:case 2532:return Ht(n,/(.+)-inline(.+)/,wt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ca(n)-1-r>6)switch(Se(n,r+1)){case 109:if(Se(n,r+4)!==45)break;case 102:return Ht(n,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+_l+(Se(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~Oo(n,"stretch")?U0(Ht(n,"stretch","fill-available"),r)+n:n}break;case 4949:if(Se(n,r+1)!==115)break;case 6444:switch(Se(n,ca(n)-3-(~Oo(n,"!important")&&10))){case 107:return Ht(n,":",":"+wt)+n;case 101:return Ht(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(Se(n,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+Ae+"$2box$3")+n}break;case 5936:switch(Se(n,r+11)){case 114:return wt+n+Ae+Ht(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return wt+n+Ae+Ht(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return wt+n+Ae+Ht(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return wt+n+Ae+n+n}return n}var gg=function(r,p,m,u){if(r.length>-1&&!r.return)switch(r.type){case Vo:r.return=U0(r.value,r.length);break;case N0:return Xn([Ei(r,{value:Ht(r.value,"@","@"+wt)})],u);case Po:if(r.length)return W2(r.props,function(s){switch(J2(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xn([Ei(r,{props:[Ht(s,/:(read-\w+)/,":"+_l+"$1")]})],u);case"::placeholder":return Xn([Ei(r,{props:[Ht(s,/:(plac\w+)/,":"+wt+"input-$1")]}),Ei(r,{props:[Ht(s,/:(plac\w+)/,":"+_l+"$1")]}),Ei(r,{props:[Ht(s,/:(plac\w+)/,Ae+"input-$1")]})],u)}return""})}},pg=[gg],mg=function(r){var p=r.key;if(p==="css"){var m=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(m,function(C){var T=C.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var u=r.stylisPlugins||pg,s={},c,d=[];c=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+p+' "]'),function(C){for(var T=C.getAttribute("data-emotion").split(" "),O=1;O<T.length;O++)s[T[O]]=!0;d.push(C)});var f,S=[dg,fg];{var y,A=[lg,og(function(C){y.insert(C)})],b=sg(S.concat(u,A)),v=function(T){return Xn(ig(T),b)};f=function(T,O,_,o){y=_,v(T?T+"{"+O.styles+"}":O.styles),o&&(g.inserted[O.name]=!0)}}var g={key:p,sheet:new Y2({key:p,container:c,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:s,registered:{},insert:f};return g.sheet.hydrate(d),g},ho={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function vg(){if(Zh)return Lt;Zh=1;var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,p=n?Symbol.for("react.portal"):60106,m=n?Symbol.for("react.fragment"):60107,u=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,S=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,A=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function o(E){if(typeof E=="object"&&E!==null){var G=E.$$typeof;switch(G){case r:switch(E=E.type,E){case f:case S:case m:case s:case u:case A:return E;default:switch(E=E&&E.$$typeof,E){case d:case y:case g:case v:case c:return E;default:return G}}case p:return G}}}function x(E){return o(E)===S}return Lt.AsyncMode=f,Lt.ConcurrentMode=S,Lt.ContextConsumer=d,Lt.ContextProvider=c,Lt.Element=r,Lt.ForwardRef=y,Lt.Fragment=m,Lt.Lazy=g,Lt.Memo=v,Lt.Portal=p,Lt.Profiler=s,Lt.StrictMode=u,Lt.Suspense=A,Lt.isAsyncMode=function(E){return x(E)||o(E)===f},Lt.isConcurrentMode=x,Lt.isContextConsumer=function(E){return o(E)===d},Lt.isContextProvider=function(E){return o(E)===c},Lt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===r},Lt.isForwardRef=function(E){return o(E)===y},Lt.isFragment=function(E){return o(E)===m},Lt.isLazy=function(E){return o(E)===g},Lt.isMemo=function(E){return o(E)===v},Lt.isPortal=function(E){return o(E)===p},Lt.isProfiler=function(E){return o(E)===s},Lt.isStrictMode=function(E){return o(E)===u},Lt.isSuspense=function(E){return o(E)===A},Lt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===m||E===S||E===s||E===u||E===A||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===v||E.$$typeof===c||E.$$typeof===d||E.$$typeof===y||E.$$typeof===T||E.$$typeof===O||E.$$typeof===_||E.$$typeof===C)},Lt.typeOf=o,Lt}var Jh;function yg(){return Jh||(Jh=1,ho.exports=vg()),ho.exports}var fo,Wh;function _g(){if(Wh)return fo;Wh=1;var n=yg(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=m,s[n.Memo]=u;function c(g){return n.isMemo(g)?u:s[g.$$typeof]||r}var d=Object.defineProperty,f=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,b=Object.prototype;function v(g,C,T){if(typeof C!="string"){if(b){var O=A(C);O&&O!==b&&v(g,O,T)}var _=f(C);S&&(_=_.concat(S(C)));for(var o=c(g),x=c(C),E=0;E<_.length;++E){var G=_[E];if(!p[G]&&!(T&&T[G])&&!(x&&x[G])&&!(o&&o[G])){var P=y(C,G);try{d(g,G,P)}catch{}}}}return g}return fo=v,fo}_g();var Sg=!0;function z0(n,r,p){var m="";return p.split(" ").forEach(function(u){n[u]!==void 0?r.push(n[u]+";"):u&&(m+=u+" ")}),m}var Fo=function(r,p,m){var u=r.key+"-"+p.name;(m===!1||Sg===!1)&&r.registered[u]===void 0&&(r.registered[u]=p.styles)},jo=function(r,p,m){Fo(r,p,m);var u=r.key+"-"+p.name;if(r.inserted[p.name]===void 0){var s=p;do r.insert(p===s?"."+u:"",s,r.sheet,!0),s=s.next;while(s!==void 0)}};function bg(n){for(var r=0,p,m=0,u=n.length;u>=4;++m,u-=4)p=n.charCodeAt(m)&255|(n.charCodeAt(++m)&255)<<8|(n.charCodeAt(++m)&255)<<16|(n.charCodeAt(++m)&255)<<24,p=(p&65535)*1540483477+((p>>>16)*59797<<16),p^=p>>>24,r=(p&65535)*1540483477+((p>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(u){case 3:r^=(n.charCodeAt(m+2)&255)<<16;case 2:r^=(n.charCodeAt(m+1)&255)<<8;case 1:r^=n.charCodeAt(m)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var Cg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ag=/[A-Z]|^ms/g,Eg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,B0=function(r){return r.charCodeAt(1)===45},Ih=function(r){return r!=null&&typeof r!="boolean"},go=G0(function(n){return B0(n)?n:n.replace(Ag,"-$&").toLowerCase()}),$h=function(r,p){switch(r){case"animation":case"animationName":if(typeof p=="string")return p.replace(Eg,function(m,u,s){return ha={name:u,styles:s,next:ha},u})}return Cg[r]!==1&&!B0(r)&&typeof p=="number"&&p!==0?p+"px":p};function pr(n,r,p){if(p==null)return"";var m=p;if(m.__emotion_styles!==void 0)return m;switch(typeof p){case"boolean":return"";case"object":{var u=p;if(u.anim===1)return ha={name:u.name,styles:u.styles,next:ha},u.name;var s=p;if(s.styles!==void 0){var c=s.next;if(c!==void 0)for(;c!==void 0;)ha={name:c.name,styles:c.styles,next:ha},c=c.next;var d=s.styles+";";return d}return xg(n,r,p)}case"function":{if(n!==void 0){var f=ha,S=p(n);return ha=f,pr(n,r,S)}break}}var y=p;if(r==null)return y;var A=r[y];return A!==void 0?A:y}function xg(n,r,p){var m="";if(Array.isArray(p))for(var u=0;u<p.length;u++)m+=pr(n,r,p[u])+";";else for(var s in p){var c=p[s];if(typeof c!="object"){var d=c;r!=null&&r[d]!==void 0?m+=s+"{"+r[d]+"}":Ih(d)&&(m+=go(s)+":"+$h(s,d)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(r==null||r[c[0]]===void 0))for(var f=0;f<c.length;f++)Ih(c[f])&&(m+=go(s)+":"+$h(s,c[f])+";");else{var S=pr(n,r,c);switch(s){case"animation":case"animationName":{m+=go(s)+":"+S+";";break}default:m+=s+"{"+S+"}"}}}return m}var td=/label:\s*([^\s;{]+)\s*(;|$)/g,ha;function Tl(n,r,p){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var m=!0,u="";ha=void 0;var s=n[0];if(s==null||s.raw===void 0)m=!1,u+=pr(p,r,s);else{var c=s;u+=c[0]}for(var d=1;d<n.length;d++)if(u+=pr(p,r,n[d]),m){var f=s;u+=f[d]}td.lastIndex=0;for(var S="",y;(y=td.exec(u))!==null;)S+="-"+y[1];var A=bg(u)+S;return{name:A,styles:u,next:ha}}var Tg=function(r){return r()},w0=Fh.useInsertionEffect?Fh.useInsertionEffect:!1,H0=w0||Tg,ed=w0||tt.useLayoutEffect,L0=tt.createContext(typeof HTMLElement<"u"?mg({key:"css"}):null);L0.Provider;var Yo=function(r){return tt.forwardRef(function(p,m){var u=tt.useContext(L0);return r(p,u,m)})},Ko=tt.createContext({}),Xo={}.hasOwnProperty,Go="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ng=function(r,p){var m={};for(var u in p)Xo.call(p,u)&&(m[u]=p[u]);return m[Go]=r,m},Rg=function(r){var p=r.cache,m=r.serialized,u=r.isStringTag;return Fo(p,m,u),H0(function(){return jo(p,m,u)}),null},Mg=Yo(function(n,r,p){var m=n.css;typeof m=="string"&&r.registered[m]!==void 0&&(m=r.registered[m]);var u=n[Go],s=[m],c="";typeof n.className=="string"?c=z0(r.registered,s,n.className):n.className!=null&&(c=n.className+" ");var d=Tl(s,void 0,tt.useContext(Ko));c+=r.key+"-"+d.name;var f={};for(var S in n)Xo.call(n,S)&&S!=="css"&&S!==Go&&(f[S]=n[S]);return f.className=c,p&&(f.ref=p),tt.createElement(tt.Fragment,null,tt.createElement(Rg,{cache:r,serialized:d,isStringTag:typeof u=="string"}),tt.createElement(u,f))}),Og=Mg,ad=function(r,p){var m=arguments;if(p==null||!Xo.call(p,"css"))return tt.createElement.apply(void 0,m);var u=m.length,s=new Array(u);s[0]=Og,s[1]=Ng(r,p);for(var c=2;c<u;c++)s[c]=m[c];return tt.createElement.apply(null,s)};(function(n){var r;r||(r=n.JSX||(n.JSX={}))})(ad||(ad={}));var Dg=Yo(function(n,r){var p=n.styles,m=Tl([p],void 0,tt.useContext(Ko)),u=tt.useRef();return ed(function(){var s=r.key+"-global",c=new r.sheet.constructor({key:s,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),d=!1,f=document.querySelector('style[data-emotion="'+s+" "+m.name+'"]');return r.sheet.tags.length&&(c.before=r.sheet.tags[0]),f!==null&&(d=!0,f.setAttribute("data-emotion",s),c.hydrate([f])),u.current=[c,d],function(){c.flush()}},[r]),ed(function(){var s=u.current,c=s[0],d=s[1];if(d){s[1]=!1;return}if(m.next!==void 0&&jo(r,m.next,!0),c.tags.length){var f=c.tags[c.tags.length-1].nextElementSibling;c.before=f,c.flush()}r.insert("",m,c,!1)},[r,m.name]),null});function Ue(){for(var n=arguments.length,r=new Array(n),p=0;p<n;p++)r[p]=arguments[p];return Tl(r)}var Gg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ug=G0(function(n){return Gg.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),zg=Ug,Bg=function(r){return r!=="theme"},nd=function(r){return typeof r=="string"&&r.charCodeAt(0)>96?zg:Bg},id=function(r,p,m){var u;if(p){var s=p.shouldForwardProp;u=r.__emotion_forwardProp&&s?function(c){return r.__emotion_forwardProp(c)&&s(c)}:s}return typeof u!="function"&&m&&(u=r.__emotion_forwardProp),u},wg=function(r){var p=r.cache,m=r.serialized,u=r.isStringTag;return Fo(p,m,u),H0(function(){return jo(p,m,u)}),null},Hg=function n(r,p){var m=r.__emotion_real===r,u=m&&r.__emotion_base||r,s,c;p!==void 0&&(s=p.label,c=p.target);var d=id(r,p,m),f=d||nd(u),S=!f("as");return function(){var y=arguments,A=m&&r.__emotion_styles!==void 0?r.__emotion_styles.slice(0):[];if(s!==void 0&&A.push("label:"+s+";"),y[0]==null||y[0].raw===void 0)A.push.apply(A,y);else{var b=y[0];A.push(b[0]);for(var v=y.length,g=1;g<v;g++)A.push(y[g],b[g])}var C=Yo(function(T,O,_){var o=S&&T.as||u,x="",E=[],G=T;if(T.theme==null){G={};for(var P in T)G[P]=T[P];G.theme=tt.useContext(Ko)}typeof T.className=="string"?x=z0(O.registered,E,T.className):T.className!=null&&(x=T.className+" ");var R=Tl(A.concat(E),O.registered,G);x+=O.key+"-"+R.name,c!==void 0&&(x+=" "+c);var D=S&&d===void 0?nd(o):f,z={};for(var L in T)S&&L==="as"||D(L)&&(z[L]=T[L]);return z.className=x,_&&(z.ref=_),tt.createElement(tt.Fragment,null,tt.createElement(wg,{cache:O,serialized:R,isStringTag:typeof o=="string"}),tt.createElement(o,z))});return C.displayName=s!==void 0?s:"Styled("+(typeof u=="string"?u:u.displayName||u.name||"Component")+")",C.defaultProps=r.defaultProps,C.__emotion_real=C,C.__emotion_base=u,C.__emotion_styles=A,C.__emotion_forwardProp=d,Object.defineProperty(C,"toString",{value:function(){return"."+c}}),C.withComponent=function(T,O){var _=n(T,Mo({},p,O,{shouldForwardProp:id(C,O,!0)}));return _.apply(void 0,A)},C}},Lg=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ot=Hg.bind(null);Lg.forEach(function(n){Ot[n]=Ot(n)});const Pg=Ot.div`
  position: relative;
  min-width: 120px;
  max-width: 120px;
`,Vg=Ot.label`
  font-size: 0.7rem;
  color: #969696;
`,qg=Ot.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  border: 1px solid ${n=>n.isOpen?"#0e1b30":"#cccccc"};
  border-radius: 5px;
  padding: 6px 12px;

  &:hover {
    border: 1px solid #0e1b30;
  }
`,rd=Ot.p`
  margin: 0;
  font-size: 0.9rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Fg=Ot.ul`
  position: absolute;
  bottom: 25px;
  width: 100%;
  background-color: #fff;
  box-shadow: 0 0 3px 0.5px #afafaf;
  overflow-y: scroll;
  list-style: none;
  padding: 0;
  max-height: 200px;
  z-index: 1000;
`,jg=Ot.li`
  cursor: pointer;
  padding: 10px 15px;
  font-size: 0.9rem;
  background-color: ${n=>n.active?"#ededed":"#fff"};

  &:hover {
    background-color: #ededed;
  }
`,P0=mt.createContext(null),pl=({children:n,name:r,color:p,value:m,label:u,onChange:s})=>{const[c,d]=tt.useState(!1),f=tt.useRef(null),S=tt.useCallback(()=>{d(!c)},[c]),y=tt.useCallback(A=>{s&&(s(r,A),d(!1))},[s]);return tt.useEffect(()=>{const A=b=>{f.current&&!f.current.contains(b.target)&&d(!c)};return c&&document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[c]),et.jsx(P0.Provider,{value:{color:p,selectValue:m,onChange:y},children:et.jsxs(Pg,{children:[u&&et.jsx(Vg,{children:u}),et.jsxs(qg,{isOpen:c,ref:f,onClick:S,children:[et.jsx(rd,{children:m}),et.jsx(rd,{children:et.jsx("img",{src:c?m2:p2,width:12,height:12})})]}),c&&et.jsx(Fg,{children:n})]})})};pl.__docgenInfo={description:"",methods:[],displayName:"Select",props:{name:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(name: string, value: string | number) => void",signature:{arguments:[{type:{name:"string"},name:"name"},{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const ml=({children:n,value:r})=>{const{selectValue:p,onChange:m}=tt.useContext(P0),u=String(p).toLowerCase()===String(r).toLowerCase();return et.jsx(jg,{active:u,onClick:()=>m(r),children:n})};ml.__docgenInfo={description:"",methods:[],displayName:"SelectItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""}}};const Yg=Ot.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 50px;
`,Kg=Ot.label`
  font-size: 0.7rem;
  color: #969696;
  height: 16px;
  line-height: 17px;
`,Xg=Ot.input`
  border: 1px solid #cccccc;
  border-radius: 5px;
  padding: 6px 12px;
  font-size: 0.9rem;
  outline: none;
  margin-top: 1px;
  width: ${n=>n.width||"auto"};

  &:disabled {
    background-color: #f3f3f3;
  }
`,Uo=({name:n,label:r,value:p,width:m=124,maxLength:u=5,disabled:s=!1,onChange:c})=>et.jsxs(Yg,{children:[r&&et.jsx(Kg,{htmlFor:n,children:r}),et.jsx(Xg,{type:"text",name:n,id:n,value:p,maxLength:u,onChange:c,disabled:s,width:`${m}px`})]});Uo.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{label:{required:!1,tsType:{name:"string"},description:""},width:{defaultValue:{value:"124",computed:!1},required:!1},maxLength:{defaultValue:{value:"5",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["ComponentProps"]};const Qg=Ot.div`
  background: #fff;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border: 1px solid #cccccc;
  padding: 4px 5px;

  &:hover {
    border: 1px solid #0e1b30;
  }
`,kg=Ot.input`
  display: none;
`,Zg=Ot.label`
  cursor: pointer;
  margin: 0;
  width: 20px;
  height: 20px;
`,Jg=Ot.img`
  width: 100%;
  height: 100%;
`,V0=({onChangeImage:n})=>{const r=tt.useRef(null),p=m=>{n(m),r.current&&(r.current.value="")};return et.jsxs(Qg,{children:[et.jsx(Zg,{htmlFor:"file",children:et.jsx(Jg,{src:S2,width:20,height:20})}),et.jsx(kg,{ref:r,id:"file",type:"file",onChange:p})]})};V0.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{onChangeImage:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""}}};const dr=({width:n="100%",height:r,color:p,margin:m})=>{const[u,s,c,d]=m??[0,0,0,0],f=tt.useMemo(()=>({width:n,height:r,backgroundColor:p,marginTop:u,marginRight:s,marginBottom:c,marginLeft:d}),[]);return et.jsx("div",{style:f})};dr.__docgenInfo={description:"",methods:[],displayName:"Divider",props:{width:{required:!1,tsType:{name:"CSSProperties['width']",raw:"CSSProperties['width']"},description:"",defaultValue:{value:"'100%'",computed:!1}},height:{required:!0,tsType:{name:"CSSProperties['height']",raw:"CSSProperties['height']"},description:""},color:{required:!0,tsType:{name:"string"},description:""},margin:{required:!1,tsType:{name:"tuple",raw:"[number, number, number, number]",elements:[{name:"number"},{name:"number"},{name:"number"},{name:"number"}]},description:""}}};function ka(n,r){return Array.isArray(n)?n.includes(r):n}var Wg=n=>{let r=n.getBoundingClientRect();return{width:r.width,height:r.height}};function Nl(){let n=tt.useRef(null),[r,p]=tt.useState({width:1,height:1});tt.useLayoutEffect(()=>{let u=()=>{n.current&&p(Wg(n.current))},s=([{contentBoxSize:d}])=>{p({height:d[0].blockSize,width:d[0].inlineSize})};window.addEventListener("resize",u,!1);let c=new ResizeObserver(s);return n.current&&c.observe(n.current),()=>{window.removeEventListener("resize",u,!1),c.disconnect()}},[]);let m=tt.useCallback(()=>{let{left:u=1,right:s=1,top:c=1,bottom:d=1}=n.current?.getBoundingClientRect()??{};return{left:u,right:s,top:c,bottom:d}},[]);return[n,r,m]}function Sl(n,r,p){return n<r?r:n>p?p:n}var Ig=class{convert(n,r){let p=this.toHex("#000000"),m=this.hex2rgb(p),u=this.rgb2hsv(m);if(n==="hex"){let s=r;p=this.toHex(s),m=this.hex2rgb(p),p.startsWith("rgba")&&(m=this.toRgb(p),p=this.rgb2hex(m)),u=this.rgb2hsv(m)}else n==="rgb"?(m=r,p=this.rgb2hex(m),u=this.rgb2hsv(m)):n==="hsv"&&(u=r,m=this.hsv2rgb(u),p=this.rgb2hex(m));return{hex:p,rgb:m,hsv:u}}toHex(n){if(n.startsWith("#")){if(n.length===4||n.length===5)return n=n.split("").map((r,p)=>p?p<4?r+r:r==="f"?void 0:r+r:"#").join(""),n;if(n.length===7)return n;if(n.length===9)return n.endsWith("ff")?n.slice(0,7):n}else{let r=document.createElement("canvas").getContext("2d");if(!r)throw new Error("2d context not supported or canvas already initialized");return r.fillStyle=n,r.fillStyle}return"#000000"}toRgb(n){let r=n.match(/\d+(\.\d+)?/gu)??[],[p,m,u,s]=Array.from({length:4}).map((c,d)=>Sl(+(r[d]??(d<3?0:1)),0,d<3?255:1));return{r:p,g:m,b:u,a:s}}toHsv(n){let r=n.match(/\d+(\.\d+)?/gu)??[],[p,m,u,s]=Array.from({length:4}).map((c,d)=>Sl(+(r[d]??(d<3?0:1)),0,d?d<3?100:1:360));return{h:p,s:m,v:u,a:s}}hex2rgb(n){n=n.slice(1);let[r,p,m,u]=Array.from({length:4}).map((s,c)=>parseInt(n.slice(c*2,c*2+2),16));return u=Number.isNaN(u)?1:u/255,{r,g:p,b:m,a:u}}rgb2hsv({r:n,g:r,b:p,a:m}){n/=255,r/=255,p/=255;let u=Math.max(n,r,p),s=u-Math.min(n,r,p),c=s?(u===n?(r-p)/s+(r<p?6:0):u===r?2+(p-n)/s:4+(n-r)/s)*60:0,d=u?s/u*100:0,f=u*100;return{h:c,s:d,v:f,a:m}}hsv2rgb({h:n,s:r,v:p,a:m}){r/=100,p/=100;let u=~~(n/60),s=n/60-u,c=p*(1-r),d=p*(1-r*s),f=p*(1-r*(1-s)),S=u%6,y=[p,d,c,c,f,p][S]*255,A=[f,p,p,d,c,c][S]*255,b=[c,c,f,p,p,d][S]*255;return{r:y,g:A,b,a:m}}rgb2hex({r:n,g:r,b:p,a:m}){let[u,s,c,d]=[n,r,p,m].map((f,S)=>Math.round(S<3?f:f*255).toString(16).padStart(2,"0"));return["#",u,s,c,d==="ff"?void 0:d].join("")}},Te=new Ig;function hn(n){return"touches"in n}var Qo=tt.memo(({onCoordinateChange:n,children:r,disabled:p})=>{let[m,{width:u,height:s},c]=Nl(),d=tt.useCallback((S,y=!1)=>{let{left:A,top:b}=c(),v=Sl(S.clientX-A,0,u),g=Sl(S.clientY-b,0,s);n(y,v,g)},[u,s,c,n]),f=tt.useCallback(S=>{if(!hn(S)&&S.button!==0)return;let y=b=>{d(hn(b)?b.touches[0]:b)},A=b=>{d(hn(b)?b.changedTouches[0]:b,!0),document.removeEventListener(hn(b)?"touchmove":"mousemove",y,!1),document.removeEventListener(hn(b)?"touchend":"mouseup",A,!1)};y(S),document.addEventListener(hn(S)?"touchmove":"mousemove",y,!1),document.addEventListener(hn(S)?"touchend":"mouseup",A,!1)},[d]);return mt.createElement("div",{ref:m,className:"rcp-interactive",onMouseDown:f,onTouchStart:f,"aria-disabled":p},r)}),$g=tt.memo(({color:n,disabled:r,onChange:p,onChangeComplete:m})=>{let[u,{width:s}]=Nl(),c=tt.useMemo(()=>({x:n.hsv.a*s}),[n.hsv.a,s]),d=tt.useCallback((y,A)=>{let b=Te.convert("hsv",{...n.hsv,a:A/s});p(b),y&&m?.(b)},[n.hsv,s,p,m]),f=tt.useMemo(()=>[n.rgb.r,n.rgb.g,n.rgb.b].join(" "),[n.rgb.r,n.rgb.g,n.rgb.b]),S=tt.useMemo(()=>[f,n.rgb.a].join(" / "),[f,n.rgb.a]);return mt.createElement(Qo,{disabled:r,onCoordinateChange:d},mt.createElement("div",{ref:u,style:{background:`linear-gradient(to right, rgb(${f} / 0), rgb(${f} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},mt.createElement("div",{style:{left:c.x,background:`linear-gradient(to right, rgb(${S}), rgb(${S})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-c.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});function q0(n,r){return Math.round(n*10**r)/10**r}function ld({r:n,g:r,b:p,a:m}){let u=[Math.round(n),Math.round(r),Math.round(p)],s=q0(m,3);return s<1&&u.push(s),u.join(", ")}function sd({h:n,s:r,v:p,a:m}){let u=[`${Math.round(n)}°`,`${Math.round(r)}%`,`${Math.round(p)}%`],s=q0(m,3);return s<1&&u.push(s),u.join(", ")}var tp=tt.memo(({hideInput:n,color:r,disabled:p,onChange:m,onChangeComplete:u})=>{let[s,c]=tt.useState({hex:{value:r.hex,inputted:!1},rgb:{value:ld(r.rgb),inputted:!1},hsv:{value:sd(r.hsv),inputted:!1}});tt.useEffect(()=>{s.hex.inputted||c(y=>({...y,hex:{...y.hex,value:r.hex}}))},[s.hex.inputted,r.hex]),tt.useEffect(()=>{s.rgb.inputted||c(y=>({...y,rgb:{...y.rgb,value:ld(r.rgb)}}))},[s.rgb.inputted,r.rgb]),tt.useEffect(()=>{s.hsv.inputted||c(y=>({...y,hsv:{...y.hsv,value:sd(r.hsv)}}))},[s.hsv.inputted,r.hsv]);let d=tt.useCallback(y=>A=>{let{value:b}=A.target;c(v=>({...v,[y]:{...v[y],value:b}})),m(y==="hsv"?Te.convert("hsv",Te.toHsv(b)):y==="rgb"?Te.convert("rgb",Te.toRgb(b)):Te.convert("hex",b))},[m]),f=tt.useCallback(y=>()=>{c(A=>({...A,[y]:{...A[y],inputted:!0}}))},[]),S=tt.useCallback(y=>A=>{let{value:b}=A.target;c(v=>({...v,[y]:{...v[y],inputted:!1}})),u?.(y==="hsv"?Te.convert("hsv",Te.toHsv(b)):y==="rgb"?Te.convert("rgb",Te.toRgb(b)):Te.convert("hex",b))},[u]);return mt.createElement("div",{className:"rcp-fields"},!ka(n,"hex")&&mt.createElement("div",{className:"rcp-fields-floor"},mt.createElement("div",{className:"rcp-field"},mt.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:p,value:s.hex.value,onChange:d("hex"),onFocus:f("hex"),onBlur:S("hex")}),mt.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!ka(n,"rgb")||!ka(n,"hsv"))&&mt.createElement("div",{className:"rcp-fields-floor"},!ka(n,"rgb")&&mt.createElement("div",{className:"rcp-field"},mt.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:p,value:s.rgb.value,onChange:d("rgb"),onFocus:f("rgb"),onBlur:S("rgb")}),mt.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!ka(n,"hsv")&&mt.createElement("div",{className:"rcp-field"},mt.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:p,value:s.hsv.value,onChange:d("hsv"),onFocus:f("hsv"),onBlur:S("hsv")}),mt.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))}),ep=tt.memo(({color:n,disabled:r,onChange:p,onChangeComplete:m})=>{let[u,{width:s}]=Nl(),c=tt.useMemo(()=>({x:n.hsv.h/360*s}),[n.hsv.h,s]),d=tt.useCallback((S,y)=>{let A=Te.convert("hsv",{...n.hsv,h:y/s*360});p(A),S&&m?.(A)},[n.hsv,s,p,m]),f=tt.useMemo(()=>[n.hsv.h,"100%","50%"].join(" "),[n.hsv.h]);return mt.createElement(Qo,{disabled:r,onCoordinateChange:d},mt.createElement("div",{ref:u,className:"rcp-hue"},mt.createElement("div",{style:{left:c.x,backgroundColor:`hsl(${f})`},className:"rcp-hue-cursor"})))}),ap=tt.memo(({height:n,color:r,disabled:p,onChange:m,onChangeComplete:u})=>{let[s,{width:c}]=Nl(),d=tt.useMemo(()=>{let A=r.hsv.s/100*c,b=(100-r.hsv.v)/100*n;return{x:A,y:b}},[r.hsv.s,r.hsv.v,c,n]),f=tt.useCallback((A,b,v)=>{let g=Te.convert("hsv",{...r.hsv,s:b/c*100,v:100-v/n*100});m(g),A&&u?.(g)},[r.hsv,c,n,m,u]),S=tt.useMemo(()=>[r.hsv.h,"100%","50%"].join(" "),[r.hsv.h]),y=tt.useMemo(()=>[r.rgb.r,r.rgb.g,r.rgb.b].join(" "),[r.rgb.r,r.rgb.g,r.rgb.b]);return mt.createElement(Qo,{disabled:p,onCoordinateChange:f},mt.createElement("div",{ref:s,style:{height:n,backgroundColor:`hsl(${S})`},className:"rcp-saturation"},mt.createElement("div",{style:{left:d.x,top:d.y,backgroundColor:`rgb(${y})`},className:"rcp-saturation-cursor"})))}),np=tt.memo(({height:n=200,hideAlpha:r=!1,hideInput:p=!1,color:m,disabled:u=!1,onChange:s,onChangeComplete:c})=>mt.createElement("div",{className:"rcp-root rcp"},mt.createElement(ap,{height:n,color:m,disabled:u,onChange:s,onChangeComplete:c}),mt.createElement("div",{className:"rcp-body"},mt.createElement("section",{className:"rcp-section"},mt.createElement(ep,{color:m,disabled:u,onChange:s,onChangeComplete:c}),!r&&mt.createElement($g,{color:m,disabled:u,onChange:s,onChangeComplete:c})),(!ka(p,"hex")||!ka(p,"rgb")||!ka(p,"hsv"))&&mt.createElement("section",{className:"rcp-section"},mt.createElement(tp,{hideInput:p,color:m,disabled:u,onChange:s,onChangeComplete:c})))));function po(n){let[r,p]=tt.useState(Te.convert("hex",n));return tt.useEffect(()=>{p(Te.convert("hex",n))},[n]),[r,p]}const ip=Ue`
  padding: 4px 5px;
  background: #fff;
  border-radius: 5px;
  display: flex;
  align-items: center;
  cursor: pointer;
`,rp=Ot.button`
  ${ip}

  ${n=>{switch(n.variant){case"hasBorder":return Ue`
          border: 1px solid #cccccc;
          &:hover {
            border: 1px solid #0e1b30;
          }
        `;case"isOpen":return Ue`
          border: 1px solid #0e1b30;
          &:hover {
            border: 1px solid #0e1b30;
          }
        `;default:return Ue`
          border: none;
          &:hover {
            border: none;
          }
        `}}}
`,Za=({hasBorder:n,isOpen:r,...p})=>{const m=r?"isOpen":n?"hasBorder":"default";return et.jsx(rp,{variant:m,...p})};Za.__docgenInfo={description:"",methods:[],displayName:"IconButton",props:{hasBorder:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentProps"]};const vl=({children:n,color:r,toggleIsBlockEvent:p,setColor:m})=>{const[u,s]=tt.useState(!1),c=tt.useRef(null),[d,f]=tt.useState({x:0,y:0}),S=tt.useCallback(v=>{u&&c.current&&(c.current.contains(v.target)||(s(!1),p()))},[u,p]),y=tt.useCallback(v=>{const{x:g,y:C}=v.currentTarget.getBoundingClientRect();f({x:g,y:C}),s(T=>!T),p()},[p]);tt.useEffect(()=>(document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}),[S]);const A=tt.useMemo(()=>({position:"relative"}),[]),b=tt.useMemo(()=>({position:"absolute",left:`${d.x}px`,top:`${d.y-360}px`,transform:"translateX(-50%)",zIndex:"9999"}),[d]);return et.jsxs("div",{style:A,children:[et.jsx(Za,{isOpen:u,onClick:y,hasBorder:!0,children:n}),u&&et.jsx(P2,{children:et.jsx("div",{ref:c,style:b,children:et.jsx(np,{height:150,color:r,onChange:m,hideInput:["hsv"]})})})]})};vl.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},color:{required:!0,tsType:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: ComponentProps<typeof PaletteColorPicker>['color']) => void",signature:{arguments:[{type:{name:"ComponentProps['color']",raw:"ComponentProps<typeof PaletteColorPicker>['color']"},name:"color"}],return:{name:"void"}}},description:""},toggleIsBlockEvent:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const lp=Ot.header`
  display: flex;
  justify-content: end;
  width: 100%;
  position: sticky;
  top: 0;
  padding: 8px;
  border-bottom: 1px solid rgb(243, 243, 243);
`,sp=Ot.div`
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: rotate(90deg);
  }
`,F0=({onToggle:n})=>et.jsx(lp,{children:et.jsx(sp,{children:et.jsx(Za,{onClick:n,hasBorder:!1,children:et.jsx("img",{src:v2,width:20,height:20})})})});F0.__docgenInfo={description:"",methods:[],displayName:"Header",props:{onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const op=["Arial","monospace","Times New Roman","Georgia","Courier New","Verdana"],up=["None","Thin","Normal","Thick"],cp=["png","jpg","webp"],hp=(n,r="png")=>{const p=document.createElement("a");p.href=n,p.setAttribute("download",`thumbnail.${r}`),document.body.appendChild(p),p.click(),document.body.removeChild(p)},dp=(n,r)=>{if(n?.current){const p=n.current.toDataURL();hp(p,r)}},fp=Ot.div`
  position: fixed;
  display: flex;
  justify-content: center;
  border-radius: 7px;
  box-shadow: 1px 1px 10px #cccccc;
  background-color: #ffffff;
  flex-direction: column;
  font-family: Arial;
  z-index: 9999;
  min-width: ${n=>n.isFullWidth?"100%":"600px"};

  ${n=>{switch(n.modalPosition){case"left":return Ue`
          bottom: 0;
          left: 0;
        `;case"right":return Ue`
          bottom: 0;
          right: 0;
        `;case"center":return Ue`
          left: 50%;
          transform: translateX(-50%);
          bottom: 0;
        `;default:return Ue`
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
        `}}}

  * {
    box-sizing: border-box;
  }
`,gp=Ot.div`
  width: 100%;
  max-height: calc(100vh - 45px);
  overflow-y: scroll;
  overflow-x: auto;
`,pp=Ot.div`
  display: flex;
  justify-content: center;
  flex-direction: column;
  margin-bottom: 20px;
`,mp=Ot.button`
  padding: 0;
  background-color: transparent;
  position: fixed;
  cursor: pointer;
  border: none;
  font-size: 0.5rem;
  color: #ffffff;
  transition: 0.2s;
  z-index: 9999;

  &:hover {
    transform: scale(1.1);
  }

  ${n=>{switch(n.iconPosition){case"top-left":return Ue`
          top: 20px;
          left: 20px;
        `;case"top-right":return Ue`
          top: 20px;
          right: 20px;
        `;case"bottom-left":return Ue`
          bottom: 20px;
          left: 20px;
        `;case"bottom-right":return Ue`
          bottom: 20px;
          right: 20px;
        `;default:return Ue`
          bottom: 20px;
          right: 20px;
        `}}}
`,vp=Ot.textarea`
  width: 100%;
  height: auto;
  padding: 5px 10px;
  border: 1px solid #cccccc;
  border-radius: 5px;
  resize: none;
  outline: none;
  font-size: 1.1rem;

  &:focus,
  &:hover {
    border: 1px solid #0e1b30;
  }

  &::placeholder {
    font-size: 1rem;
    color: #cccccc;
  }
`,yp=Ot.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
`,_p=Ot.button`
  background-color: #192841;
  color: #fff;
  width: 300px;
  padding: 12px 15px;
  border: none;
  border-radius: 5px;
  cursor: pointer;

  &:hover {
    filter: brightness(0.8);
  }
`,od=Ot.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
`,Sp=Ot.div`
  padding: 20px 20px 0px 20px;
`,bp=Ot.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  background-color: #fcfcfc;
  border-bottom: 1px solid #ebedf2;
  padding: 8px 10px;
  border-radius: 5px;
`,Cp=Ot.div`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  gap: 8px;
  top: 50px;
  right: 50%;
  transform: translateX(230px);
  background-color: #fcfcfc;
  border: 1px solid #ebedf2;
`;var yl={exports:{}},xi={},mo={},vo={},ud;function At(){return ud||(ud=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const r=Math.PI/180;function p(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof jh<"u"?jh:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.22",isBrowser:p(),isUnminified:/param/.test((function(u){}).toString()),dblClickWindow:400,getAngle(u){return n.Konva.angleDeg?u*r:u},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var u;return(u=n.Konva.Transformer)===null||u===void 0?void 0:u.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(u){n.glob.Konva=u}};const m=u=>{n.Konva[u.prototype.getClassName()]=u};n._registerNode=m,n.Konva._injectGlobal(n.Konva)}(vo)),vo}var yo={},cd;function Zt(){return cd||(cd=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const r=At();class p{constructor(x=[1,0,0,1,0,0]){this.dirty=!1,this.m=x&&x.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new p(this.m)}copyInto(x){x.m[0]=this.m[0],x.m[1]=this.m[1],x.m[2]=this.m[2],x.m[3]=this.m[3],x.m[4]=this.m[4],x.m[5]=this.m[5]}point(x){const E=this.m;return{x:E[0]*x.x+E[2]*x.y+E[4],y:E[1]*x.x+E[3]*x.y+E[5]}}translate(x,E){return this.m[4]+=this.m[0]*x+this.m[2]*E,this.m[5]+=this.m[1]*x+this.m[3]*E,this}scale(x,E){return this.m[0]*=x,this.m[1]*=x,this.m[2]*=E,this.m[3]*=E,this}rotate(x){const E=Math.cos(x),G=Math.sin(x),P=this.m[0]*E+this.m[2]*G,R=this.m[1]*E+this.m[3]*G,D=this.m[0]*-G+this.m[2]*E,z=this.m[1]*-G+this.m[3]*E;return this.m[0]=P,this.m[1]=R,this.m[2]=D,this.m[3]=z,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(x,E){const G=this.m[0]+this.m[2]*E,P=this.m[1]+this.m[3]*E,R=this.m[2]+this.m[0]*x,D=this.m[3]+this.m[1]*x;return this.m[0]=G,this.m[1]=P,this.m[2]=R,this.m[3]=D,this}multiply(x){const E=this.m[0]*x.m[0]+this.m[2]*x.m[1],G=this.m[1]*x.m[0]+this.m[3]*x.m[1],P=this.m[0]*x.m[2]+this.m[2]*x.m[3],R=this.m[1]*x.m[2]+this.m[3]*x.m[3],D=this.m[0]*x.m[4]+this.m[2]*x.m[5]+this.m[4],z=this.m[1]*x.m[4]+this.m[3]*x.m[5]+this.m[5];return this.m[0]=E,this.m[1]=G,this.m[2]=P,this.m[3]=R,this.m[4]=D,this.m[5]=z,this}invert(){const x=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*x,G=-this.m[1]*x,P=-this.m[2]*x,R=this.m[0]*x,D=x*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),z=x*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=G,this.m[2]=P,this.m[3]=R,this.m[4]=D,this.m[5]=z,this}getMatrix(){return this.m}decompose(){const x=this.m[0],E=this.m[1],G=this.m[2],P=this.m[3],R=this.m[4],D=this.m[5],z=x*P-E*G,L={x:R,y:D,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(x!=0||E!=0){const F=Math.sqrt(x*x+E*E);L.rotation=E>0?Math.acos(x/F):-Math.acos(x/F),L.scaleX=F,L.scaleY=z/F,L.skewX=(x*G+E*P)/z,L.skewY=0}else if(G!=0||P!=0){const F=Math.sqrt(G*G+P*P);L.rotation=Math.PI/2-(P>0?Math.acos(-G/F):-Math.acos(G/F)),L.scaleX=z/F,L.scaleY=F,L.skewX=0,L.skewY=(x*G+E*P)/z}return L.rotation=n.Util._getRotation(L.rotation),L}}n.Transform=p;const m="[object Array]",u="[object Number]",s="[object String]",c="[object Boolean]",d=Math.PI/180,f=180/Math.PI,S="#",y="",A="0",b="Konva warning: ",v="Konva error: ",g="rgb(",C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let O=[];const _=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(o){setTimeout(o,60)};n.Util={_isElement(o){return!!(o&&o.nodeType==1)},_isFunction(o){return!!(o&&o.constructor&&o.call&&o.apply)},_isPlainObject(o){return!!o&&o.constructor===Object},_isArray(o){return Object.prototype.toString.call(o)===m},_isNumber(o){return Object.prototype.toString.call(o)===u&&!isNaN(o)&&isFinite(o)},_isString(o){return Object.prototype.toString.call(o)===s},_isBoolean(o){return Object.prototype.toString.call(o)===c},isObject(o){return o instanceof Object},isValidSelector(o){if(typeof o!="string")return!1;const x=o[0];return x==="#"||x==="."||x===x.toUpperCase()},_sign(o){return o===0||o>0?1:-1},requestAnimFrame(o){O.push(o),O.length===1&&_(function(){const x=O;O=[],x.forEach(function(E){E()})})},createCanvasElement(){const o=document.createElement("canvas");try{o.style=o.style||{}}catch{}return o},createImageElement(){return document.createElement("img")},_isInDocument(o){for(;o=o.parentNode;)if(o==document)return!0;return!1},_urlToImage(o,x){const E=n.Util.createImageElement();E.onload=function(){x(E)},E.src=o},_rgbToHex(o,x,E){return((1<<24)+(o<<16)+(x<<8)+E).toString(16).slice(1)},_hexToRgb(o){o=o.replace(S,y);const x=parseInt(o,16);return{r:x>>16&255,g:x>>8&255,b:x&255}},getRandomColor(){let o=(Math.random()*16777215<<0).toString(16);for(;o.length<6;)o=A+o;return S+o},getRGB(o){let x;return o in C?(x=C[o],{r:x[0],g:x[1],b:x[2]}):o[0]===S?this._hexToRgb(o.substring(1)):o.substr(0,4)===g?(x=T.exec(o.replace(/ /g,"")),{r:parseInt(x[1],10),g:parseInt(x[2],10),b:parseInt(x[3],10)}):{r:0,g:0,b:0}},colorToRGBA(o){return o=o||"black",n.Util._namedColorToRBA(o)||n.Util._hex3ColorToRGBA(o)||n.Util._hex4ColorToRGBA(o)||n.Util._hex6ColorToRGBA(o)||n.Util._hex8ColorToRGBA(o)||n.Util._rgbColorToRGBA(o)||n.Util._rgbaColorToRGBA(o)||n.Util._hslColorToRGBA(o)},_namedColorToRBA(o){const x=C[o.toLowerCase()];return x?{r:x[0],g:x[1],b:x[2],a:1}:null},_rgbColorToRGBA(o){if(o.indexOf("rgb(")===0){o=o.match(/rgb\(([^)]+)\)/)[1];const x=o.split(/ *, */).map(Number);return{r:x[0],g:x[1],b:x[2],a:1}}},_rgbaColorToRGBA(o){if(o.indexOf("rgba(")===0){o=o.match(/rgba\(([^)]+)\)/)[1];const x=o.split(/ *, */).map((E,G)=>E.slice(-1)==="%"?G===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:x[0],g:x[1],b:x[2],a:x[3]}}},_hex8ColorToRGBA(o){if(o[0]==="#"&&o.length===9)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:parseInt(o.slice(7,9),16)/255}},_hex6ColorToRGBA(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:1}},_hex4ColorToRGBA(o){if(o[0]==="#"&&o.length===5)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:parseInt(o[4]+o[4],16)/255}},_hex3ColorToRGBA(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:1}},_hslColorToRGBA(o){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(o)){const[x,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(o),G=Number(E[0])/360,P=Number(E[1])/100,R=Number(E[2])/100;let D,z,L;if(P===0)return L=R*255,{r:Math.round(L),g:Math.round(L),b:Math.round(L),a:1};R<.5?D=R*(1+P):D=R+P-R*P;const F=2*R-D,K=[0,0,0];for(let Q=0;Q<3;Q++)z=G+1/3*-(Q-1),z<0&&z++,z>1&&z--,6*z<1?L=F+(D-F)*6*z:2*z<1?L=D:3*z<2?L=F+(D-F)*(2/3-z)*6:L=F,K[Q]=L*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(o,x){return!(x.x>o.x+o.width||x.x+x.width<o.x||x.y>o.y+o.height||x.y+x.height<o.y)},cloneObject(o){const x={};for(const E in o)this._isPlainObject(o[E])?x[E]=this.cloneObject(o[E]):this._isArray(o[E])?x[E]=this.cloneArray(o[E]):x[E]=o[E];return x},cloneArray(o){return o.slice(0)},degToRad(o){return o*d},radToDeg(o){return o*f},_degToRad(o){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(o)},_radToDeg(o){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(o)},_getRotation(o){return r.Konva.angleDeg?n.Util.radToDeg(o):o},_capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)},throw(o){throw new Error(v+o)},error(o){console.error(v+o)},warn(o){r.Konva.showWarnings&&console.warn(b+o)},each(o,x){for(const E in o)x(E,o[E])},_inRange(o,x,E){return x<=o&&o<E},_getProjectionToSegment(o,x,E,G,P,R){let D,z,L;const F=(o-E)*(o-E)+(x-G)*(x-G);if(F==0)D=o,z=x,L=(P-E)*(P-E)+(R-G)*(R-G);else{const K=((P-o)*(E-o)+(R-x)*(G-x))/F;K<0?(D=o,z=x,L=(o-P)*(o-P)+(x-R)*(x-R)):K>1?(D=E,z=G,L=(E-P)*(E-P)+(G-R)*(G-R)):(D=o+K*(E-o),z=x+K*(G-x),L=(D-P)*(D-P)+(z-R)*(z-R))}return[D,z,L]},_getProjectionToLine(o,x,E){const G=n.Util.cloneObject(o);let P=Number.MAX_VALUE;return x.forEach(function(R,D){if(!E&&D===x.length-1)return;const z=x[(D+1)%x.length],L=n.Util._getProjectionToSegment(R.x,R.y,z.x,z.y,o.x,o.y),F=L[0],K=L[1],Q=L[2];Q<P&&(G.x=F,G.y=K,P=Q)}),G},_prepareArrayForTween(o,x,E){const G=[],P=[];if(o.length>x.length){const D=x;x=o,o=D}for(let D=0;D<o.length;D+=2)G.push({x:o[D],y:o[D+1]});for(let D=0;D<x.length;D+=2)P.push({x:x[D],y:x[D+1]});const R=[];return P.forEach(function(D){const z=n.Util._getProjectionToLine(D,G,E);R.push(z.x),R.push(z.y)}),R},_prepareToStringify(o){let x;o.visitedByCircularReferenceRemoval=!0;for(const E in o)if(o.hasOwnProperty(E)&&o[E]&&typeof o[E]=="object"){if(x=Object.getOwnPropertyDescriptor(o,E),o[E].visitedByCircularReferenceRemoval||n.Util._isElement(o[E]))if(x.configurable)delete o[E];else return null;else if(n.Util._prepareToStringify(o[E])===null)if(x.configurable)delete o[E];else return null}return delete o.visitedByCircularReferenceRemoval,o},_assign(o,x){for(const E in x)o[E]=x[E];return o},_getFirstPointerId(o){return o.touches?o.changedTouches[0].identifier:o.pointerId||999},releaseCanvas(...o){r.Konva.releaseCanvasOnDestroy&&o.forEach(x=>{x.width=0,x.height=0})},drawRoundedRectPath(o,x,E,G){let P=0,R=0,D=0,z=0;typeof G=="number"?P=R=D=z=Math.min(G,x/2,E/2):(P=Math.min(G[0]||0,x/2,E/2),R=Math.min(G[1]||0,x/2,E/2),z=Math.min(G[2]||0,x/2,E/2),D=Math.min(G[3]||0,x/2,E/2)),o.moveTo(P,0),o.lineTo(x-R,0),o.arc(x-R,R,R,Math.PI*3/2,0,!1),o.lineTo(x,E-z),o.arc(x-z,E-z,z,0,Math.PI/2,!1),o.lineTo(D,E),o.arc(D,E-D,D,Math.PI/2,Math.PI,!1),o.lineTo(0,P),o.arc(P,P,P,Math.PI,Math.PI*3/2,!1)}}}(yo)),yo}var Ti={},Ea={},xa={},hd;function j0(){if(hd)return xa;hd=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.HitContext=xa.SceneContext=xa.Context=void 0;const n=Zt(),r=At();function p(O){const _=[],o=O.length,x=n.Util;for(let E=0;E<o;E++){let G=O[E];x._isNumber(G)?G=Math.round(G*1e3)/1e3:x._isString(G)||(G=G+""),_.push(G)}return _}const m=",",u="(",s=")",c="([",d="])",f=";",S="()",y="=",A=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],v=100;let g=class{constructor(_){this.canvas=_,r.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(_){_.fillEnabled()&&this._fill(_)}_fill(_){}strokeShape(_){_.hasStroke()&&this._stroke(_)}_stroke(_){}fillStrokeShape(_){_.attrs.fillAfterStrokeEnabled?(this.strokeShape(_),this.fillShape(_)):(this.fillShape(_),this.strokeShape(_))}getTrace(_,o){let x=this.traceArr,E=x.length,G="",P,R,D,z;for(P=0;P<E;P++)R=x[P],D=R.method,D?(z=R.args,G+=D,_?G+=S:n.Util._isArray(z[0])?G+=c+z.join(m)+d:(o&&(z=z.map(L=>typeof L=="number"?Math.floor(L):L)),G+=u+z.join(m)+s)):(G+=R.property,_||(G+=y+R.val)),G+=f;return G}clearTrace(){this.traceArr=[]}_trace(_){let o=this.traceArr,x;o.push(_),x=o.length,x>=v&&o.shift()}reset(){const _=this.getCanvas().getPixelRatio();this.setTransform(1*_,0,0,1*_,0,0)}getCanvas(){return this.canvas}clear(_){const o=this.getCanvas();_?this.clearRect(_.x||0,_.y||0,_.width||0,_.height||0):this.clearRect(0,0,o.getWidth()/o.pixelRatio,o.getHeight()/o.pixelRatio)}_applyLineCap(_){const o=_.attrs.lineCap;o&&this.setAttr("lineCap",o)}_applyOpacity(_){const o=_.getAbsoluteOpacity();o!==1&&this.setAttr("globalAlpha",o)}_applyLineJoin(_){const o=_.attrs.lineJoin;o&&this.setAttr("lineJoin",o)}setAttr(_,o){this._context[_]=o}arc(_,o,x,E,G,P){this._context.arc(_,o,x,E,G,P)}arcTo(_,o,x,E,G){this._context.arcTo(_,o,x,E,G)}beginPath(){this._context.beginPath()}bezierCurveTo(_,o,x,E,G,P){this._context.bezierCurveTo(_,o,x,E,G,P)}clearRect(_,o,x,E){this._context.clearRect(_,o,x,E)}clip(..._){this._context.clip.apply(this._context,_)}closePath(){this._context.closePath()}createImageData(_,o){const x=arguments;if(x.length===2)return this._context.createImageData(_,o);if(x.length===1)return this._context.createImageData(_)}createLinearGradient(_,o,x,E){return this._context.createLinearGradient(_,o,x,E)}createPattern(_,o){return this._context.createPattern(_,o)}createRadialGradient(_,o,x,E,G,P){return this._context.createRadialGradient(_,o,x,E,G,P)}drawImage(_,o,x,E,G,P,R,D,z){const L=arguments,F=this._context;L.length===3?F.drawImage(_,o,x):L.length===5?F.drawImage(_,o,x,E,G):L.length===9&&F.drawImage(_,o,x,E,G,P,R,D,z)}ellipse(_,o,x,E,G,P,R,D){this._context.ellipse(_,o,x,E,G,P,R,D)}isPointInPath(_,o,x,E){return x?this._context.isPointInPath(x,_,o,E):this._context.isPointInPath(_,o,E)}fill(..._){this._context.fill.apply(this._context,_)}fillRect(_,o,x,E){this._context.fillRect(_,o,x,E)}strokeRect(_,o,x,E){this._context.strokeRect(_,o,x,E)}fillText(_,o,x,E){E?this._context.fillText(_,o,x,E):this._context.fillText(_,o,x)}measureText(_){return this._context.measureText(_)}getImageData(_,o,x,E){return this._context.getImageData(_,o,x,E)}lineTo(_,o){this._context.lineTo(_,o)}moveTo(_,o){this._context.moveTo(_,o)}rect(_,o,x,E){this._context.rect(_,o,x,E)}roundRect(_,o,x,E,G){this._context.roundRect(_,o,x,E,G)}putImageData(_,o,x){this._context.putImageData(_,o,x)}quadraticCurveTo(_,o,x,E){this._context.quadraticCurveTo(_,o,x,E)}restore(){this._context.restore()}rotate(_){this._context.rotate(_)}save(){this._context.save()}scale(_,o){this._context.scale(_,o)}setLineDash(_){this._context.setLineDash?this._context.setLineDash(_):"mozDash"in this._context?this._context.mozDash=_:"webkitLineDash"in this._context&&(this._context.webkitLineDash=_)}getLineDash(){return this._context.getLineDash()}setTransform(_,o,x,E,G,P){this._context.setTransform(_,o,x,E,G,P)}stroke(_){_?this._context.stroke(_):this._context.stroke()}strokeText(_,o,x,E){this._context.strokeText(_,o,x,E)}transform(_,o,x,E,G,P){this._context.transform(_,o,x,E,G,P)}translate(_,o){this._context.translate(_,o)}_enableTrace(){let _=this,o=A.length,x=this.setAttr,E,G;const P=function(R){let D=_[R],z;_[R]=function(){return G=p(Array.prototype.slice.call(arguments,0)),z=D.apply(_,arguments),_._trace({method:R,args:G}),z}};for(E=0;E<o;E++)P(A[E]);_.setAttr=function(){x.apply(_,arguments);const R=arguments[0];let D=arguments[1];(R==="shadowOffsetX"||R==="shadowOffsetY"||R==="shadowBlur")&&(D=D/this.canvas.getPixelRatio()),_._trace({property:R,val:D})}}_applyGlobalCompositeOperation(_){const o=_.attrs.globalCompositeOperation;!o||o==="source-over"||this.setAttr("globalCompositeOperation",o)}};xa.Context=g,b.forEach(function(O){Object.defineProperty(g.prototype,O,{get(){return this._context[O]},set(_){this._context[O]=_}})});class C extends g{constructor(_,{willReadFrequently:o=!1}={}){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:o})}_fillColor(_){const o=_.fill();this.setAttr("fillStyle",o),_._fillFunc(this)}_fillPattern(_){this.setAttr("fillStyle",_._getFillPattern()),_._fillFunc(this)}_fillLinearGradient(_){const o=_._getLinearGradient();o&&(this.setAttr("fillStyle",o),_._fillFunc(this))}_fillRadialGradient(_){const o=_._getRadialGradient();o&&(this.setAttr("fillStyle",o),_._fillFunc(this))}_fill(_){const o=_.fill(),x=_.getFillPriority();if(o&&x==="color"){this._fillColor(_);return}const E=_.getFillPatternImage();if(E&&x==="pattern"){this._fillPattern(_);return}const G=_.getFillLinearGradientColorStops();if(G&&x==="linear-gradient"){this._fillLinearGradient(_);return}const P=_.getFillRadialGradientColorStops();if(P&&x==="radial-gradient"){this._fillRadialGradient(_);return}o?this._fillColor(_):E?this._fillPattern(_):G?this._fillLinearGradient(_):P&&this._fillRadialGradient(_)}_strokeLinearGradient(_){const o=_.getStrokeLinearGradientStartPoint(),x=_.getStrokeLinearGradientEndPoint(),E=_.getStrokeLinearGradientColorStops(),G=this.createLinearGradient(o.x,o.y,x.x,x.y);if(E){for(let P=0;P<E.length;P+=2)G.addColorStop(E[P],E[P+1]);this.setAttr("strokeStyle",G)}}_stroke(_){const o=_.dash(),x=_.getStrokeScaleEnabled();if(_.hasStroke()){if(!x){this.save();const G=this.getCanvas().getPixelRatio();this.setTransform(G,0,0,G,0,0)}this._applyLineCap(_),o&&_.dashEnabled()&&(this.setLineDash(o),this.setAttr("lineDashOffset",_.dashOffset())),this.setAttr("lineWidth",_.strokeWidth()),_.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),_.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(_):this.setAttr("strokeStyle",_.stroke()),_._strokeFunc(this),x||this.restore()}}_applyShadow(_){var o,x,E;const G=(o=_.getShadowRGBA())!==null&&o!==void 0?o:"black",P=(x=_.getShadowBlur())!==null&&x!==void 0?x:5,R=(E=_.getShadowOffset())!==null&&E!==void 0?E:{x:0,y:0},D=_.getAbsoluteScale(),z=this.canvas.getPixelRatio(),L=D.x*z,F=D.y*z;this.setAttr("shadowColor",G),this.setAttr("shadowBlur",P*Math.min(Math.abs(L),Math.abs(F))),this.setAttr("shadowOffsetX",R.x*L),this.setAttr("shadowOffsetY",R.y*F)}}xa.SceneContext=C;class T extends g{constructor(_){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:!0})}_fill(_){this.save(),this.setAttr("fillStyle",_.colorKey),_._fillFuncHit(this),this.restore()}strokeShape(_){_.hasHitStroke()&&this._stroke(_)}_stroke(_){if(_.hasHitStroke()){const o=_.getStrokeScaleEnabled();if(!o){this.save();const G=this.getCanvas().getPixelRatio();this.setTransform(G,0,0,G,0,0)}this._applyLineCap(_);const x=_.hitStrokeWidth(),E=x==="auto"?_.strokeWidth():x;this.setAttr("lineWidth",E),this.setAttr("strokeStyle",_.colorKey),_._strokeFuncHit(this),o||this.restore()}}}return xa.HitContext=T,xa}var dd;function Rl(){if(dd)return Ea;dd=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.HitCanvas=Ea.SceneCanvas=Ea.Canvas=void 0;const n=Zt(),r=j0(),p=At();let m;function u(){if(m)return m;const f=n.Util.createCanvasElement(),S=f.getContext("2d");return m=function(){const y=p.Konva._global.devicePixelRatio||1,A=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return y/A}(),n.Util.releaseCanvas(f),m}let s=class{constructor(S){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const A=(S||{}).pixelRatio||p.Konva.pixelRatio||u();this.pixelRatio=A,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(S){const y=this.pixelRatio;this.pixelRatio=S,this.setSize(this.getWidth()/y,this.getHeight()/y)}setWidth(S){this.width=this._canvas.width=S*this.pixelRatio,this._canvas.style.width=S+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}setHeight(S){this.height=this._canvas.height=S*this.pixelRatio,this._canvas.style.height=S+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}getWidth(){return this.width}getHeight(){return this.height}setSize(S,y){this.setWidth(S||0),this.setHeight(y||0)}toDataURL(S,y){try{return this._canvas.toDataURL(S,y)}catch{try{return this._canvas.toDataURL()}catch(b){return n.Util.error("Unable to get data URL. "+b.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Ea.Canvas=s;class c extends s{constructor(S={width:0,height:0,willReadFrequently:!1}){super(S),this.context=new r.SceneContext(this,{willReadFrequently:S.willReadFrequently}),this.setSize(S.width,S.height)}}Ea.SceneCanvas=c;class d extends s{constructor(S={width:0,height:0}){super(S),this.hitCanvas=!0,this.context=new r.HitContext(this),this.setSize(S.width,S.height)}}return Ea.HitCanvas=d,Ea}var _o={},fd;function ko(){return fd||(fd=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const r=At(),p=Zt();n.DD={get isDragging(){let m=!1;return n.DD._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(m=!0)}),m},justDragged:!1,get node(){let m;return n.DD._dragElements.forEach(u=>{m=u.node}),m},_dragElements:new Map,_drag(m){const u=[];n.DD._dragElements.forEach((s,c)=>{const{node:d}=s,f=d.getStage();f.setPointersPositions(m),s.pointerId===void 0&&(s.pointerId=p.Util._getFirstPointerId(m));const S=f._changedPointerPositions.find(y=>y.id===s.pointerId);if(S){if(s.dragStatus!=="dragging"){const y=d.dragDistance();if(Math.max(Math.abs(S.x-s.startPointerPos.x),Math.abs(S.y-s.startPointerPos.y))<y||(d.startDrag({evt:m}),!d.isDragging()))return}d._setDragPosition(m,s),u.push(d)}}),u.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:m},!0)})},_endDragBefore(m){const u=[];n.DD._dragElements.forEach(s=>{const{node:c}=s,d=c.getStage();if(m&&d.setPointersPositions(m),!d._changedPointerPositions.find(y=>y.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(n.DD.justDragged=!0,r.Konva._mouseListenClick=!1,r.Konva._touchListenClick=!1,r.Konva._pointerListenClick=!1,s.dragStatus="stopped");const S=s.node.getLayer()||s.node instanceof r.Konva.Stage&&s.node;S&&u.indexOf(S)===-1&&u.push(S)}),u.forEach(s=>{s.draw()})},_endDragAfter(m){n.DD._dragElements.forEach((u,s)=>{u.dragStatus==="stopped"&&u.node.fire("dragend",{type:"dragend",target:u.node,evt:m},!0),u.dragStatus!=="dragging"&&n.DD._dragElements.delete(s)})}},r.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(_o)),_o}var So={},De={},gd;function Nt(){if(gd)return De;gd=1,Object.defineProperty(De,"__esModule",{value:!0}),De.RGBComponent=m,De.alphaComponent=u,De.getNumberValidator=s,De.getNumberOrArrayOfNumbersValidator=c,De.getNumberOrAutoValidator=d,De.getStringValidator=f,De.getStringOrGradientValidator=S,De.getFunctionValidator=y,De.getNumberArrayValidator=A,De.getBooleanValidator=b,De.getComponentValidator=v;const n=At(),r=Zt();function p(g){return r.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||r.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function m(g){return g>255?255:g<0?0:Math.round(g)}function u(g){return g>1?1:g<1e-4?1e-4:g}function s(){if(n.Konva.isUnminified)return function(g,C){return r.Util._isNumber(g)||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a number.'),g}}function c(g){if(n.Konva.isUnminified)return function(C,T){let O=r.Util._isNumber(C),_=r.Util._isArray(C)&&C.length==g;return!O&&!_&&r.Util.warn(p(C)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+g+")"),C}}function d(){if(n.Konva.isUnminified)return function(g,C){return r.Util._isNumber(g)||g==="auto"||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a number or "auto".'),g}}function f(){if(n.Konva.isUnminified)return function(g,C){return r.Util._isString(g)||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a string.'),g}}function S(){if(n.Konva.isUnminified)return function(g,C){const T=r.Util._isString(g),O=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return T||O||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a string or a native gradient.'),g}}function y(){if(n.Konva.isUnminified)return function(g,C){return r.Util._isFunction(g)||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a function.'),g}}function A(){if(n.Konva.isUnminified)return function(g,C){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&g instanceof T||(r.Util._isArray(g)?g.forEach(function(O){r.Util._isNumber(O)||r.Util.warn('"'+C+'" attribute has non numeric element '+O+". Make sure that all elements are numbers.")}):r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a array of numbers.')),g}}function b(){if(n.Konva.isUnminified)return function(g,C){return g===!0||g===!1||r.Util.warn(p(g)+' is a not valid value for "'+C+'" attribute. The value should be a boolean.'),g}}function v(g){if(n.Konva.isUnminified)return function(C,T){return C==null||r.Util.isObject(C)||r.Util.warn(p(C)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+g),C}}return De}var pd;function Tt(){return pd||(pd=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const r=Zt(),p=Nt(),m="get",u="set";n.Factory={addGetterSetter(s,c,d,f,S){n.Factory.addGetter(s,c,d),n.Factory.addSetter(s,c,f,S),n.Factory.addOverloadedGetterSetter(s,c)},addGetter(s,c,d){const f=m+r.Util._capitalize(c);s.prototype[f]=s.prototype[f]||function(){const S=this.attrs[c];return S===void 0?d:S}},addSetter(s,c,d,f){const S=u+r.Util._capitalize(c);s.prototype[S]||n.Factory.overWriteSetter(s,c,d,f)},overWriteSetter(s,c,d,f){const S=u+r.Util._capitalize(c);s.prototype[S]=function(y){return d&&y!==void 0&&y!==null&&(y=d.call(this,y,c)),this._setAttr(c,y),f&&f.call(this),this}},addComponentsGetterSetter(s,c,d,f,S){const y=d.length,A=r.Util._capitalize,b=m+A(c),v=u+A(c);s.prototype[b]=function(){const C={};for(let T=0;T<y;T++){const O=d[T];C[O]=this.getAttr(c+A(O))}return C};const g=(0,p.getComponentValidator)(d);s.prototype[v]=function(C){const T=this.attrs[c];f&&(C=f.call(this,C,c)),g&&g.call(this,C,c);for(const O in C)C.hasOwnProperty(O)&&this._setAttr(c+A(O),C[O]);return C||d.forEach(O=>{this._setAttr(c+A(O),void 0)}),this._fireChangeEvent(c,T,C),S&&S.call(this),this},n.Factory.addOverloadedGetterSetter(s,c)},addOverloadedGetterSetter(s,c){const d=r.Util._capitalize(c),f=u+d,S=m+d;s.prototype[c]=function(){return arguments.length?(this[f](arguments[0]),this):this[S]()}},addDeprecatedGetterSetter(s,c,d,f){r.Util.error("Adding deprecated "+c);const S=m+r.Util._capitalize(c),y=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[S]=function(){r.Util.error(y);const A=this.attrs[c];return A===void 0?d:A},n.Factory.addSetter(s,c,f,function(){r.Util.error(y)}),n.Factory.addOverloadedGetterSetter(s,c)},backCompat(s,c){r.Util.each(c,function(d,f){const S=s.prototype[f],y=m+r.Util._capitalize(d),A=u+r.Util._capitalize(d);function b(){S.apply(this,arguments),r.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}s.prototype[d]=b,s.prototype[y]=b,s.prototype[A]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(So)),So}var md;function It(){if(md)return Ti;md=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Node=void 0;const n=Rl(),r=ko(),p=Tt(),m=At(),u=Zt(),s=Nt(),c="absoluteOpacity",d="allEventListeners",f="absoluteTransform",S="absoluteScale",y="canvas",A="Change",b="children",v="konva",g="listening",C="mouseenter",T="mouseleave",O="pointerenter",_="pointerleave",o="touchenter",x="touchleave",E="set",G="Shape",P=" ",R="stage",D="transform",z="Stage",L="visible",F=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(P);let K=1,Q=class zo{constructor(N){this._id=K++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(N),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(N){(N===D||N===f)&&this._cache.get(N)?this._cache.get(N).dirty=!0:N?this._cache.delete(N):this._cache.clear()}_getCache(N,M){let w=this._cache.get(N);return(w===void 0||(N===D||N===f)&&w.dirty===!0)&&(w=M.call(this),this._cache.set(N,w)),w}_calculate(N,M,w){if(!this._attachedDepsListeners.get(N)){const B=M.map(V=>V+"Change.konva").join(P);this.on(B,()=>{this._clearCache(N)}),this._attachedDepsListeners.set(N,!0)}return this._getCache(N,w)}_getCanvasCache(){return this._cache.get(y)}_clearSelfAndDescendantCache(N){this._clearCache(N),N===f&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(y)){const{scene:N,filter:M,hit:w,buffer:B}=this._cache.get(y);u.Util.releaseCanvas(N,M,w,B),this._cache.delete(y)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(N){const M=N||{};let w={};(M.x===void 0||M.y===void 0||M.width===void 0||M.height===void 0)&&(w=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let B=Math.ceil(M.width||w.width),V=Math.ceil(M.height||w.height),$=M.pixelRatio,Y=M.x===void 0?Math.floor(w.x):M.x,at=M.y===void 0?Math.floor(w.y):M.y,ot=M.offset||0,I=M.drawBorder||!1,H=M.hitCanvasPixelRatio||1;if(!B||!V){u.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Z=Math.abs(Math.round(w.x)-Y)>.5?1:0,st=Math.abs(Math.round(w.y)-at)>.5?1:0;B+=ot*2+Z,V+=ot*2+st,Y-=ot,at-=ot;const ut=new n.SceneCanvas({pixelRatio:$,width:B,height:V}),dt=new n.SceneCanvas({pixelRatio:$,width:0,height:0,willReadFrequently:!0}),yt=new n.HitCanvas({pixelRatio:H,width:B,height:V}),_t=ut.getContext(),Ut=yt.getContext(),gt=new n.SceneCanvas({width:ut.width/ut.pixelRatio+Math.abs(Y),height:ut.height/ut.pixelRatio+Math.abs(at),pixelRatio:ut.pixelRatio}),Ft=gt.getContext();return yt.isCache=!0,ut.isCache=!0,this._cache.delete(y),this._filterUpToDate=!1,M.imageSmoothingEnabled===!1&&(ut.getContext()._context.imageSmoothingEnabled=!1,dt.getContext()._context.imageSmoothingEnabled=!1),_t.save(),Ut.save(),Ft.save(),_t.translate(-Y,-at),Ut.translate(-Y,-at),Ft.translate(-Y,-at),gt.x=Y,gt.y=at,this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(S),this.drawScene(ut,this,gt),this.drawHit(yt,this),this._isUnderCache=!1,_t.restore(),Ut.restore(),I&&(_t.save(),_t.beginPath(),_t.rect(0,0,B,V),_t.closePath(),_t.setAttr("strokeStyle","red"),_t.setAttr("lineWidth",5),_t.stroke(),_t.restore()),this._cache.set(y,{scene:ut,filter:dt,hit:yt,buffer:gt,x:Y,y:at}),this._requestDraw(),this}isCached(){return this._cache.has(y)}getClientRect(N){throw new Error('abstract "getClientRect" method call')}_transformedRect(N,M){const w=[{x:N.x,y:N.y},{x:N.x+N.width,y:N.y},{x:N.x+N.width,y:N.y+N.height},{x:N.x,y:N.y+N.height}];let B=1/0,V=1/0,$=-1/0,Y=-1/0;const at=this.getAbsoluteTransform(M);return w.forEach(function(ot){const I=at.point(ot);B===void 0&&(B=$=I.x,V=Y=I.y),B=Math.min(B,I.x),V=Math.min(V,I.y),$=Math.max($,I.x),Y=Math.max(Y,I.y)}),{x:B,y:V,width:$-B,height:Y-V}}_drawCachedSceneCanvas(N){N.save(),N._applyOpacity(this),N._applyGlobalCompositeOperation(this);const M=this._getCanvasCache();N.translate(M.x,M.y);const w=this._getCachedSceneCanvas(),B=w.pixelRatio;N.drawImage(w._canvas,0,0,w.width/B,w.height/B),N.restore()}_drawCachedHitCanvas(N){const M=this._getCanvasCache(),w=M.hit;N.save(),N.translate(M.x,M.y),N.drawImage(w._canvas,0,0,w.width/w.pixelRatio,w.height/w.pixelRatio),N.restore()}_getCachedSceneCanvas(){let N=this.filters(),M=this._getCanvasCache(),w=M.scene,B=M.filter,V=B.getContext(),$,Y,at,ot;if(N){if(!this._filterUpToDate){const I=w.pixelRatio;B.setSize(w.width/w.pixelRatio,w.height/w.pixelRatio);try{for($=N.length,V.clear(),V.drawImage(w._canvas,0,0,w.getWidth()/I,w.getHeight()/I),Y=V.getImageData(0,0,B.getWidth(),B.getHeight()),at=0;at<$;at++){if(ot=N[at],typeof ot!="function"){u.Util.error("Filter should be type of function, but got "+typeof ot+" instead. Please check correct filters");continue}ot.call(this,Y),V.putImageData(Y,0,0)}}catch(H){u.Util.error("Unable to apply filter. "+H.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return B}return w}on(N,M){if(this._cache&&this._cache.delete(d),arguments.length===3)return this._delegate.apply(this,arguments);const w=N.split(P);for(let B=0;B<w.length;B++){const $=w[B].split("."),Y=$[0],at=$[1]||"";this.eventListeners[Y]||(this.eventListeners[Y]=[]),this.eventListeners[Y].push({name:at,handler:M})}return this}off(N,M){let w=(N||"").split(P),B=w.length,V,$,Y,at,ot,I;if(this._cache&&this._cache.delete(d),!N)for($ in this.eventListeners)this._off($);for(V=0;V<B;V++)if(Y=w[V],at=Y.split("."),ot=at[0],I=at[1],ot)this.eventListeners[ot]&&this._off(ot,I,M);else for($ in this.eventListeners)this._off($,I,M);return this}dispatchEvent(N){const M={target:this,type:N.type,evt:N};return this.fire(N.type,M),this}addEventListener(N,M){return this.on(N,function(w){M.call(this,w.evt)}),this}removeEventListener(N){return this.off(N),this}_delegate(N,M,w){const B=this;this.on(N,function(V){const $=V.target.findAncestors(M,!0,B);for(let Y=0;Y<$.length;Y++)V=u.Util.cloneObject(V),V.currentTarget=$[Y],w.call($[Y],V)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const N=this.getParent();N&&N.children&&(N.children.splice(this.index,1),N._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(N){const M="get"+u.Util._capitalize(N);return u.Util._isFunction(this[M])?this[M]():this.attrs[N]}getAncestors(){let N=this.getParent(),M=[];for(;N;)M.push(N),N=N.getParent();return M}getAttrs(){return this.attrs||{}}setAttrs(N){return this._batchTransformChanges(()=>{let M,w;if(!N)return this;for(M in N)M!==b&&(w=E+u.Util._capitalize(M),u.Util._isFunction(this[w])?this[w](N[M]):this._setAttr(M,N[M]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(N){if(!this.listening())return!1;const w=this.getParent();return w&&w!==N&&this!==N?w._isListening(N):!0}isVisible(){return this._getCache(L,this._isVisible)}_isVisible(N){if(!this.visible())return!1;const w=this.getParent();return w&&w!==N&&this!==N?w._isVisible(N):!0}shouldDrawHit(N,M=!1){if(N)return this._isVisible(N)&&this._isListening(N);const w=this.getLayer();let B=!1;r.DD._dragElements.forEach($=>{$.dragStatus==="dragging"&&($.node.nodeType==="Stage"||$.node.getLayer()===w)&&(B=!0)});const V=!M&&!m.Konva.hitOnDragEnabled&&(B||m.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!V}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let N=this.getDepth(),M=this,w=0,B,V,$,Y;function at(I){for(B=[],V=I.length,$=0;$<V;$++)Y=I[$],w++,Y.nodeType!==G&&(B=B.concat(Y.getChildren().slice())),Y._id===M._id&&($=V);B.length>0&&B[0].getDepth()<=N&&at(B)}const ot=this.getStage();return M.nodeType!==z&&ot&&at(ot.getChildren()),w}getDepth(){let N=0,M=this.parent;for(;M;)N++,M=M.parent;return N}_batchTransformChanges(N){this._batchingTransformChange=!0,N(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(D),this._clearSelfAndDescendantCache(f)),this._needClearTransformCache=!1}setPosition(N){return this._batchTransformChanges(()=>{this.x(N.x),this.y(N.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const N=this.getStage();if(!N)return null;const M=N.getPointerPosition();if(!M)return null;const w=this.getAbsoluteTransform().copy();return w.invert(),w.point(M)}getAbsolutePosition(N){let M=!1,w=this.parent;for(;w;){if(w.isCached()){M=!0;break}w=w.parent}M&&!N&&(N=!0);const B=this.getAbsoluteTransform(N).getMatrix(),V=new u.Transform,$=this.offset();return V.m=B.slice(),V.translate($.x,$.y),V.getTranslation()}setAbsolutePosition(N){const{x:M,y:w,...B}=this._clearTransform();this.attrs.x=M,this.attrs.y=w,this._clearCache(D);const V=this._getAbsoluteTransform().copy();return V.invert(),V.translate(N.x,N.y),N={x:this.attrs.x+V.getTranslation().x,y:this.attrs.y+V.getTranslation().y},this._setTransform(B),this.setPosition({x:N.x,y:N.y}),this._clearCache(D),this._clearSelfAndDescendantCache(f),this}_setTransform(N){let M;for(M in N)this.attrs[M]=N[M]}_clearTransform(){const N={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,N}move(N){let M=N.x,w=N.y,B=this.x(),V=this.y();return M!==void 0&&(B+=M),w!==void 0&&(V+=w),this.setPosition({x:B,y:V}),this}_eachAncestorReverse(N,M){let w=[],B=this.getParent(),V,$;if(!(M&&M._id===this._id)){for(w.unshift(this);B&&(!M||B._id!==M._id);)w.unshift(B),B=B.parent;for(V=w.length,$=0;$<V;$++)N(w[$])}}rotate(N){return this.rotation(this.rotation()+N),this}moveToTop(){if(!this.parent)return u.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const N=this.index,M=this.parent.getChildren().length;return N<M-1?(this.parent.children.splice(N,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return u.Util.warn("Node has no parent. moveUp function is ignored."),!1;const N=this.index,M=this.parent.getChildren().length;return N<M-1?(this.parent.children.splice(N,1),this.parent.children.splice(N+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return u.Util.warn("Node has no parent. moveDown function is ignored."),!1;const N=this.index;return N>0?(this.parent.children.splice(N,1),this.parent.children.splice(N-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return u.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const N=this.index;return N>0?(this.parent.children.splice(N,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(N){if(!this.parent)return u.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(N<0||N>=this.parent.children.length)&&u.Util.warn("Unexpected value "+N+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const M=this.index;return this.parent.children.splice(M,1),this.parent.children.splice(N,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let N=this.opacity();const M=this.getParent();return M&&!M._isUnderCache&&(N*=M.getAbsoluteOpacity()),N}moveTo(N){return this.getParent()!==N&&(this._remove(),N.add(this)),this}toObject(){let N=this.getAttrs(),M,w,B,V,$;const Y={attrs:{},className:this.getClassName()};for(M in N)w=N[M],$=u.Util.isObject(w)&&!u.Util._isPlainObject(w)&&!u.Util._isArray(w),!$&&(B=typeof this[M]=="function"&&this[M],delete N[M],V=B?B.call(this):null,N[M]=w,V!==w&&(Y.attrs[M]=w));return u.Util._prepareToStringify(Y)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(N,M,w){const B=[];M&&this._isMatch(N)&&B.push(this);let V=this.parent;for(;V;){if(V===w)return B;V._isMatch(N)&&B.push(V),V=V.parent}return B}isAncestorOf(N){return!1}findAncestor(N,M,w){return this.findAncestors(N,M,w)[0]}_isMatch(N){if(!N)return!1;if(typeof N=="function")return N(this);let M=N.replace(/ /g,"").split(","),w=M.length,B,V;for(B=0;B<w;B++)if(V=M[B],u.Util.isValidSelector(V)||(u.Util.warn('Selector "'+V+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),u.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),u.Util.warn("Konva is awesome, right?")),V.charAt(0)==="#"){if(this.id()===V.slice(1))return!0}else if(V.charAt(0)==="."){if(this.hasName(V.slice(1)))return!0}else if(this.className===V||this.nodeType===V)return!0;return!1}getLayer(){const N=this.getParent();return N?N.getLayer():null}getStage(){return this._getCache(R,this._getStage)}_getStage(){const N=this.getParent();return N?N.getStage():null}fire(N,M={},w){return M.target=M.target||this,w?this._fireAndBubble(N,M):this._fire(N,M),this}getAbsoluteTransform(N){return N?this._getAbsoluteTransform(N):this._getCache(f,this._getAbsoluteTransform)}_getAbsoluteTransform(N){let M;if(N)return M=new u.Transform,this._eachAncestorReverse(function(w){const B=w.transformsEnabled();B==="all"?M.multiply(w.getTransform()):B==="position"&&M.translate(w.x()-w.offsetX(),w.y()-w.offsetY())},N),M;{M=this._cache.get(f)||new u.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(M):M.reset();const w=this.transformsEnabled();if(w==="all")M.multiply(this.getTransform());else if(w==="position"){const B=this.attrs.x||0,V=this.attrs.y||0,$=this.attrs.offsetX||0,Y=this.attrs.offsetY||0;M.translate(B-$,V-Y)}return M.dirty=!1,M}}getAbsoluteScale(N){let M=this;for(;M;)M._isUnderCache&&(N=M),M=M.getParent();const B=this.getAbsoluteTransform(N).decompose();return{x:B.scaleX,y:B.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(D,this._getTransform)}_getTransform(){var N,M;const w=this._cache.get(D)||new u.Transform;w.reset();const B=this.x(),V=this.y(),$=m.Konva.getAngle(this.rotation()),Y=(N=this.attrs.scaleX)!==null&&N!==void 0?N:1,at=(M=this.attrs.scaleY)!==null&&M!==void 0?M:1,ot=this.attrs.skewX||0,I=this.attrs.skewY||0,H=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;return(B!==0||V!==0)&&w.translate(B,V),$!==0&&w.rotate($),(ot!==0||I!==0)&&w.skew(ot,I),(Y!==1||at!==1)&&w.scale(Y,at),(H!==0||Z!==0)&&w.translate(-1*H,-1*Z),w.dirty=!1,w}clone(N){let M=u.Util.cloneObject(this.attrs),w,B,V,$,Y;for(w in N)M[w]=N[w];const at=new this.constructor(M);for(w in this.eventListeners)for(B=this.eventListeners[w],V=B.length,$=0;$<V;$++)Y=B[$],Y.name.indexOf(v)<0&&(at.eventListeners[w]||(at.eventListeners[w]=[]),at.eventListeners[w].push(Y));return at}_toKonvaCanvas(N){N=N||{};const M=this.getClientRect(),w=this.getStage(),B=N.x!==void 0?N.x:Math.floor(M.x),V=N.y!==void 0?N.y:Math.floor(M.y),$=N.pixelRatio||1,Y=new n.SceneCanvas({width:N.width||Math.ceil(M.width)||(w?w.width():0),height:N.height||Math.ceil(M.height)||(w?w.height():0),pixelRatio:$}),at=Y.getContext(),ot=new n.SceneCanvas({width:Y.width/Y.pixelRatio+Math.abs(B),height:Y.height/Y.pixelRatio+Math.abs(V),pixelRatio:Y.pixelRatio});return N.imageSmoothingEnabled===!1&&(at._context.imageSmoothingEnabled=!1),at.save(),(B||V)&&at.translate(-1*B,-1*V),this.drawScene(Y,void 0,ot),at.restore(),Y}toCanvas(N){return this._toKonvaCanvas(N)._canvas}toDataURL(N){N=N||{};const M=N.mimeType||null,w=N.quality||null,B=this._toKonvaCanvas(N).toDataURL(M,w);return N.callback&&N.callback(B),B}toImage(N){return new Promise((M,w)=>{try{const B=N?.callback;B&&delete N.callback,u.Util._urlToImage(this.toDataURL(N),function(V){M(V),B?.(V)})}catch(B){w(B)}})}toBlob(N){return new Promise((M,w)=>{try{const B=N?.callback;B&&delete N.callback,this.toCanvas(N).toBlob(V=>{M(V),B?.(V)},N?.mimeType,N?.quality)}catch(B){w(B)}})}setSize(N){return this.width(N.width),this.height(N.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():m.Konva.dragDistance}_off(N,M,w){let B=this.eventListeners[N],V,$,Y;for(V=0;V<B.length;V++)if($=B[V].name,Y=B[V].handler,($!=="konva"||M==="konva")&&(!M||$===M)&&(!w||w===Y)){if(B.splice(V,1),B.length===0){delete this.eventListeners[N];break}V--}}_fireChangeEvent(N,M,w){this._fire(N+A,{oldVal:M,newVal:w})}addName(N){if(!this.hasName(N)){const M=this.name(),w=M?M+" "+N:N;this.name(w)}return this}hasName(N){if(!N)return!1;const M=this.name();return M?(M||"").split(/\s/g).indexOf(N)!==-1:!1}removeName(N){const M=(this.name()||"").split(/\s/g),w=M.indexOf(N);return w!==-1&&(M.splice(w,1),this.name(M.join(" "))),this}setAttr(N,M){const w=this[E+u.Util._capitalize(N)];return u.Util._isFunction(w)?w.call(this,M):this._setAttr(N,M),this}_requestDraw(){if(m.Konva.autoDrawEnabled){const N=this.getLayer()||this.getStage();N?.batchDraw()}}_setAttr(N,M){const w=this.attrs[N];w===M&&!u.Util.isObject(M)||(M==null?delete this.attrs[N]:this.attrs[N]=M,this._shouldFireChangeEvents&&this._fireChangeEvent(N,w,M),this._requestDraw())}_setComponentAttr(N,M,w){let B;w!==void 0&&(B=this.attrs[N],B||(this.attrs[N]=this.getAttr(N)),this.attrs[N][M]=w,this._fireChangeEvent(N,B,w))}_fireAndBubble(N,M,w){M&&this.nodeType===G&&(M.target=this);const B=[C,T,O,_,o,x];if(!(B.indexOf(N)!==-1&&(w&&(this===w||this.isAncestorOf&&this.isAncestorOf(w))||this.nodeType==="Stage"&&!w))){this._fire(N,M);const $=B.indexOf(N)!==-1&&w&&w.isAncestorOf&&w.isAncestorOf(this)&&!w.isAncestorOf(this.parent);(M&&!M.cancelBubble||!M)&&this.parent&&this.parent.isListening()&&!$&&(w&&w.parent?this._fireAndBubble.call(this.parent,N,M,w):this._fireAndBubble.call(this.parent,N,M))}}_getProtoListeners(N){var M,w,B;const V=(M=this._cache.get(d))!==null&&M!==void 0?M:{};let $=V?.[N];if($===void 0){$=[];let Y=Object.getPrototypeOf(this);for(;Y;){const at=(B=(w=Y.eventListeners)===null||w===void 0?void 0:w[N])!==null&&B!==void 0?B:[];$.push(...at),Y=Object.getPrototypeOf(Y)}V[N]=$,this._cache.set(d,V)}return $}_fire(N,M){M=M||{},M.currentTarget=this,M.type=N;const w=this._getProtoListeners(N);if(w)for(let V=0;V<w.length;V++)w[V].handler.call(this,M);const B=this.eventListeners[N];if(B)for(let V=0;V<B.length;V++)B[V].handler.call(this,M)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(N){const M=N?N.pointerId:void 0,w=this.getStage(),B=this.getAbsolutePosition();if(!w)return;const V=w._getPointerById(M)||w._changedPointerPositions[0]||B;r.DD._dragElements.set(this._id,{node:this,startPointerPos:V,offset:{x:V.x-B.x,y:V.y-B.y},dragStatus:"ready",pointerId:M})}startDrag(N,M=!0){r.DD._dragElements.has(this._id)||this._createDragElement(N);const w=r.DD._dragElements.get(this._id);w.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:N&&N.evt},M)}_setDragPosition(N,M){const w=this.getStage()._getPointerById(M.pointerId);if(!w)return;let B={x:w.x-M.offset.x,y:w.y-M.offset.y};const V=this.dragBoundFunc();if(V!==void 0){const $=V.call(this,B,N);$?B=$:u.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==B.x||this._lastPos.y!==B.y)&&(this.setAbsolutePosition(B),this._requestDraw()),this._lastPos=B}stopDrag(N){const M=r.DD._dragElements.get(this._id);M&&(M.dragStatus="stopped"),r.DD._endDragBefore(N),r.DD._endDragAfter(N)}setDraggable(N){this._setAttr("draggable",N),this._dragChange()}isDragging(){const N=r.DD._dragElements.get(this._id);return N?N.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(N){if(!(!(N.evt.button!==void 0)||m.Konva.dragButtons.indexOf(N.evt.button)>=0)||this.isDragging())return;let B=!1;r.DD._dragElements.forEach(V=>{this.isAncestorOf(V.node)&&(B=!0)}),B||this._createDragElement(N)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const M=r.DD._dragElements.get(this._id),w=M&&M.dragStatus==="dragging",B=M&&M.dragStatus==="ready";w?this.stopDrag():B&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(N={x:0,y:0}){const M=this.getStage();if(!M)return!1;const w={x:-N.x,y:-N.y,width:M.width()+2*N.x,height:M.height()+2*N.y};return u.Util.haveIntersection(w,this.getClientRect())}static create(N,M){return u.Util._isString(N)&&(N=JSON.parse(N)),this._createNode(N,M)}static _createNode(N,M){let w=zo.prototype.getClassName.call(N),B=N.children,V,$,Y;M&&(N.attrs.container=M),m.Konva[w]||(u.Util.warn('Can not find a node with class name "'+w+'". Fallback to "Shape".'),w="Shape");const at=m.Konva[w];if(V=new at(N.attrs),B)for($=B.length,Y=0;Y<$;Y++)V.add(zo._createNode(B[Y]));return V}};Ti.Node=Q,Q.prototype.nodeType="Node",Q.prototype._attrsAffectingSize=[],Q.prototype.eventListeners={},Q.prototype.on.call(Q.prototype,F,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(D),this._clearSelfAndDescendantCache(f)}),Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(L)}),Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const j=p.Factory.addGetterSetter;return j(Q,"zIndex"),j(Q,"absolutePosition"),j(Q,"position"),j(Q,"x",0,(0,s.getNumberValidator)()),j(Q,"y",0,(0,s.getNumberValidator)()),j(Q,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),j(Q,"opacity",1,(0,s.getNumberValidator)()),j(Q,"name","",(0,s.getStringValidator)()),j(Q,"id","",(0,s.getStringValidator)()),j(Q,"rotation",0,(0,s.getNumberValidator)()),p.Factory.addComponentsGetterSetter(Q,"scale",["x","y"]),j(Q,"scaleX",1,(0,s.getNumberValidator)()),j(Q,"scaleY",1,(0,s.getNumberValidator)()),p.Factory.addComponentsGetterSetter(Q,"skew",["x","y"]),j(Q,"skewX",0,(0,s.getNumberValidator)()),j(Q,"skewY",0,(0,s.getNumberValidator)()),p.Factory.addComponentsGetterSetter(Q,"offset",["x","y"]),j(Q,"offsetX",0,(0,s.getNumberValidator)()),j(Q,"offsetY",0,(0,s.getNumberValidator)()),j(Q,"dragDistance",void 0,(0,s.getNumberValidator)()),j(Q,"width",0,(0,s.getNumberValidator)()),j(Q,"height",0,(0,s.getNumberValidator)()),j(Q,"listening",!0,(0,s.getBooleanValidator)()),j(Q,"preventDefault",!0,(0,s.getBooleanValidator)()),j(Q,"filters",void 0,function(it){return this._filterUpToDate=!1,it}),j(Q,"visible",!0,(0,s.getBooleanValidator)()),j(Q,"transformsEnabled","all",(0,s.getStringValidator)()),j(Q,"size"),j(Q,"dragBoundFunc"),j(Q,"draggable",!1,(0,s.getBooleanValidator)()),p.Factory.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ti}var Ni={},vd;function Ml(){if(vd)return Ni;vd=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Container=void 0;const n=Tt(),r=It(),p=Nt();let m=class extends r.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){const c=this.children||[];return s?c.filter(s):c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let d=0;d<s.length;d++)this.add(s[d]);return this}const c=s[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const c=this._generalFind(s,!0);return c.length>0?c[0]:void 0}_generalFind(s,c){const d=[];return this._descendants(f=>{const S=f._isMatch(s);return S&&d.push(f),!!(S&&c)}),d}_descendants(s){let c=!1;const d=this.getChildren();for(const f of d){if(c=s(f),c)return!0;if(f.hasChildren()&&(c=f._descendants(s),c))return!0}return!1}toObject(){const s=r.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(c=>{s.children.push(c.toObject())}),s}isAncestorOf(s){let c=s.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(s){const c=r.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(d){c.add(d.clone())}),c}getAllIntersections(s){const c=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(s)&&c.push(d)}),c}_clearSelfAndDescendantCache(s){var c;super._clearSelfAndDescendantCache(s),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(d){d._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(c,d){c.index=d}),this._requestDraw()}drawScene(s,c,d){const f=this.getLayer(),S=s||f&&f.getCanvas(),y=S&&S.getContext(),A=this._getCanvasCache(),b=A&&A.scene,v=S&&S.isCache;if(!this.isVisible()&&!v)return this;if(b){y.save();const g=this.getAbsoluteTransform(c).getMatrix();y.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(y),y.restore()}else this._drawChildren("drawScene",S,c,d);return this}drawHit(s,c){if(!this.shouldDrawHit(c))return this;const d=this.getLayer(),f=s||d&&d.hitCanvas,S=f&&f.getContext(),y=this._getCanvasCache();if(y&&y.hit){S.save();const b=this.getAbsoluteTransform(c).getMatrix();S.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(S),S.restore()}else this._drawChildren("drawHit",f,c);return this}_drawChildren(s,c,d,f){var S;const y=c&&c.getContext(),A=this.clipWidth(),b=this.clipHeight(),v=this.clipFunc(),g=typeof A=="number"&&typeof b=="number"||v,C=d===this;if(g){y.save();const O=this.getAbsoluteTransform(d);let _=O.getMatrix();y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),y.beginPath();let o;if(v)o=v.call(this,y,this);else{const x=this.clipX(),E=this.clipY();y.rect(x||0,E||0,A,b)}y.clip.apply(y,o),_=O.copy().invert().getMatrix(),y.transform(_[0],_[1],_[2],_[3],_[4],_[5])}const T=!C&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";T&&(y.save(),y._applyGlobalCompositeOperation(this)),(S=this.children)===null||S===void 0||S.forEach(function(O){O[s](c,d,f)}),T&&y.restore(),g&&y.restore()}getClientRect(s={}){var c;const d=s.skipTransform,f=s.relativeTo;let S,y,A,b,v={x:1/0,y:1/0,width:0,height:0};const g=this;(c=this.children)===null||c===void 0||c.forEach(function(O){if(!O.visible())return;const _=O.getClientRect({relativeTo:g,skipShadow:s.skipShadow,skipStroke:s.skipStroke});_.width===0&&_.height===0||(S===void 0?(S=_.x,y=_.y,A=_.x+_.width,b=_.y+_.height):(S=Math.min(S,_.x),y=Math.min(y,_.y),A=Math.max(A,_.x+_.width),b=Math.max(b,_.y+_.height)))});const C=this.find("Shape");let T=!1;for(let O=0;O<C.length;O++)if(C[O]._isVisible(this)){T=!0;break}return T&&S!==void 0?v={x:S,y,width:A-S,height:b-y}:v={x:0,y:0,width:0,height:0},d?v:this._transformedRect(v,f)}};return Ni.Container=m,n.Factory.addComponentsGetterSetter(m,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(m,"clipX",void 0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(m,"clipY",void 0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(m,"clipWidth",void 0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(m,"clipHeight",void 0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(m,"clipFunc"),Ni}var bo={},Qa={},yd;function Y0(){if(yd)return Qa;yd=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.getCapturedShape=m,Qa.createEvent=u,Qa.hasPointerCapture=s,Qa.setPointerCapture=c,Qa.releaseCapture=d;const n=At(),r=new Map,p=n.Konva._global.PointerEvent!==void 0;function m(f){return r.get(f)}function u(f){return{evt:f,pointerId:f.pointerId}}function s(f,S){return r.get(f)===S}function c(f,S){d(f),S.getStage()&&(r.set(f,S),p&&S._fire("gotpointercapture",u(new PointerEvent("gotpointercapture"))))}function d(f,S){const y=r.get(f);if(!y)return;const A=y.getStage();A&&A.content,r.delete(f),p&&y._fire("lostpointercapture",u(new PointerEvent("lostpointercapture")))}return Qa}var _d;function Ap(){return _d||(_d=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const r=Zt(),p=Tt(),m=Ml(),u=At(),s=Rl(),c=ko(),d=At(),f=Y0(),S="Stage",y="string",A="px",b="mouseout",v="mouseleave",g="mouseover",C="mouseenter",T="mousemove",O="mousedown",_="mouseup",o="pointermove",x="pointerdown",E="pointerup",G="pointercancel",P="lostpointercapture",R="pointerout",D="pointerleave",z="pointerover",L="pointerenter",F="contextmenu",K="touchstart",Q="touchend",j="touchmove",it="touchcancel",N="wheel",M=5,w=[[C,"_pointerenter"],[O,"_pointerdown"],[T,"_pointermove"],[_,"_pointerup"],[v,"_pointerleave"],[K,"_pointerdown"],[j,"_pointermove"],[Q,"_pointerup"],[it,"_pointercancel"],[g,"_pointerover"],[N,"_wheel"],[F,"_contextmenu"],[x,"_pointerdown"],[o,"_pointermove"],[E,"_pointerup"],[G,"_pointercancel"],[D,"_pointerleave"],[P,"_lostpointercapture"]],B={mouse:{[R]:b,[D]:v,[z]:g,[L]:C,[o]:T,[x]:O,[E]:_,[G]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[D]:"touchleave",[z]:"touchover",[L]:"touchenter",[o]:j,[x]:K,[E]:Q,[G]:it,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[D]:D,[z]:z,[L]:L,[o]:o,[x]:x,[E]:E,[G]:G,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},V=I=>I.indexOf("pointer")>=0?"pointer":I.indexOf("touch")>=0?"touch":"mouse",$=I=>{const H=V(I);if(H==="pointer")return u.Konva.pointerEventsEnabled&&B.pointer;if(H==="touch")return B.touch;if(H==="mouse")return B.mouse};function Y(I={}){return(I.clipFunc||I.clipWidth||I.clipHeight)&&r.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),I}const at="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class ot extends m.Container{constructor(H){super(Y(H)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Y(this.attrs)}),this._checkVisibility()}_validateAdd(H){const Z=H.getType()==="Layer",st=H.getType()==="FastLayer";Z||st||r.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const H=this.visible()?"":"none";this.content.style.display=H}setContainer(H){if(typeof H===y){let Z;if(H.charAt(0)==="."){const st=H.slice(1);H=document.getElementsByClassName(st)[0]}else H.charAt(0)!=="#"?Z=H:Z=H.slice(1),H=document.getElementById(Z);if(!H)throw"Can not find container in document with id "+Z}return this._setAttr("container",H),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),H.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const H=this.children,Z=H.length;for(let st=0;st<Z;st++)H[st].clear();return this}clone(H){return H||(H={}),H.container=typeof document<"u"&&document.createElement("div"),m.Container.prototype.clone.call(this,H)}destroy(){super.destroy();const H=this.content;H&&r.Util._isInDocument(H)&&this.container().removeChild(H);const Z=n.stages.indexOf(this);return Z>-1&&n.stages.splice(Z,1),r.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const H=this._pointerPositions[0]||this._changedPointerPositions[0];return H?{x:H.x,y:H.y}:(r.Util.warn(at),null)}_getPointerById(H){return this._pointerPositions.find(Z=>Z.id===H)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(H){H=H||{},H.x=H.x||0,H.y=H.y||0,H.width=H.width||this.width(),H.height=H.height||this.height();const Z=new s.SceneCanvas({width:H.width,height:H.height,pixelRatio:H.pixelRatio||1}),st=Z.getContext()._context,ut=this.children;return(H.x||H.y)&&st.translate(-1*H.x,-1*H.y),ut.forEach(function(dt){if(!dt.isVisible())return;const yt=dt._toKonvaCanvas(H);st.drawImage(yt._canvas,H.x,H.y,yt.getWidth()/yt.getPixelRatio(),yt.getHeight()/yt.getPixelRatio())}),Z}getIntersection(H){if(!H)return null;const Z=this.children,st=Z.length,ut=st-1;for(let dt=ut;dt>=0;dt--){const yt=Z[dt].getIntersection(H);if(yt)return yt}return null}_resizeDOM(){const H=this.width(),Z=this.height();this.content&&(this.content.style.width=H+A,this.content.style.height=Z+A),this.bufferCanvas.setSize(H,Z),this.bufferHitCanvas.setSize(H,Z),this.children.forEach(st=>{st.setSize({width:H,height:Z}),st.draw()})}add(H,...Z){if(arguments.length>1){for(let ut=0;ut<arguments.length;ut++)this.add(arguments[ut]);return this}super.add(H);const st=this.children.length;return st>M&&r.Util.warn("The stage has "+st+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),H.setSize({width:this.width(),height:this.height()}),H.draw(),u.Konva.isBrowser&&this.content.appendChild(H.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(H){return f.hasPointerCapture(H,this)}setPointerCapture(H){f.setPointerCapture(H,this)}releaseCapture(H){f.releaseCapture(H,this)}getLayers(){return this.children}_bindContentEvents(){u.Konva.isBrowser&&w.forEach(([H,Z])=>{this.content.addEventListener(H,st=>{this[Z](st)},{passive:!1})})}_pointerenter(H){this.setPointersPositions(H);const Z=$(H.type);Z&&this._fire(Z.pointerenter,{evt:H,target:this,currentTarget:this})}_pointerover(H){this.setPointersPositions(H);const Z=$(H.type);Z&&this._fire(Z.pointerover,{evt:H,target:this,currentTarget:this})}_getTargetShape(H){let Z=this[H+"targetShape"];return Z&&!Z.getStage()&&(Z=null),Z}_pointerleave(H){const Z=$(H.type),st=V(H.type);if(!Z)return;this.setPointersPositions(H);const ut=this._getTargetShape(st),dt=!(u.Konva.isDragging()||u.Konva.isTransforming())||u.Konva.hitOnDragEnabled;ut&&dt?(ut._fireAndBubble(Z.pointerout,{evt:H}),ut._fireAndBubble(Z.pointerleave,{evt:H}),this._fire(Z.pointerleave,{evt:H,target:this,currentTarget:this}),this[st+"targetShape"]=null):dt&&(this._fire(Z.pointerleave,{evt:H,target:this,currentTarget:this}),this._fire(Z.pointerout,{evt:H,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(H){const Z=$(H.type),st=V(H.type);if(!Z)return;this.setPointersPositions(H);let ut=!1;this._changedPointerPositions.forEach(dt=>{const yt=this.getIntersection(dt);if(c.DD.justDragged=!1,u.Konva["_"+st+"ListenClick"]=!0,!yt||!yt.isListening()){this[st+"ClickStartShape"]=void 0;return}u.Konva.capturePointerEventsEnabled&&yt.setPointerCapture(dt.id),this[st+"ClickStartShape"]=yt,yt._fireAndBubble(Z.pointerdown,{evt:H,pointerId:dt.id}),ut=!0;const _t=H.type.indexOf("touch")>=0;yt.preventDefault()&&H.cancelable&&_t&&H.preventDefault()}),ut||this._fire(Z.pointerdown,{evt:H,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(H){const Z=$(H.type),st=V(H.type);if(!Z||(u.Konva.isDragging()&&c.DD.node.preventDefault()&&H.cancelable&&H.preventDefault(),this.setPointersPositions(H),!(!(u.Konva.isDragging()||u.Konva.isTransforming())||u.Konva.hitOnDragEnabled)))return;const dt={};let yt=!1;const _t=this._getTargetShape(st);this._changedPointerPositions.forEach(Ut=>{const gt=f.getCapturedShape(Ut.id)||this.getIntersection(Ut),Ft=Ut.id,zt={evt:H,pointerId:Ft},Yt=_t!==gt;if(Yt&&_t&&(_t._fireAndBubble(Z.pointerout,{...zt},gt),_t._fireAndBubble(Z.pointerleave,{...zt},gt)),gt){if(dt[gt._id])return;dt[gt._id]=!0}gt&&gt.isListening()?(yt=!0,Yt&&(gt._fireAndBubble(Z.pointerover,{...zt},_t),gt._fireAndBubble(Z.pointerenter,{...zt},_t),this[st+"targetShape"]=gt),gt._fireAndBubble(Z.pointermove,{...zt})):_t&&(this._fire(Z.pointerover,{evt:H,target:this,currentTarget:this,pointerId:Ft}),this[st+"targetShape"]=null)}),yt||this._fire(Z.pointermove,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(H){const Z=$(H.type),st=V(H.type);if(!Z)return;this.setPointersPositions(H);const ut=this[st+"ClickStartShape"],dt=this[st+"ClickEndShape"],yt={};let _t=!1;this._changedPointerPositions.forEach(Ut=>{const gt=f.getCapturedShape(Ut.id)||this.getIntersection(Ut);if(gt){if(gt.releaseCapture(Ut.id),yt[gt._id])return;yt[gt._id]=!0}const Ft=Ut.id,zt={evt:H,pointerId:Ft};let Yt=!1;u.Konva["_"+st+"InDblClickWindow"]?(Yt=!0,clearTimeout(this[st+"DblTimeout"])):c.DD.justDragged||(u.Konva["_"+st+"InDblClickWindow"]=!0,clearTimeout(this[st+"DblTimeout"])),this[st+"DblTimeout"]=setTimeout(function(){u.Konva["_"+st+"InDblClickWindow"]=!1},u.Konva.dblClickWindow),gt&&gt.isListening()?(_t=!0,this[st+"ClickEndShape"]=gt,gt._fireAndBubble(Z.pointerup,{...zt}),u.Konva["_"+st+"ListenClick"]&&ut&&ut===gt&&(gt._fireAndBubble(Z.pointerclick,{...zt}),Yt&&dt&&dt===gt&&gt._fireAndBubble(Z.pointerdblclick,{...zt}))):(this[st+"ClickEndShape"]=null,u.Konva["_"+st+"ListenClick"]&&this._fire(Z.pointerclick,{evt:H,target:this,currentTarget:this,pointerId:Ft}),Yt&&this._fire(Z.pointerdblclick,{evt:H,target:this,currentTarget:this,pointerId:Ft}))}),_t||this._fire(Z.pointerup,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),u.Konva["_"+st+"ListenClick"]=!1,H.cancelable&&st!=="touch"&&st!=="pointer"&&H.preventDefault()}_contextmenu(H){this.setPointersPositions(H);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(F,{evt:H}):this._fire(F,{evt:H,target:this,currentTarget:this})}_wheel(H){this.setPointersPositions(H);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(N,{evt:H}):this._fire(N,{evt:H,target:this,currentTarget:this})}_pointercancel(H){this.setPointersPositions(H);const Z=f.getCapturedShape(H.pointerId)||this.getIntersection(this.getPointerPosition());Z&&Z._fireAndBubble(E,f.createEvent(H)),f.releaseCapture(H.pointerId)}_lostpointercapture(H){f.releaseCapture(H.pointerId)}setPointersPositions(H){const Z=this._getContentPosition();let st=null,ut=null;H=H||window.event,H.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(H.touches,dt=>{this._pointerPositions.push({id:dt.identifier,x:(dt.clientX-Z.left)/Z.scaleX,y:(dt.clientY-Z.top)/Z.scaleY})}),Array.prototype.forEach.call(H.changedTouches||H.touches,dt=>{this._changedPointerPositions.push({id:dt.identifier,x:(dt.clientX-Z.left)/Z.scaleX,y:(dt.clientY-Z.top)/Z.scaleY})})):(st=(H.clientX-Z.left)/Z.scaleX,ut=(H.clientY-Z.top)/Z.scaleY,this.pointerPos={x:st,y:ut},this._pointerPositions=[{x:st,y:ut,id:r.Util._getFirstPointerId(H)}],this._changedPointerPositions=[{x:st,y:ut,id:r.Util._getFirstPointerId(H)}])}_setPointerPosition(H){r.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(H)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const H=this.content.getBoundingClientRect();return{top:H.top,left:H.left,scaleX:H.width/this.content.clientWidth||1,scaleY:H.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!u.Konva.isBrowser)return;const H=this.container();if(!H)throw"Stage has no container. A container is required.";H.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),H.appendChild(this.content),this._resizeDOM()}cache(){return r.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(H){H.batchDraw()}),this}}n.Stage=ot,ot.prototype.nodeType=S,(0,d._registerNode)(ot),p.Factory.addGetterSetter(ot,"container"),u.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(I=>{I.batchDraw()})})}(bo)),bo}var Ri={},Co={},Sd;function fe(){return Sd||(Sd=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const r=At(),p=Zt(),m=Tt(),u=It(),s=Nt(),c=At(),d=Y0(),f="hasShadow",S="shadowRGBA",y="patternImage",A="linearGradient",b="radialGradient";let v;function g(){return v||(v=p.Util.createCanvasElement().getContext("2d"),v)}n.shapes={};function C(D){const z=this.attrs.fillRule;z?D.fill(z):D.fill()}function T(D){D.stroke()}function O(D){const z=this.attrs.fillRule;z?D.fill(z):D.fill()}function _(D){D.stroke()}function o(){this._clearCache(f)}function x(){this._clearCache(S)}function E(){this._clearCache(y)}function G(){this._clearCache(A)}function P(){this._clearCache(b)}class R extends u.Node{constructor(z){super(z);let L;for(;L=p.Util.getRandomColor(),!(L&&!(L in n.shapes)););this.colorKey=L,n.shapes[L]=this}getContext(){return p.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return p.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const L=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(L&&L.setTransform){const F=new p.Transform;F.translate(this.fillPatternX(),this.fillPatternY()),F.rotate(r.Konva.getAngle(this.fillPatternRotation())),F.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),F.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=F.getMatrix(),Q=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);L.setTransform(Q)}return L}}_getLinearGradient(){return this._getCache(A,this.__getLinearGradient)}__getLinearGradient(){const z=this.fillLinearGradientColorStops();if(z){const L=g(),F=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),Q=L.createLinearGradient(F.x,F.y,K.x,K.y);for(let j=0;j<z.length;j+=2)Q.addColorStop(z[j],z[j+1]);return Q}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const z=this.fillRadialGradientColorStops();if(z){const L=g(),F=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),Q=L.createRadialGradient(F.x,F.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let j=0;j<z.length;j+=2)Q.addColorStop(z[j],z[j+1]);return Q}}getShadowRGBA(){return this._getCache(S,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const z=p.Util.colorToRGBA(this.shadowColor());if(z)return"rgba("+z.r+","+z.g+","+z.b+","+z.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const z=this.hitStrokeWidth();return z==="auto"?this.hasStroke():this.strokeEnabled()&&!!z}intersects(z){const L=this.getStage();if(!L)return!1;const F=L.bufferHitCanvas;return F.getContext().clear(),this.drawHit(F,void 0,!0),F.context.getImageData(Math.round(z.x),Math.round(z.y),1,1).data[3]>0}destroy(){return u.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(z){var L;if(!((L=this.attrs.perfectDrawEnabled)!==null&&L!==void 0?L:!0))return!1;const K=z||this.hasFill(),Q=this.hasStroke(),j=this.getAbsoluteOpacity()!==1;if(K&&Q&&j)return!0;const it=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(K&&Q&&it&&N)}setStrokeHitEnabled(z){p.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),z?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const z=this.size();return{x:this._centroid?-z.width/2:0,y:this._centroid?-z.height/2:0,width:z.width,height:z.height}}getClientRect(z={}){let L=!1,F=this.getParent();for(;F;){if(F.isCached()){L=!0;break}F=F.getParent()}const K=z.skipTransform,Q=z.relativeTo||L&&this.getStage()||void 0,j=this.getSelfRect(),N=!z.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,M=j.width+N,w=j.height+N,B=!z.skipShadow&&this.hasShadow(),V=B?this.shadowOffsetX():0,$=B?this.shadowOffsetY():0,Y=M+Math.abs(V),at=w+Math.abs($),ot=B&&this.shadowBlur()||0,I=Y+ot*2,H=at+ot*2,Z={width:I,height:H,x:-(N/2+ot)+Math.min(V,0)+j.x,y:-(N/2+ot)+Math.min($,0)+j.y};return K?Z:this._transformedRect(Z,Q)}drawScene(z,L,F){const K=this.getLayer(),Q=z||K.getCanvas(),j=Q.getContext(),it=this._getCanvasCache(),N=this.getSceneFunc(),M=this.hasShadow();let w;const B=L===this;if(!this.isVisible()&&!B)return this;if(it){j.save();const V=this.getAbsoluteTransform(L).getMatrix();return j.transform(V[0],V[1],V[2],V[3],V[4],V[5]),this._drawCachedSceneCanvas(j),j.restore(),this}if(!N)return this;if(j.save(),this._useBufferCanvas()){w=this.getStage();const V=F||w.bufferCanvas,$=V.getContext();$.clear(),$.save(),$._applyLineJoin(this);const Y=this.getAbsoluteTransform(L).getMatrix();$.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),N.call(this,$,this),$.restore();const at=V.pixelRatio;M&&j._applyShadow(this),j._applyOpacity(this),j._applyGlobalCompositeOperation(this),j.drawImage(V._canvas,V.x||0,V.y||0,V.width/at,V.height/at)}else{if(j._applyLineJoin(this),!B){const V=this.getAbsoluteTransform(L).getMatrix();j.transform(V[0],V[1],V[2],V[3],V[4],V[5]),j._applyOpacity(this),j._applyGlobalCompositeOperation(this)}M&&j._applyShadow(this),N.call(this,j,this)}return j.restore(),this}drawHit(z,L,F=!1){if(!this.shouldDrawHit(L,F))return this;const K=this.getLayer(),Q=z||K.hitCanvas,j=Q&&Q.getContext(),it=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),M=N&&N.hit;if(this.colorKey||p.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),M){j.save();const B=this.getAbsoluteTransform(L).getMatrix();return j.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedHitCanvas(j),j.restore(),this}if(!it)return this;if(j.save(),j._applyLineJoin(this),!(this===L)){const B=this.getAbsoluteTransform(L).getMatrix();j.transform(B[0],B[1],B[2],B[3],B[4],B[5])}return it.call(this,j,this),j.restore(),this}drawHitFromCache(z=0){const L=this._getCanvasCache(),F=this._getCachedSceneCanvas(),K=L.hit,Q=K.getContext(),j=K.getWidth(),it=K.getHeight();Q.clear(),Q.drawImage(F._canvas,0,0,j,it);try{const N=Q.getImageData(0,0,j,it),M=N.data,w=M.length,B=p.Util._hexToRgb(this.colorKey);for(let V=0;V<w;V+=4)M[V+3]>z?(M[V]=B.r,M[V+1]=B.g,M[V+2]=B.b,M[V+3]=255):M[V+3]=0;Q.putImageData(N,0,0)}catch(N){p.Util.error("Unable to draw hit graph from cached scene canvas. "+N.message)}return this}hasPointerCapture(z){return d.hasPointerCapture(z,this)}setPointerCapture(z){d.setPointerCapture(z,this)}releaseCapture(z){d.releaseCapture(z,this)}}n.Shape=R,R.prototype._fillFunc=C,R.prototype._strokeFunc=T,R.prototype._fillFuncHit=O,R.prototype._strokeFuncHit=_,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,c._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",G),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",P),m.Factory.addGetterSetter(R,"stroke",void 0,(0,s.getStringOrGradientValidator)()),m.Factory.addGetterSetter(R,"strokeWidth",2,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),m.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),m.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),m.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),m.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),m.Factory.addGetterSetter(R,"lineJoin"),m.Factory.addGetterSetter(R,"lineCap"),m.Factory.addGetterSetter(R,"sceneFunc"),m.Factory.addGetterSetter(R,"hitFunc"),m.Factory.addGetterSetter(R,"dash"),m.Factory.addGetterSetter(R,"dashOffset",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"shadowColor",void 0,(0,s.getStringValidator)()),m.Factory.addGetterSetter(R,"shadowBlur",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"shadowOpacity",1,(0,s.getNumberValidator)()),m.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),m.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillPatternImage"),m.Factory.addGetterSetter(R,"fill",void 0,(0,s.getStringOrGradientValidator)()),m.Factory.addGetterSetter(R,"fillPatternX",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillPatternY",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),m.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),m.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),m.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),m.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),m.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),m.Factory.addGetterSetter(R,"fillEnabled",!0),m.Factory.addGetterSetter(R,"strokeEnabled",!0),m.Factory.addGetterSetter(R,"shadowEnabled",!0),m.Factory.addGetterSetter(R,"dashEnabled",!0),m.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),m.Factory.addGetterSetter(R,"fillPriority","color"),m.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),m.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),m.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),m.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,s.getNumberValidator)()),m.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,s.getNumberValidator)()),m.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),m.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),m.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),m.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),m.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),m.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),m.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),m.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),m.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),m.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),m.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),m.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),m.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),m.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),m.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),m.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),m.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),m.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),m.Factory.addGetterSetter(R,"fillPatternRotation",0),m.Factory.addGetterSetter(R,"fillRule",void 0,(0,s.getStringValidator)()),m.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Co)),Co}var bd;function K0(){if(bd)return Ri;bd=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Layer=void 0;const n=Zt(),r=Ml(),p=It(),m=Tt(),u=Rl(),s=Nt(),c=fe(),d=At(),f="#",S="beforeDraw",y="draw",A=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=A.length;class v extends r.Container{constructor(C){super(C),this.canvas=new u.SceneCanvas,this.hitCanvas=new u.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(C){return this.getContext().clear(C),this.getHitCanvas().getContext().clear(C),this}setZIndex(C){super.setZIndex(C);const T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),C<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[C+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){p.Node.prototype.moveToTop.call(this);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!p.Node.prototype.moveUp.call(this))return!1;const T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(p.Node.prototype.moveDown.call(this)){const C=this.getStage();if(C){const T=C.children;C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(p.Node.prototype.moveToBottom.call(this)){const C=this.getStage();if(C){const T=C.children;C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const C=this.getNativeCanvasElement();return p.Node.prototype.remove.call(this),C&&C.parentNode&&n.Util._isInDocument(C)&&C.parentNode.removeChild(C),this}getStage(){return this.parent}setSize({width:C,height:T}){return this.canvas.setSize(C,T),this.hitCanvas.setSize(C,T),this._setSmoothEnabled(),this}_validateAdd(C){const T=C.getType();T!=="Group"&&T!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(C){return C=C||{},C.width=C.width||this.getWidth(),C.height=C.height||this.getHeight(),C.x=C.x!==void 0?C.x:this.x(),C.y=C.y!==void 0?C.y:this.y(),p.Node.prototype._toKonvaCanvas.call(this,C)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(C){if(!this.isListening()||!this.isVisible())return null;let T=1,O=!1;for(;;){for(let _=0;_<b;_++){const o=A[_],x=this._getIntersection({x:C.x+o.x*T,y:C.y+o.y*T}),E=x.shape;if(E)return E;if(O=!!x.antialiased,!x.antialiased)break}if(O)T+=1;else return null}}_getIntersection(C){const T=this.hitCanvas.pixelRatio,O=this.hitCanvas.context.getImageData(Math.round(C.x*T),Math.round(C.y*T),1,1).data,_=O[3];if(_===255){const o=n.Util._rgbToHex(O[0],O[1],O[2]),x=c.shapes[f+o];return x?{shape:x}:{antialiased:!0}}else if(_>0)return{antialiased:!0};return{}}drawScene(C,T,O){const _=this.getLayer(),o=C||_&&_.getCanvas();return this._fire(S,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),r.Container.prototype.drawScene.call(this,o,T,O),this._fire(y,{node:this}),this}drawHit(C,T){const O=this.getLayer(),_=C||O&&O.hitCanvas;return O&&O.clearBeforeDraw()&&O.getHitCanvas().getContext().clear(),r.Container.prototype.drawHit.call(this,_,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(C){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(C)}getHitGraphEnabled(C){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const C=this.parent;!!this.hitCanvas._canvas.parentNode?C.content.removeChild(this.hitCanvas._canvas):C.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Ri.Layer=v,v.prototype.nodeType="Layer",(0,d._registerNode)(v),m.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),m.Factory.addGetterSetter(v,"clearBeforeDraw",!0),m.Factory.addGetterSetter(v,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Ri}var Mi={},Cd;function Ep(){if(Cd)return Mi;Cd=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.FastLayer=void 0;const n=Zt(),r=K0(),p=At();let m=class extends r.Layer{constructor(s){super(s),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Mi.FastLayer=m,m.prototype.nodeType="FastLayer",(0,p._registerNode)(m),Mi}var Oi={},Ad;function Zo(){if(Ad)return Oi;Ad=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Group=void 0;const n=Zt(),r=Ml(),p=At();let m=class extends r.Container{_validateAdd(s){const c=s.getType();c!=="Group"&&c!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return Oi.Group=m,m.prototype.nodeType="Group",(0,p._registerNode)(m),Oi}var Di={},Ed;function Jo(){if(Ed)return Di;Ed=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.Animation=void 0;const n=At(),r=Zt(),p=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let m=class Yn{constructor(s,c){this.id=Yn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:p(),frameRate:0},this.func=s,this.setLayers(c)}setLayers(s){let c=[];return s&&(c=Array.isArray(s)?s:[s]),this.layers=c,this}getLayers(){return this.layers}addLayer(s){const c=this.layers,d=c.length;for(let f=0;f<d;f++)if(c[f]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const c=Yn.animations,d=c.length;for(let f=0;f<d;f++)if(c[f].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=p(),Yn._addAnimation(this),this}stop(){return Yn._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const c=s.id,d=this.animations,f=d.length;for(let S=0;S<f;S++)if(d[S].id===c){this.animations.splice(S,1);break}}static _runFrames(){const s={},c=this.animations;for(let d=0;d<c.length;d++){const f=c[d],S=f.layers,y=f.func;f._updateFrameObject(p());const A=S.length;let b;if(y?b=y.call(f,f.frame)!==!1:b=!0,!!b)for(let v=0;v<A;v++){const g=S[v];g._id!==void 0&&(s[g._id]=g)}}for(const d in s)s.hasOwnProperty(d)&&s[d].batchDraw()}static _animationLoop(){const s=Yn;s.animations.length?(s._runFrames(),r.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,r.Util.requestAnimFrame(this._animationLoop))}};return Di.Animation=m,m.animations=[],m.animIdCounter=0,m.animRunning=!1,Di}var Ao={},xd;function xp(){return xd||(xd=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const r=Zt(),p=Jo(),m=It(),u=At(),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,d=2,f=3,S=["fill","stroke","shadowColor"];let y=0;class A{constructor(g,C,T,O,_,o,x){this.prop=g,this.propFunc=C,this.begin=O,this._pos=O,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=x,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=_-this.begin,this.pause()}fire(g){const C=this[g];C&&C()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=f,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===d?this.setTime(g):this.state===f&&this.setTime(this.duration-g)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(g){const C=this,T=g.node,O=T._id,_=g.easing||n.Easings.Linear,o=!!g.yoyo;let x,E;typeof g.duration>"u"?x=.3:g.duration===0?x=.001:x=g.duration,this.node=T,this._id=y++;const G=T.getLayer()||(T instanceof u.Konva.Stage?T.getLayers():null);G||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new p.Animation(function(){C.tween.onEnterFrame()},G),this.tween=new A(E,function(P){C._tweenFunc(P)},_,0,1,x*1e3,o),this._addListeners(),b.attrs[O]||(b.attrs[O]={}),b.attrs[O][this._id]||(b.attrs[O][this._id]={}),b.tweens[O]||(b.tweens[O]={});for(E in g)s[E]===void 0&&this._addAttr(E,g[E]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,C){const T=this.node,O=T._id;let _,o,x,E,G;const P=b.tweens[O][g];P&&delete b.attrs[O][P][g];let R=T.getAttr(g);if(r.Util._isArray(C))if(_=[],o=Math.max(C.length,R.length),g==="points"&&C.length!==R.length&&(C.length>R.length?(E=R,R=r.Util._prepareArrayForTween(R,C,T.closed())):(x=C,C=r.Util._prepareArrayForTween(C,R,T.closed()))),g.indexOf("fill")===0)for(let D=0;D<o;D++)if(D%2===0)_.push(C[D]-R[D]);else{const z=r.Util.colorToRGBA(R[D]);G=r.Util.colorToRGBA(C[D]),R[D]=z,_.push({r:G.r-z.r,g:G.g-z.g,b:G.b-z.b,a:G.a-z.a})}else for(let D=0;D<o;D++)_.push(C[D]-R[D]);else S.indexOf(g)!==-1?(R=r.Util.colorToRGBA(R),G=r.Util.colorToRGBA(C),_={r:G.r-R.r,g:G.g-R.g,b:G.b-R.b,a:G.a-R.a}):_=C-R;b.attrs[O][this._id][g]={start:R,diff:_,end:C,trueEnd:x,trueStart:E},b.tweens[O][g]=this._id}_tweenFunc(g){const C=this.node,T=b.attrs[C._id][this._id];let O,_,o,x,E,G,P,R;for(O in T){if(_=T[O],o=_.start,x=_.diff,R=_.end,r.Util._isArray(o))if(E=[],P=Math.max(o.length,R.length),O.indexOf("fill")===0)for(G=0;G<P;G++)G%2===0?E.push((o[G]||0)+x[G]*g):E.push("rgba("+Math.round(o[G].r+x[G].r*g)+","+Math.round(o[G].g+x[G].g*g)+","+Math.round(o[G].b+x[G].b*g)+","+(o[G].a+x[G].a*g)+")");else for(G=0;G<P;G++)E.push((o[G]||0)+x[G]*g);else S.indexOf(O)!==-1?E="rgba("+Math.round(o.r+x.r*g)+","+Math.round(o.g+x.g*g)+","+Math.round(o.b+x.b*g)+","+(o.a+x.a*g)+")":E=o+x*g;C.setAttr(O,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,C=b.attrs[g._id][this._id];C.points&&C.points.trueEnd&&g.setAttr("points",C.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,C=b.attrs[g._id][this._id];C.points&&C.points.trueStart&&g.points(C.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,C=this._id,T=b.tweens[g];this.pause(),this.anim&&this.anim.stop();for(const O in T)delete b.tweens[g][O];delete b.attrs[g][C],b.tweens[g]&&(Object.keys(b.tweens[g]).length===0&&delete b.tweens[g],Object.keys(b.attrs[g]).length===0&&delete b.attrs[g])}}n.Tween=b,b.attrs={},b.tweens={},m.Node.prototype.to=function(v){const g=v.onFinish;v.node=this,v.onFinish=function(){this.destroy(),g&&g()},new b(v).play()},n.Easings={BackEaseIn(v,g,C,T){return C*(v/=T)*v*((1.70158+1)*v-1.70158)+g},BackEaseOut(v,g,C,T){return C*((v=v/T-1)*v*((1.70158+1)*v+1.70158)+1)+g},BackEaseInOut(v,g,C,T){let O=1.70158;return(v/=T/2)<1?C/2*(v*v*(((O*=1.525)+1)*v-O))+g:C/2*((v-=2)*v*(((O*=1.525)+1)*v+O)+2)+g},ElasticEaseIn(v,g,C,T,O,_){let o=0;return v===0?g:(v/=T)===1?g+C:(_||(_=T*.3),!O||O<Math.abs(C)?(O=C,o=_/4):o=_/(2*Math.PI)*Math.asin(C/O),-(O*Math.pow(2,10*(v-=1))*Math.sin((v*T-o)*(2*Math.PI)/_))+g)},ElasticEaseOut(v,g,C,T,O,_){let o=0;return v===0?g:(v/=T)===1?g+C:(_||(_=T*.3),!O||O<Math.abs(C)?(O=C,o=_/4):o=_/(2*Math.PI)*Math.asin(C/O),O*Math.pow(2,-10*v)*Math.sin((v*T-o)*(2*Math.PI)/_)+C+g)},ElasticEaseInOut(v,g,C,T,O,_){let o=0;return v===0?g:(v/=T/2)===2?g+C:(_||(_=T*(.3*1.5)),!O||O<Math.abs(C)?(O=C,o=_/4):o=_/(2*Math.PI)*Math.asin(C/O),v<1?-.5*(O*Math.pow(2,10*(v-=1))*Math.sin((v*T-o)*(2*Math.PI)/_))+g:O*Math.pow(2,-10*(v-=1))*Math.sin((v*T-o)*(2*Math.PI)/_)*.5+C+g)},BounceEaseOut(v,g,C,T){return(v/=T)<1/2.75?C*(7.5625*v*v)+g:v<2/2.75?C*(7.5625*(v-=1.5/2.75)*v+.75)+g:v<2.5/2.75?C*(7.5625*(v-=2.25/2.75)*v+.9375)+g:C*(7.5625*(v-=2.625/2.75)*v+.984375)+g},BounceEaseIn(v,g,C,T){return C-n.Easings.BounceEaseOut(T-v,0,C,T)+g},BounceEaseInOut(v,g,C,T){return v<T/2?n.Easings.BounceEaseIn(v*2,0,C,T)*.5+g:n.Easings.BounceEaseOut(v*2-T,0,C,T)*.5+C*.5+g},EaseIn(v,g,C,T){return C*(v/=T)*v+g},EaseOut(v,g,C,T){return-C*(v/=T)*(v-2)+g},EaseInOut(v,g,C,T){return(v/=T/2)<1?C/2*v*v+g:-C/2*(--v*(v-2)-1)+g},StrongEaseIn(v,g,C,T){return C*(v/=T)*v*v*v*v+g},StrongEaseOut(v,g,C,T){return C*((v=v/T-1)*v*v*v*v+1)+g},StrongEaseInOut(v,g,C,T){return(v/=T/2)<1?C/2*v*v*v*v*v+g:C/2*((v-=2)*v*v*v*v+2)+g},Linear(v,g,C,T){return C*v/T+g}}}(Ao)),Ao}var Td;function Bo(){return Td||(Td=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const r=At(),p=Zt(),m=It(),u=Ml(),s=Ap(),c=K0(),d=Ep(),f=Zo(),S=ko(),y=fe(),A=Jo(),b=xp(),v=j0(),g=Rl();n.Konva=p.Util._assign(r.Konva,{Util:p.Util,Transform:p.Transform,Node:m.Node,Container:u.Container,Stage:s.Stage,stages:s.stages,Layer:c.Layer,FastLayer:d.FastLayer,Group:f.Group,DD:S.DD,Shape:y.Shape,shapes:y.shapes,Animation:A.Animation,Tween:b.Tween,Easings:b.Easings,Context:v.Context,Canvas:g.Canvas}),n.default=n.Konva}(mo)),mo}var Gi={},Nd;function Tp(){if(Nd)return Gi;Nd=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Arc=void 0;const n=Tt(),r=fe(),p=At(),m=Nt(),u=At();let s=class extends r.Shape{_sceneFunc(d){const f=p.Konva.getAngle(this.angle()),S=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,f,S),d.arc(0,0,this.innerRadius(),f,0,!S),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),f=this.outerRadius(),S=this.clockwise(),y=p.Konva.getAngle(S?360-this.angle():this.angle()),A=Math.cos(Math.min(y,Math.PI)),b=1,v=Math.sin(Math.min(Math.max(Math.PI,y),3*Math.PI/2)),g=Math.sin(Math.min(y,Math.PI/2)),C=A*(A>0?d:f),T=b*f,O=v*(v>0?d:f),_=g*(g>0?f:d);return{x:C,y:S?-1*_:O,width:T-C,height:_-O}}};return Gi.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,u._registerNode)(s),n.Factory.addGetterSetter(s,"innerRadius",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"outerRadius",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"angle",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"clockwise",!1,(0,m.getBooleanValidator)()),Gi}var Ui={},zi={},Rd;function X0(){if(Rd)return zi;Rd=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Line=void 0;const n=Tt(),r=At(),p=fe(),m=Nt();function u(d,f,S,y,A,b,v){const g=Math.sqrt(Math.pow(S-d,2)+Math.pow(y-f,2)),C=Math.sqrt(Math.pow(A-S,2)+Math.pow(b-y,2)),T=v*g/(g+C),O=v*C/(g+C),_=S-T*(A-d),o=y-T*(b-f),x=S+O*(A-d),E=y+O*(b-f);return[_,o,x,E]}function s(d,f){const S=d.length,y=[];for(let A=2;A<S-2;A+=2){const b=u(d[A-2],d[A-1],d[A],d[A+1],d[A+2],d[A+3],f);isNaN(b[0])||(y.push(b[0]),y.push(b[1]),y.push(d[A]),y.push(d[A+1]),y.push(b[2]),y.push(b[3]))}return y}let c=class extends p.Shape{constructor(f){super(f),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(f){const S=this.points(),y=S.length,A=this.tension(),b=this.closed(),v=this.bezier();if(!y)return;let g=0;if(f.beginPath(),f.moveTo(S[0],S[1]),A!==0&&y>4){const C=this.getTensionPoints(),T=C.length;for(g=b?0:4,b||f.quadraticCurveTo(C[0],C[1],C[2],C[3]);g<T-2;)f.bezierCurveTo(C[g++],C[g++],C[g++],C[g++],C[g++],C[g++]);b||f.quadraticCurveTo(C[T-2],C[T-1],S[y-2],S[y-1])}else if(v)for(g=2;g<y;)f.bezierCurveTo(S[g++],S[g++],S[g++],S[g++],S[g++],S[g++]);else for(g=2;g<y;g+=2)f.lineTo(S[g],S[g+1]);b?(f.closePath(),f.fillStrokeShape(this)):f.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const f=this.points(),S=f.length,y=this.tension(),A=u(f[S-2],f[S-1],f[0],f[1],f[2],f[3],y),b=u(f[S-4],f[S-3],f[S-2],f[S-1],f[0],f[1],y),v=s(f,y);return[A[2],A[3]].concat(v).concat([b[0],b[1],f[S-2],f[S-1],b[2],b[3],A[0],A[1],f[0],f[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let f=this.points();if(f.length<4)return{x:f[0]||0,y:f[1]||0,width:0,height:0};this.tension()!==0?f=[f[0],f[1],...this._getTensionPoints(),f[f.length-2],f[f.length-1]]:f=this.points();let S=f[0],y=f[0],A=f[1],b=f[1],v,g;for(let C=0;C<f.length/2;C++)v=f[C*2],g=f[C*2+1],S=Math.min(S,v),y=Math.max(y,v),A=Math.min(A,g),b=Math.max(b,g);return{x:S,y:A,width:y-S,height:b-A}}};return zi.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,r._registerNode)(c),n.Factory.addGetterSetter(c,"closed",!1),n.Factory.addGetterSetter(c,"bezier",!1),n.Factory.addGetterSetter(c,"tension",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(c,"points",[],(0,m.getNumberArrayValidator)()),zi}var Bi={},Eo={},Md;function Np(){return Md||(Md=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const r=(c,d,f)=>{let S,y;const b=f/2;S=0;for(let v=0;v<20;v++)y=b*n.tValues[20][v]+b,S+=n.cValues[20][v]*m(c,d,y);return b*S};n.getCubicArcLength=r;const p=(c,d,f)=>{f===void 0&&(f=1);const S=c[0]-2*c[1]+c[2],y=d[0]-2*d[1]+d[2],A=2*c[1]-2*c[0],b=2*d[1]-2*d[0],v=4*(S*S+y*y),g=4*(S*A+y*b),C=A*A+b*b;if(v===0)return f*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(d[2]-d[0],2));const T=g/(2*v),O=C/v,_=f+T,o=O-T*T,x=_*_+o>0?Math.sqrt(_*_+o):0,E=T*T+o>0?Math.sqrt(T*T+o):0,G=T+Math.sqrt(T*T+o)!==0?o*Math.log(Math.abs((_+x)/(T+E))):0;return Math.sqrt(v)/2*(_*x-T*E+G)};n.getQuadraticArcLength=p;function m(c,d,f){const S=u(1,f,c),y=u(1,f,d),A=S*S+y*y;return Math.sqrt(A)}const u=(c,d,f)=>{const S=f.length-1;let y,A;if(S===0)return 0;if(c===0){A=0;for(let b=0;b<=S;b++)A+=n.binomialCoefficients[S][b]*Math.pow(1-d,S-b)*Math.pow(d,b)*f[b];return A}else{y=new Array(S);for(let b=0;b<S;b++)y[b]=S*(f[b+1]-f[b]);return u(c-1,d,y)}},s=(c,d,f)=>{let S=1,y=c/d,A=(c-f(y))/d,b=0;for(;S>.001;){const v=f(y+A),g=Math.abs(c-v)/d;if(g<S)S=g,y+=A;else{const C=f(y-A),T=Math.abs(c-C)/d;T<S?(S=T,y-=A):A/=2}if(b++,b>500)break}return y};n.t2length=s}(Eo)),Eo}var Od;function Wo(){if(Od)return Bi;Od=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Path=void 0;const n=Tt(),r=At(),p=fe(),m=Np();let u=class Ge extends p.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ge.parsePathData(this.data()),this.pathLength=Ge.getPathLength(this.dataArray)}_sceneFunc(c){const d=this.dataArray;c.beginPath();let f=!1;for(let S=0;S<d.length;S++){const y=d[S].command,A=d[S].points;switch(y){case"L":c.lineTo(A[0],A[1]);break;case"M":c.moveTo(A[0],A[1]);break;case"C":c.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case"Q":c.quadraticCurveTo(A[0],A[1],A[2],A[3]);break;case"A":const b=A[0],v=A[1],g=A[2],C=A[3],T=A[4],O=A[5],_=A[6],o=A[7],x=g>C?g:C,E=g>C?1:g/C,G=g>C?C/g:1;c.translate(b,v),c.rotate(_),c.scale(E,G),c.arc(0,0,x,T,T+O,1-o),c.scale(1/E,1/G),c.rotate(-_),c.translate(-b,-v);break;case"z":f=!0,c.closePath();break}}!f&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(v){if(v.command==="A"){const g=v.points[4],C=v.points[5],T=v.points[4]+C;let O=Math.PI/180;if(Math.abs(g-T)<O&&(O=Math.abs(g-T)),C<0)for(let _=g-O;_>T;_-=O){const o=Ge.getPointOnEllipticalArc(v.points[0],v.points[1],v.points[2],v.points[3],_,0);c.push(o.x,o.y)}else for(let _=g+O;_<T;_+=O){const o=Ge.getPointOnEllipticalArc(v.points[0],v.points[1],v.points[2],v.points[3],_,0);c.push(o.x,o.y)}}else if(v.command==="C")for(let g=0;g<=1;g+=.01){const C=Ge.getPointOnCubicBezier(g,v.start.x,v.start.y,v.points[0],v.points[1],v.points[2],v.points[3],v.points[4],v.points[5]);c.push(C.x,C.y)}else c=c.concat(v.points)});let d=c[0],f=c[0],S=c[1],y=c[1],A,b;for(let v=0;v<c.length/2;v++)A=c[v*2],b=c[v*2+1],isNaN(A)||(d=Math.min(d,A),f=Math.max(f,A)),isNaN(b)||(S=Math.min(S,b),y=Math.max(y,b));return{x:d,y:S,width:f-d,height:y-S}}getLength(){return this.pathLength}getPointAtLength(c){return Ge.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,d,f,S){return Math.sqrt((f-c)*(f-c)+(S-d)*(S-d))}static getPathLength(c){let d=0;for(let f=0;f<c.length;++f)d+=c[f].pathLength;return d}static getPointAtLengthOfDataArray(c,d){let f,S=0,y=d.length;if(!y)return null;for(;S<y&&c>d[S].pathLength;)c-=d[S].pathLength,++S;if(S===y)return f=d[S-1].points.slice(-2),{x:f[0],y:f[1]};if(c<.01)return d[S].command==="M"?(f=d[S].points.slice(0,2),{x:f[0],y:f[1]}):{x:d[S].start.x,y:d[S].start.y};const A=d[S],b=A.points;switch(A.command){case"L":return Ge.getPointOnLine(c,A.start.x,A.start.y,b[0],b[1]);case"C":return Ge.getPointOnCubicBezier((0,m.t2length)(c,Ge.getPathLength(d),x=>(0,m.getCubicArcLength)([A.start.x,b[0],b[2],b[4]],[A.start.y,b[1],b[3],b[5]],x)),A.start.x,A.start.y,b[0],b[1],b[2],b[3],b[4],b[5]);case"Q":return Ge.getPointOnQuadraticBezier((0,m.t2length)(c,Ge.getPathLength(d),x=>(0,m.getQuadraticArcLength)([A.start.x,b[0],b[2]],[A.start.y,b[1],b[3]],x)),A.start.x,A.start.y,b[0],b[1],b[2],b[3]);case"A":const v=b[0],g=b[1],C=b[2],T=b[3],O=b[5],_=b[6];let o=b[4];return o+=O*c/A.pathLength,Ge.getPointOnEllipticalArc(v,g,C,T,o,_)}return null}static getPointOnLine(c,d,f,S,y,A,b){A=A??d,b=b??f;const v=this.getLineLength(d,f,S,y);if(v<1e-10)return{x:d,y:f};if(S===d)return{x:A,y:b+(y>f?c:-c)};const g=(y-f)/(S-d),C=Math.sqrt(c*c/(1+g*g))*(S<d?-1:1),T=g*C;if(Math.abs(b-f-g*(A-d))<1e-10)return{x:A+C,y:b+T};const O=((A-d)*(S-d)+(b-f)*(y-f))/(v*v),_=d+O*(S-d),o=f+O*(y-f),x=this.getLineLength(A,b,_,o),E=Math.sqrt(c*c-x*x),G=Math.sqrt(E*E/(1+g*g))*(S<d?-1:1),P=g*G;return{x:_+G,y:o+P}}static getPointOnCubicBezier(c,d,f,S,y,A,b,v,g){function C(E){return E*E*E}function T(E){return 3*E*E*(1-E)}function O(E){return 3*E*(1-E)*(1-E)}function _(E){return(1-E)*(1-E)*(1-E)}const o=v*C(c)+A*T(c)+S*O(c)+d*_(c),x=g*C(c)+b*T(c)+y*O(c)+f*_(c);return{x:o,y:x}}static getPointOnQuadraticBezier(c,d,f,S,y,A,b){function v(_){return _*_}function g(_){return 2*_*(1-_)}function C(_){return(1-_)*(1-_)}const T=A*v(c)+S*g(c)+d*C(c),O=b*v(c)+y*g(c)+f*C(c);return{x:T,y:O}}static getPointOnEllipticalArc(c,d,f,S,y,A){const b=Math.cos(A),v=Math.sin(A),g={x:f*Math.cos(y),y:S*Math.sin(y)};return{x:c+(g.x*b-g.y*v),y:d+(g.x*v+g.y*b)}}static parsePathData(c){if(!c)return[];let d=c;const f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(let T=0;T<f.length;T++)d=d.replace(new RegExp(f[T],"g"),"|"+f[T]);const S=d.split("|"),y=[],A=[];let b=0,v=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(let T=1;T<S.length;T++){let O=S[T],_=O.charAt(0);for(O=O.slice(1),A.length=0;C=g.exec(O);)A.push(C[0]);const o=[];for(let x=0,E=A.length;x<E;x++){if(A[x]==="00"){o.push(0,0);continue}const G=parseFloat(A[x]);isNaN(G)?o.push(0):o.push(G)}for(;o.length>0&&!isNaN(o[0]);){let x="",E=[];const G=b,P=v;let R,D,z,L,F,K,Q,j,it,N;switch(_){case"l":b+=o.shift(),v+=o.shift(),x="L",E.push(b,v);break;case"L":b=o.shift(),v=o.shift(),E.push(b,v);break;case"m":const M=o.shift(),w=o.shift();if(b+=M,v+=w,x="M",y.length>2&&y[y.length-1].command==="z"){for(let B=y.length-2;B>=0;B--)if(y[B].command==="M"){b=y[B].points[0]+M,v=y[B].points[1]+w;break}}E.push(b,v),_="l";break;case"M":b=o.shift(),v=o.shift(),x="M",E.push(b,v),_="L";break;case"h":b+=o.shift(),x="L",E.push(b,v);break;case"H":b=o.shift(),x="L",E.push(b,v);break;case"v":v+=o.shift(),x="L",E.push(b,v);break;case"V":v=o.shift(),x="L",E.push(b,v);break;case"C":E.push(o.shift(),o.shift(),o.shift(),o.shift()),b=o.shift(),v=o.shift(),E.push(b,v);break;case"c":E.push(b+o.shift(),v+o.shift(),b+o.shift(),v+o.shift()),b+=o.shift(),v+=o.shift(),x="C",E.push(b,v);break;case"S":D=b,z=v,R=y[y.length-1],R.command==="C"&&(D=b+(b-R.points[2]),z=v+(v-R.points[3])),E.push(D,z,o.shift(),o.shift()),b=o.shift(),v=o.shift(),x="C",E.push(b,v);break;case"s":D=b,z=v,R=y[y.length-1],R.command==="C"&&(D=b+(b-R.points[2]),z=v+(v-R.points[3])),E.push(D,z,b+o.shift(),v+o.shift()),b+=o.shift(),v+=o.shift(),x="C",E.push(b,v);break;case"Q":E.push(o.shift(),o.shift()),b=o.shift(),v=o.shift(),E.push(b,v);break;case"q":E.push(b+o.shift(),v+o.shift()),b+=o.shift(),v+=o.shift(),x="Q",E.push(b,v);break;case"T":D=b,z=v,R=y[y.length-1],R.command==="Q"&&(D=b+(b-R.points[0]),z=v+(v-R.points[1])),b=o.shift(),v=o.shift(),x="Q",E.push(D,z,b,v);break;case"t":D=b,z=v,R=y[y.length-1],R.command==="Q"&&(D=b+(b-R.points[0]),z=v+(v-R.points[1])),b+=o.shift(),v+=o.shift(),x="Q",E.push(D,z,b,v);break;case"A":L=o.shift(),F=o.shift(),K=o.shift(),Q=o.shift(),j=o.shift(),it=b,N=v,b=o.shift(),v=o.shift(),x="A",E=this.convertEndpointToCenterParameterization(it,N,b,v,Q,j,L,F,K);break;case"a":L=o.shift(),F=o.shift(),K=o.shift(),Q=o.shift(),j=o.shift(),it=b,N=v,b+=o.shift(),v+=o.shift(),x="A",E=this.convertEndpointToCenterParameterization(it,N,b,v,Q,j,L,F,K);break}y.push({command:x||_,points:E,start:{x:G,y:P},pathLength:this.calcLength(G,P,x||_,E)})}(_==="z"||_==="Z")&&y.push({command:"z",points:[],start:void 0,pathLength:0})}return y}static calcLength(c,d,f,S){let y,A,b,v;const g=Ge;switch(f){case"L":return g.getLineLength(c,d,S[0],S[1]);case"C":return(0,m.getCubicArcLength)([c,S[0],S[2],S[4]],[d,S[1],S[3],S[5]],1);case"Q":return(0,m.getQuadraticArcLength)([c,S[0],S[2]],[d,S[1],S[3]],1);case"A":y=0;const C=S[4],T=S[5],O=S[4]+T;let _=Math.PI/180;if(Math.abs(C-O)<_&&(_=Math.abs(C-O)),A=g.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],C,0),T<0)for(v=C-_;v>O;v-=_)b=g.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],v,0),y+=g.getLineLength(A.x,A.y,b.x,b.y),A=b;else for(v=C+_;v<O;v+=_)b=g.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],v,0),y+=g.getLineLength(A.x,A.y,b.x,b.y),A=b;return b=g.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],O,0),y+=g.getLineLength(A.x,A.y,b.x,b.y),y}return 0}static convertEndpointToCenterParameterization(c,d,f,S,y,A,b,v,g){const C=g*(Math.PI/180),T=Math.cos(C)*(c-f)/2+Math.sin(C)*(d-S)/2,O=-1*Math.sin(C)*(c-f)/2+Math.cos(C)*(d-S)/2,_=T*T/(b*b)+O*O/(v*v);_>1&&(b*=Math.sqrt(_),v*=Math.sqrt(_));let o=Math.sqrt((b*b*(v*v)-b*b*(O*O)-v*v*(T*T))/(b*b*(O*O)+v*v*(T*T)));y===A&&(o*=-1),isNaN(o)&&(o=0);const x=o*b*O/v,E=o*-v*T/b,G=(c+f)/2+Math.cos(C)*x-Math.sin(C)*E,P=(d+S)/2+Math.sin(C)*x+Math.cos(C)*E,R=function(j){return Math.sqrt(j[0]*j[0]+j[1]*j[1])},D=function(j,it){return(j[0]*it[0]+j[1]*it[1])/(R(j)*R(it))},z=function(j,it){return(j[0]*it[1]<j[1]*it[0]?-1:1)*Math.acos(D(j,it))},L=z([1,0],[(T-x)/b,(O-E)/v]),F=[(T-x)/b,(O-E)/v],K=[(-1*T-x)/b,(-1*O-E)/v];let Q=z(F,K);return D(F,K)<=-1&&(Q=Math.PI),D(F,K)>=1&&(Q=0),A===0&&Q>0&&(Q=Q-2*Math.PI),A===1&&Q<0&&(Q=Q+2*Math.PI),[G,P,b,v,L,Q,C,A]}};return Bi.Path=u,u.prototype.className="Path",u.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(u),n.Factory.addGetterSetter(u,"data"),Bi}var Dd;function Rp(){if(Dd)return Ui;Dd=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Arrow=void 0;const n=Tt(),r=X0(),p=Nt(),m=At(),u=Wo();let s=class extends r.Line{_sceneFunc(d){super._sceneFunc(d);const f=Math.PI*2,S=this.points();let y=S;const A=this.tension()!==0&&S.length>4;A&&(y=this.getTensionPoints());const b=this.pointerLength(),v=S.length;let g,C;if(A){const _=[y[y.length-4],y[y.length-3],y[y.length-2],y[y.length-1],S[v-2],S[v-1]],o=u.Path.calcLength(y[y.length-4],y[y.length-3],"C",_),x=u.Path.getPointOnQuadraticBezier(Math.min(1,1-b/o),_[0],_[1],_[2],_[3],_[4],_[5]);g=S[v-2]-x.x,C=S[v-1]-x.y}else g=S[v-2]-S[v-4],C=S[v-1]-S[v-3];const T=(Math.atan2(C,g)+f)%f,O=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(S[v-2],S[v-1]),d.rotate(T),d.moveTo(0,0),d.lineTo(-b,O/2),d.lineTo(-b,-O/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(S[0],S[1]),A?(g=(y[0]+y[2])/2-S[0],C=(y[1]+y[3])/2-S[1]):(g=S[2]-S[0],C=S[3]-S[1]),d.rotate((Math.atan2(-C,-g)+f)%f),d.moveTo(0,0),d.lineTo(-b,O/2),d.lineTo(-b,-O/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){const f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),f=this.pointerWidth()/2;return{x:d.x,y:d.y-f,width:d.width,height:d.height+f*2}}};return Ui.Arrow=s,s.prototype.className="Arrow",(0,m._registerNode)(s),n.Factory.addGetterSetter(s,"pointerLength",10,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(s,"pointerWidth",10,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(s,"pointerAtBeginning",!1),n.Factory.addGetterSetter(s,"pointerAtEnding",!0),Ui}var wi={},Gd;function Mp(){if(Gd)return wi;Gd=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Circle=void 0;const n=Tt(),r=fe(),p=Nt(),m=At();let u=class extends r.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}};return wi.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],(0,m._registerNode)(u),n.Factory.addGetterSetter(u,"radius",0,(0,p.getNumberValidator)()),wi}var Hi={},Ud;function Op(){if(Ud)return Hi;Ud=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.Ellipse=void 0;const n=Tt(),r=fe(),p=Nt(),m=At();let u=class extends r.Shape{_sceneFunc(c){const d=this.radiusX(),f=this.radiusY();c.beginPath(),c.save(),d!==f&&c.scale(1,f/d),c.arc(0,0,d,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return Hi.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,m._registerNode)(u),n.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),n.Factory.addGetterSetter(u,"radiusX",0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(u,"radiusY",0,(0,p.getNumberValidator)()),Hi}var Li={},zd;function Dp(){if(zd)return Li;zd=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.Image=void 0;const n=Zt(),r=Tt(),p=fe(),m=At(),u=Nt();class s extends p.Shape{constructor(d){super(d),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",f=>{this._removeImageLoad(f.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&d.readyState===4||d&&d.addEventListener&&d.addEventListener("load",this._loadListener)}_removeImageLoad(d){d&&d.removeEventListener&&d.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const d=!!this.cornerRadius(),f=this.hasShadow();return d&&f?!0:super._useBufferCanvas(!0)}_sceneFunc(d){const f=this.getWidth(),S=this.getHeight(),y=this.cornerRadius(),A=this.attrs.image;let b;if(A){const v=this.attrs.cropWidth,g=this.attrs.cropHeight;v&&g?b=[A,this.cropX(),this.cropY(),v,g,0,0,f,S]:b=[A,0,0,f,S]}(this.hasFill()||this.hasStroke()||y)&&(d.beginPath(),y?n.Util.drawRoundedRectPath(d,f,S,y):d.rect(0,0,f,S),d.closePath(),d.fillStrokeShape(this)),A&&(y&&d.clip(),d.drawImage.apply(d,b))}_hitFunc(d){const f=this.width(),S=this.height(),y=this.cornerRadius();d.beginPath(),y?n.Util.drawRoundedRectPath(d,f,S,y):d.rect(0,0,f,S),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,f;return(d=this.attrs.width)!==null&&d!==void 0?d:(f=this.image())===null||f===void 0?void 0:f.width}getHeight(){var d,f;return(d=this.attrs.height)!==null&&d!==void 0?d:(f=this.image())===null||f===void 0?void 0:f.height}static fromURL(d,f,S=null){const y=n.Util.createImageElement();y.onload=function(){const A=new s({image:y});f(A)},y.onerror=S,y.crossOrigin="Anonymous",y.src=d}}return Li.Image=s,s.prototype.className="Image",(0,m._registerNode)(s),r.Factory.addGetterSetter(s,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),r.Factory.addGetterSetter(s,"image"),r.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),r.Factory.addGetterSetter(s,"cropX",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(s,"cropY",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(s,"cropWidth",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(s,"cropHeight",0,(0,u.getNumberValidator)()),Li}var dn={},Bd;function Gp(){if(Bd)return dn;Bd=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.Tag=dn.Label=void 0;const n=Tt(),r=fe(),p=Zo(),m=Nt(),u=At(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",d="none",f="up",S="right",y="down",A="left",b=s.length;class v extends p.Group{constructor(T){super(T),this.on("add.konva",function(O){this._addListeners(O.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){let O=this,_;const o=function(){O._sync()};for(_=0;_<b;_++)T.on(s[_]+c,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let T=this.getText(),O=this.getTag(),_,o,x,E,G,P,R;if(T&&O){switch(_=T.width(),o=T.height(),x=O.pointerDirection(),E=O.pointerWidth(),R=O.pointerHeight(),G=0,P=0,x){case f:G=_/2,P=-1*R;break;case S:G=_+E,P=o/2;break;case y:G=_/2,P=o+R;break;case A:G=-1*E,P=o/2;break}O.setAttrs({x:-1*G,y:-1*P,width:_,height:o}),T.setAttrs({x:-1*G,y:-1*P})}}}dn.Label=v,v.prototype.className="Label",(0,u._registerNode)(v);class g extends r.Shape{_sceneFunc(T){const O=this.width(),_=this.height(),o=this.pointerDirection(),x=this.pointerWidth(),E=this.pointerHeight(),G=this.cornerRadius();let P=0,R=0,D=0,z=0;typeof G=="number"?P=R=D=z=Math.min(G,O/2,_/2):(P=Math.min(G[0]||0,O/2,_/2),R=Math.min(G[1]||0,O/2,_/2),z=Math.min(G[2]||0,O/2,_/2),D=Math.min(G[3]||0,O/2,_/2)),T.beginPath(),T.moveTo(P,0),o===f&&(T.lineTo((O-x)/2,0),T.lineTo(O/2,-1*E),T.lineTo((O+x)/2,0)),T.lineTo(O-R,0),T.arc(O-R,R,R,Math.PI*3/2,0,!1),o===S&&(T.lineTo(O,(_-E)/2),T.lineTo(O+x,_/2),T.lineTo(O,(_+E)/2)),T.lineTo(O,_-z),T.arc(O-z,_-z,z,0,Math.PI/2,!1),o===y&&(T.lineTo((O+x)/2,_),T.lineTo(O/2,_+E),T.lineTo((O-x)/2,_)),T.lineTo(D,_),T.arc(D,_-D,D,Math.PI/2,Math.PI,!1),o===A&&(T.lineTo(0,(_+E)/2),T.lineTo(-1*x,_/2),T.lineTo(0,(_-E)/2)),T.lineTo(0,P),T.arc(P,P,P,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){let T=0,O=0,_=this.pointerWidth(),o=this.pointerHeight(),x=this.pointerDirection(),E=this.width(),G=this.height();return x===f?(O-=o,G+=o):x===y?G+=o:x===A?(T-=_*1.5,E+=_):x===S&&(E+=_*1.5),{x:T,y:O,width:E,height:G}}}return dn.Tag=g,g.prototype.className="Tag",(0,u._registerNode)(g),n.Factory.addGetterSetter(g,"pointerDirection",d),n.Factory.addGetterSetter(g,"pointerWidth",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(g,"pointerHeight",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(g,"cornerRadius",0,(0,m.getNumberOrArrayOfNumbersValidator)(4)),dn}var Pi={},wd;function Q0(){if(wd)return Pi;wd=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Rect=void 0;const n=Tt(),r=fe(),p=At(),m=Zt(),u=Nt();class s extends r.Shape{_sceneFunc(d){const f=this.cornerRadius(),S=this.width(),y=this.height();d.beginPath(),f?m.Util.drawRoundedRectPath(d,S,y,f):d.rect(0,0,S,y),d.closePath(),d.fillStrokeShape(this)}}return Pi.Rect=s,s.prototype.className="Rect",(0,p._registerNode)(s),n.Factory.addGetterSetter(s,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),Pi}var Vi={},Hd;function Up(){if(Hd)return Vi;Hd=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.RegularPolygon=void 0;const n=Tt(),r=fe(),p=Nt(),m=At();let u=class extends r.Shape{_sceneFunc(c){const d=this._getPoints();c.beginPath(),c.moveTo(d[0].x,d[0].y);for(let f=1;f<d.length;f++)c.lineTo(d[f].x,d[f].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,d=this.attrs.radius||0,f=[];for(let S=0;S<c;S++)f.push({x:d*Math.sin(S*2*Math.PI/c),y:-1*d*Math.cos(S*2*Math.PI/c)});return f}getSelfRect(){const c=this._getPoints();let d=c[0].x,f=c[0].y,S=c[0].x,y=c[0].y;return c.forEach(A=>{d=Math.min(d,A.x),f=Math.max(f,A.x),S=Math.min(S,A.y),y=Math.max(y,A.y)}),{x:d,y:S,width:f-d,height:y-S}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return Vi.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],(0,m._registerNode)(u),n.Factory.addGetterSetter(u,"radius",0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(u,"sides",0,(0,p.getNumberValidator)()),Vi}var qi={},Ld;function zp(){if(Ld)return qi;Ld=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Ring=void 0;const n=Tt(),r=fe(),p=Nt(),m=At(),u=Math.PI*2;let s=class extends r.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,u,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),u,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return qi.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,m._registerNode)(s),n.Factory.addGetterSetter(s,"innerRadius",0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(s,"outerRadius",0,(0,p.getNumberValidator)()),qi}var Fi={},Pd;function Bp(){if(Pd)return Fi;Pd=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Sprite=void 0;const n=Tt(),r=fe(),p=Jo(),m=Nt(),u=At();let s=class extends r.Shape{constructor(d){super(d),this._updated=!0,this.anim=new p.Animation(()=>{const f=this._updated;return this._updated=!1,f}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){const f=this.animation(),S=this.frameIndex(),y=S*4,A=this.animations()[f],b=this.frameOffsets(),v=A[y+0],g=A[y+1],C=A[y+2],T=A[y+3],O=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,C,T),d.closePath(),d.fillStrokeShape(this)),O)if(b){const _=b[f],o=S*2;d.drawImage(O,v,g,C,T,_[o+0],_[o+1],C,T)}else d.drawImage(O,v,g,C,T,0,0,C,T)}_hitFunc(d){const f=this.animation(),S=this.frameIndex(),y=S*4,A=this.animations()[f],b=this.frameOffsets(),v=A[y+2],g=A[y+3];if(d.beginPath(),b){const C=b[f],T=S*2;d.rect(C[T+0],C[T+1],v,g)}else d.rect(0,0,v,g);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const d=this.frameIndex(),f=this.animation(),S=this.animations(),y=S[f],A=y.length/4;d<A-1?this.frameIndex(d+1):this.frameIndex(0)}};return Fi.Sprite=s,s.prototype.className="Sprite",(0,u._registerNode)(s),n.Factory.addGetterSetter(s,"animation"),n.Factory.addGetterSetter(s,"animations"),n.Factory.addGetterSetter(s,"frameOffsets"),n.Factory.addGetterSetter(s,"image"),n.Factory.addGetterSetter(s,"frameIndex",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"frameRate",17,(0,m.getNumberValidator)()),n.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Fi}var ji={},Vd;function wp(){if(Vd)return ji;Vd=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.Star=void 0;const n=Tt(),r=fe(),p=Nt(),m=At();let u=class extends r.Shape{_sceneFunc(c){const d=this.innerRadius(),f=this.outerRadius(),S=this.numPoints();c.beginPath(),c.moveTo(0,0-f);for(let y=1;y<S*2;y++){const A=y%2===0?f:d,b=A*Math.sin(y*Math.PI/S),v=-1*A*Math.cos(y*Math.PI/S);c.lineTo(b,v)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return ji.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,m._registerNode)(u),n.Factory.addGetterSetter(u,"numPoints",5,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(u,"innerRadius",0,(0,p.getNumberValidator)()),n.Factory.addGetterSetter(u,"outerRadius",0,(0,p.getNumberValidator)()),ji}var jn={},qd;function k0(){if(qd)return jn;qd=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.Text=void 0,jn.stringToArray=c;const n=Zt(),r=Tt(),p=fe(),m=At(),u=Nt(),s=At();function c($){return[...$].reduce((Y,at,ot,I)=>{if(new RegExp("\\p{Emoji}","u").test(at)){const H=I[ot+1];H&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(H)?(Y.push(at+H),I[ot+1]=""):Y.push(at)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(at+(I[ot+1]||""))?Y.push(at+I[ot+1]):ot>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(at)?Y[Y.length-1]+=at:at&&Y.push(at);return Y},[])}const d="auto",f="center",S="inherit",y="justify",A="Change.konva",b="2d",v="-",g="left",C="text",T="Text",O="top",_="bottom",o="middle",x="normal",E="px ",G=" ",P="right",R="rtl",D="word",z="char",L="none",F="…",K=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Q=K.length;function j($){return $.split(",").map(Y=>{Y=Y.trim();const at=Y.indexOf(" ")>=0,ot=Y.indexOf('"')>=0||Y.indexOf("'")>=0;return at&&!ot&&(Y=`"${Y}"`),Y}).join(", ")}let it;function N(){return it||(it=n.Util.createCanvasElement().getContext(b),it)}function M($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function w($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function B($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}class V extends p.Shape{constructor(Y){super(B(Y)),this._partialTextX=0,this._partialTextY=0;for(let at=0;at<Q;at++)this.on(K[at]+A,this._setTextData);this._setTextData()}_sceneFunc(Y){const at=this.textArr,ot=at.length;if(!this.text())return;let I=this.padding(),H=this.fontSize(),Z=this.lineHeight()*H,st=this.verticalAlign(),ut=this.direction(),dt=0,yt=this.align(),_t=this.getWidth(),Ut=this.letterSpacing(),gt=this.fill(),Ft=this.textDecoration(),zt=Ft.indexOf("underline")!==-1,Yt=Ft.indexOf("line-through")!==-1,Qe;ut=ut===S?Y.direction:ut;let ge=Z/2,Be=o;if(m.Konva._fixTextRendering){const St=this.measureSize("M");Be="alphabetic",ge=(St.fontBoundingBoxAscent-St.fontBoundingBoxDescent)/2+Z/2}for(ut===R&&Y.setAttr("direction",ut),Y.setAttr("font",this._getContextFont()),Y.setAttr("textBaseline",Be),Y.setAttr("textAlign",g),st===o?dt=(this.getHeight()-ot*Z-I*2)/2:st===_&&(dt=this.getHeight()-ot*Z-I*2),Y.translate(I,dt+I),Qe=0;Qe<ot;Qe++){let St=0,be=0;const we=at[Qe],ea=we.text,$t=we.width,ie=we.lastInParagraph;if(Y.save(),yt===P?St+=_t-$t-I*2:yt===f&&(St+=(_t-$t-I*2)/2),zt){Y.save(),Y.beginPath();const oe=m.Konva._fixTextRendering?Math.round(H/4):Math.round(H/2),He=St,pe=ge+be+oe;Y.moveTo(He,pe);const me=yt===y&&!ie?_t-I*2:$t;Y.lineTo(He+Math.round(me),pe),Y.lineWidth=H/15;const Na=this._getLinearGradient();Y.strokeStyle=Na||gt,Y.stroke(),Y.restore()}if(Yt){Y.save(),Y.beginPath();const oe=m.Konva._fixTextRendering?-Math.round(H/4):0;Y.moveTo(St,ge+be+oe);const He=yt===y&&!ie?_t-I*2:$t;Y.lineTo(St+Math.round(He),ge+be+oe),Y.lineWidth=H/15;const pe=this._getLinearGradient();Y.strokeStyle=pe||gt,Y.stroke(),Y.restore()}if(ut!==R&&(Ut!==0||yt===y)){const oe=ea.split(" ").length-1,He=c(ea);for(let pe=0;pe<He.length;pe++){const me=He[pe];me===" "&&!ie&&yt===y&&(St+=(_t-I*2-$t)/oe),this._partialTextX=St,this._partialTextY=ge+be,this._partialText=me,Y.fillStrokeShape(this),St+=this.measureSize(me).width+Ut}}else Ut!==0&&Y.setAttr("letterSpacing",`${Ut}px`),this._partialTextX=St,this._partialTextY=ge+be,this._partialText=ea,Y.fillStrokeShape(this);Y.restore(),ot>1&&(ge+=Z)}}_hitFunc(Y){const at=this.getWidth(),ot=this.getHeight();Y.beginPath(),Y.rect(0,0,at,ot),Y.closePath(),Y.fillStrokeShape(this)}setText(Y){const at=n.Util._isString(Y)?Y:Y==null?"":Y+"";return this._setAttr(C,at),this}getWidth(){return this.attrs.width===d||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===d||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(Y){var at,ot,I,H,Z,st,ut,dt,yt,_t,Ut;let gt=N(),Ft=this.fontSize(),zt;gt.save(),gt.font=this._getContextFont(),zt=gt.measureText(Y),gt.restore();const Yt=Ft/100;return{actualBoundingBoxAscent:(at=zt.actualBoundingBoxAscent)!==null&&at!==void 0?at:71.58203125*Yt,actualBoundingBoxDescent:(ot=zt.actualBoundingBoxDescent)!==null&&ot!==void 0?ot:0,actualBoundingBoxLeft:(I=zt.actualBoundingBoxLeft)!==null&&I!==void 0?I:-7.421875*Yt,actualBoundingBoxRight:(H=zt.actualBoundingBoxRight)!==null&&H!==void 0?H:75.732421875*Yt,alphabeticBaseline:(Z=zt.alphabeticBaseline)!==null&&Z!==void 0?Z:0,emHeightAscent:(st=zt.emHeightAscent)!==null&&st!==void 0?st:100*Yt,emHeightDescent:(ut=zt.emHeightDescent)!==null&&ut!==void 0?ut:-20*Yt,fontBoundingBoxAscent:(dt=zt.fontBoundingBoxAscent)!==null&&dt!==void 0?dt:91*Yt,fontBoundingBoxDescent:(yt=zt.fontBoundingBoxDescent)!==null&&yt!==void 0?yt:21*Yt,hangingBaseline:(_t=zt.hangingBaseline)!==null&&_t!==void 0?_t:72.80000305175781*Yt,ideographicBaseline:(Ut=zt.ideographicBaseline)!==null&&Ut!==void 0?Ut:-21*Yt,width:zt.width,height:Ft}}_getContextFont(){return this.fontStyle()+G+this.fontVariant()+G+(this.fontSize()+E)+j(this.fontFamily())}_addTextLine(Y){this.align()===y&&(Y=Y.trim());const ot=this._getTextWidth(Y);return this.textArr.push({text:Y,width:ot,lastInParagraph:!1})}_getTextWidth(Y){const at=this.letterSpacing(),ot=Y.length;return N().measureText(Y).width+at*ot}_setTextData(){let Y=this.text().split(`
`),at=+this.fontSize(),ot=0,I=this.lineHeight()*at,H=this.attrs.width,Z=this.attrs.height,st=H!==d&&H!==void 0,ut=Z!==d&&Z!==void 0,dt=this.padding(),yt=H-dt*2,_t=Z-dt*2,Ut=0,gt=this.wrap(),Ft=gt!==L,zt=gt!==z&&Ft,Yt=this.ellipsis();this.textArr=[],N().font=this._getContextFont();const Qe=Yt?this._getTextWidth(F):0;for(let ge=0,Be=Y.length;ge<Be;++ge){let St=Y[ge],be=this._getTextWidth(St);if(st&&be>yt)for(;St.length>0;){let we=0,ea=c(St).length,$t="",ie=0;for(;we<ea;){const oe=we+ea>>>1,He=c(St),pe=He.slice(0,oe+1).join(""),me=this._getTextWidth(pe);(Yt&&ut&&Ut+I>_t?me+Qe:me)<=yt?(we=oe+1,$t=pe,ie=me):ea=oe}if($t){if(zt){const pe=c(St),me=c($t),Na=pe[me.length],Zn=Na===G||Na===v;let fn;if(Zn&&ie<=yt)fn=me.length;else{const Jn=me.lastIndexOf(G),Gl=me.lastIndexOf(v);fn=Math.max(Jn,Gl)+1}fn>0&&(we=fn,$t=pe.slice(0,we).join(""),ie=this._getTextWidth($t))}if($t=$t.trimRight(),this._addTextLine($t),ot=Math.max(ot,ie),Ut+=I,this._shouldHandleEllipsis(Ut)){this._tryToAddEllipsisToLastLine();break}if(St=c(St).slice(we).join("").trimLeft(),St.length>0&&(be=this._getTextWidth(St),be<=yt)){this._addTextLine(St),Ut+=I,ot=Math.max(ot,be);break}}else break}else this._addTextLine(St),Ut+=I,ot=Math.max(ot,be),this._shouldHandleEllipsis(Ut)&&ge<Be-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ut&&Ut+I>_t)break}this.textHeight=at,this.textWidth=ot}_shouldHandleEllipsis(Y){const at=+this.fontSize(),ot=this.lineHeight()*at,I=this.attrs.height,H=I!==d&&I!==void 0,Z=this.padding(),st=I-Z*2;return!(this.wrap()!==L)||H&&Y+ot>st}_tryToAddEllipsisToLastLine(){const Y=this.attrs.width,at=Y!==d&&Y!==void 0,ot=this.padding(),I=Y-ot*2,H=this.ellipsis(),Z=this.textArr[this.textArr.length-1];!Z||!H||(at&&(this._getTextWidth(Z.text+F)<I||(Z.text=Z.text.slice(0,Z.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Z.text+F))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const Y=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,at=this.hasShadow();return Y&&at?!0:super._useBufferCanvas()}}return jn.Text=V,V.prototype._fillFunc=M,V.prototype._strokeFunc=w,V.prototype.className=T,V.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(V),r.Factory.overWriteSetter(V,"width",(0,u.getNumberOrAutoValidator)()),r.Factory.overWriteSetter(V,"height",(0,u.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(V,"direction",S),r.Factory.addGetterSetter(V,"fontFamily","Arial"),r.Factory.addGetterSetter(V,"fontSize",12,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(V,"fontStyle",x),r.Factory.addGetterSetter(V,"fontVariant",x),r.Factory.addGetterSetter(V,"padding",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(V,"align",g),r.Factory.addGetterSetter(V,"verticalAlign",O),r.Factory.addGetterSetter(V,"lineHeight",1,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(V,"wrap",D),r.Factory.addGetterSetter(V,"ellipsis",!1,(0,u.getBooleanValidator)()),r.Factory.addGetterSetter(V,"letterSpacing",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(V,"text","",(0,u.getStringValidator)()),r.Factory.addGetterSetter(V,"textDecoration",""),jn}var Yi={},Fd;function Hp(){if(Fd)return Yi;Fd=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.TextPath=void 0;const n=Zt(),r=Tt(),p=fe(),m=Wo(),u=k0(),s=Nt(),c=At(),d="",f="normal";function S(b){b.fillText(this.partialText,0,0)}function y(b){b.strokeText(this.partialText,0,0)}let A=class extends p.Shape{constructor(v){super(v),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return m.Path.getPathLength(this.dataArray)}_getPointAtLength(v){if(!this.attrs.data)return null;const g=this.pathLength;return v-1>g?null:m.Path.getPointAtLengthOfDataArray(v,this.dataArray)}_readDataAttribute(){this.dataArray=m.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(v){v.setAttr("font",this._getContextFont()),v.setAttr("textBaseline",this.textBaseline()),v.setAttr("textAlign","left"),v.save();const g=this.textDecoration(),C=this.fill(),T=this.fontSize(),O=this.glyphInfo;g==="underline"&&v.beginPath();for(let _=0;_<O.length;_++){v.save();const o=O[_].p0;v.translate(o.x,o.y),v.rotate(O[_].rotation),this.partialText=O[_].text,v.fillStrokeShape(this),g==="underline"&&(_===0&&v.moveTo(0,T/2+1),v.lineTo(T,T/2+1)),v.restore()}g==="underline"&&(v.strokeStyle=C,v.lineWidth=T/20,v.stroke()),v.restore()}_hitFunc(v){v.beginPath();const g=this.glyphInfo;if(g.length>=1){const C=g[0].p0;v.moveTo(C.x,C.y)}for(let C=0;C<g.length;C++){const T=g[C].p1;v.lineTo(T.x,T.y)}v.setAttr("lineWidth",this.fontSize()),v.setAttr("strokeStyle",this.colorKey),v.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(v){return u.Text.prototype.setText.call(this,v)}_getContextFont(){return u.Text.prototype._getContextFont.call(this)}_getTextSize(v){const C=this.dummyCanvas.getContext("2d");C.save(),C.font=this._getContextFont();const T=C.measureText(v);return C.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:v,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=v,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const C=this.letterSpacing(),T=this.align(),O=this.kerningFunc(),_=Math.max(this.textWidth+((this.attrs.text||"").length-1)*C,0);let o=0;T==="center"&&(o=Math.max(0,this.pathLength/2-_/2)),T==="right"&&(o=Math.max(0,this.pathLength-_));const x=(0,u.stringToArray)(this.text());let E=o;for(let G=0;G<x.length;G++){const P=this._getPointAtLength(E);if(!P)return;let R=this._getTextSize(x[G]).width+C;if(x[G]===" "&&T==="justify"){const Q=this.text().split(" ").length-1;R+=(this.pathLength-_)/Q}const D=this._getPointAtLength(E+R);if(!D)return;const z=m.Path.getLineLength(P.x,P.y,D.x,D.y);let L=0;if(O)try{L=O(x[G-1],x[G])*this.fontSize()}catch{L=0}P.x+=L,D.x+=L,this.textWidth+=L;const F=m.Path.getPointOnLine(L+z/2,P.x,P.y,D.x,D.y),K=Math.atan2(D.y-P.y,D.x-P.x);this.glyphInfo.push({transposeX:F.x,transposeY:F.y,text:x[G],rotation:K,p0:P,p1:D}),E+=R}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const v=[];this.glyphInfo.forEach(function(E){v.push(E.p0.x),v.push(E.p0.y),v.push(E.p1.x),v.push(E.p1.y)});let g=v[0]||0,C=v[0]||0,T=v[1]||0,O=v[1]||0,_,o;for(let E=0;E<v.length/2;E++)_=v[E*2],o=v[E*2+1],g=Math.min(g,_),C=Math.max(C,_),T=Math.min(T,o),O=Math.max(O,o);const x=this.fontSize();return{x:g-x/2,y:T-x/2,width:C-g+x,height:O-T+x}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Yi.TextPath=A,A.prototype._fillFunc=S,A.prototype._strokeFunc=y,A.prototype._fillFuncHit=S,A.prototype._strokeFuncHit=y,A.prototype.className="TextPath",A.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(A),r.Factory.addGetterSetter(A,"data"),r.Factory.addGetterSetter(A,"fontFamily","Arial"),r.Factory.addGetterSetter(A,"fontSize",12,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(A,"fontStyle",f),r.Factory.addGetterSetter(A,"align","left"),r.Factory.addGetterSetter(A,"letterSpacing",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(A,"textBaseline","middle"),r.Factory.addGetterSetter(A,"fontVariant",f),r.Factory.addGetterSetter(A,"text",d),r.Factory.addGetterSetter(A,"textDecoration",""),r.Factory.addGetterSetter(A,"kerningFunc",void 0),Yi}var Ki={},jd;function Lp(){if(jd)return Ki;jd=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Transformer=void 0;const n=Zt(),r=Tt(),p=It(),m=fe(),u=Q0(),s=Zo(),c=At(),d=Nt(),f=At(),S="tr-konva",y=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(R=>R+`.${S}`).join(" "),A="nodesRect",b=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g="ontouchstart"in c.Konva._global;function C(R,D,z){if(R==="rotater")return z;D+=n.Util.degToRad(v[R]||0);const L=(n.Util.radToDeg(D)%360+360)%360;return n.Util._inRange(L,315+22.5,360)||n.Util._inRange(L,0,22.5)?"ns-resize":n.Util._inRange(L,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(L,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(L,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(L,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(L,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(L,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(L,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+L),"pointer")}const T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function O(R){return{x:R.x+R.width/2*Math.cos(R.rotation)+R.height/2*Math.sin(-R.rotation),y:R.y+R.height/2*Math.cos(R.rotation)+R.width/2*Math.sin(R.rotation)}}function _(R,D,z){const L=z.x+(R.x-z.x)*Math.cos(D)-(R.y-z.y)*Math.sin(D),F=z.y+(R.x-z.x)*Math.sin(D)+(R.y-z.y)*Math.cos(D);return{...R,rotation:R.rotation+D,x:L,y:F}}function o(R,D){const z=O(R);return _(R,D,z)}function x(R,D,z){let L=D;for(let F=0;F<R.length;F++){const K=c.Konva.getAngle(R[F]),Q=Math.abs(K-D)%(Math.PI*2);Math.min(Q,Math.PI*2-Q)<z&&(L=K)}return L}let E=0;class G extends s.Group{constructor(D){super(D),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(y,this.update),this.getNode()&&this.update()}attachTo(D){return this.setNode(D),this}setNode(D){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([D])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return S+this._id}setNodes(D=[]){this._nodes&&this._nodes.length&&this.detach();const z=D.filter(F=>F.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=D=z,D.length===1&&this.useSingleNodeRotation()?this.rotation(D[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(F=>{const K=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(F._attrsAffectingSize.length){const Q=F._attrsAffectingSize.map(j=>j+"Change."+this._getEventNamespace()).join(" ");F.on(Q,K)}F.on(b.map(Q=>Q+`.${this._getEventNamespace()}`).join(" "),K),F.on(`absoluteTransformChange.${this._getEventNamespace()}`,K),this._proxyDrag(F)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(D){let z;D.on(`dragstart.${this._getEventNamespace()}`,L=>{z=D.getAbsolutePosition(),!this.isDragging()&&D!==this.findOne(".back")&&this.startDrag(L,!1)}),D.on(`dragmove.${this._getEventNamespace()}`,L=>{if(!z)return;const F=D.getAbsolutePosition(),K=F.x-z.x,Q=F.y-z.y;this.nodes().forEach(j=>{if(j===D||j.isDragging())return;const it=j.getAbsolutePosition();j.setAbsolutePosition({x:it.x+K,y:it.y+Q}),j.startDrag(L)}),z=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(D=>{D.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(A),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(A,this.__getNodeRect)}__getNodeShape(D,z=this.rotation(),L){const F=D.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),K=D.getAbsoluteScale(L),Q=D.getAbsolutePosition(L),j=F.x*K.x-D.offsetX()*K.x,it=F.y*K.y-D.offsetY()*K.y,N=(c.Konva.getAngle(D.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),M={x:Q.x+j*Math.cos(N)+it*Math.sin(-N),y:Q.y+it*Math.cos(N)+j*Math.sin(N),width:F.width*K.x,height:F.height*K.y,rotation:N};return _(M,-c.Konva.getAngle(z),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const z=[];this.nodes().map(N=>{const M=N.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),w=[{x:M.x,y:M.y},{x:M.x+M.width,y:M.y},{x:M.x+M.width,y:M.y+M.height},{x:M.x,y:M.y+M.height}],B=N.getAbsoluteTransform();w.forEach(function(V){const $=B.point(V);z.push($)})});const L=new n.Transform;L.rotate(-c.Konva.getAngle(this.rotation()));let F=1/0,K=1/0,Q=-1/0,j=-1/0;z.forEach(function(N){const M=L.point(N);F===void 0&&(F=Q=M.x,K=j=M.y),F=Math.min(F,M.x),K=Math.min(K,M.y),Q=Math.max(Q,M.x),j=Math.max(j,M.y)}),L.invert();const it=L.point({x:F,y:K});return{x:it.x,y:it.y,width:Q-F,height:j-K,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(D=>{this._createAnchor(D)}),this._createAnchor("rotater")}_createAnchor(D){const z=new u.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:D+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),L=this;z.on("mousedown touchstart",function(F){L._handleMouseDown(F)}),z.on("dragstart",F=>{z.stopDrag(),F.cancelBubble=!0}),z.on("dragend",F=>{F.cancelBubble=!0}),z.on("mouseenter",()=>{const F=c.Konva.getAngle(this.rotation()),K=this.rotateAnchorCursor(),Q=C(D,F,K);z.getStage().content&&(z.getStage().content.style.cursor=Q),this._cursorChange=!0}),z.on("mouseout",()=>{z.getStage().content&&(z.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(z)}_createBack(){const D=new m.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(z,L){const F=L.getParent(),K=F.padding();z.beginPath(),z.rect(-K,-K,L.width()+K*2,L.height()+K*2),z.moveTo(L.width()/2,-K),F.rotateEnabled()&&F.rotateLineVisible()&&z.lineTo(L.width()/2,-F.rotateAnchorOffset()*n.Util._sign(L.height())-K),z.fillStrokeShape(L)},hitFunc:(z,L)=>{if(!this.shouldOverdrawWholeArea())return;const F=this.padding();z.beginPath(),z.rect(-F,-F,L.width()+F*2,L.height()+F*2),z.fillStrokeShape(L)}});this.add(D),this._proxyDrag(D),D.on("dragstart",z=>{z.cancelBubble=!0}),D.on("dragmove",z=>{z.cancelBubble=!0}),D.on("dragend",z=>{z.cancelBubble=!0}),this.on("dragmove",z=>{this.update()})}_handleMouseDown(D){if(this._transforming)return;this._movingAnchorName=D.target.name().split(" ")[0];const z=this._getNodeRect(),L=z.width,F=z.height,K=Math.sqrt(Math.pow(L,2)+Math.pow(F,2));this.sin=Math.abs(F/K),this.cos=Math.abs(L/K),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Q=D.target.getAbsolutePosition(),j=D.target.getStage().getPointerPosition();this._anchorDragOffset={x:j.x-Q.x,y:j.y-Q.y},E++,this._fire("transformstart",{evt:D.evt,target:this.getNode()}),this._nodes.forEach(it=>{it._fire("transformstart",{evt:D.evt,target:it})})}_handleMouseMove(D){let z,L,F;const K=this.findOne("."+this._movingAnchorName),Q=K.getStage();Q.setPointersPositions(D);const j=Q.getPointerPosition();let it={x:j.x-this._anchorDragOffset.x,y:j.y-this._anchorDragOffset.y};const N=K.getAbsolutePosition();this.anchorDragBoundFunc()&&(it=this.anchorDragBoundFunc()(N,it,D)),K.setAbsolutePosition(it);const M=K.getAbsolutePosition();if(N.x===M.x&&N.y===M.y)return;if(this._movingAnchorName==="rotater"){const I=this._getNodeRect();z=K.x()-I.width/2,L=-K.y()+I.height/2;let H=Math.atan2(-L,z)+Math.PI/2;I.height<0&&(H-=Math.PI);const st=c.Konva.getAngle(this.rotation())+H,ut=c.Konva.getAngle(this.rotationSnapTolerance()),yt=x(this.rotationSnaps(),st,ut)-I.rotation,_t=o(I,yt);this._fitNodesInto(_t,D);return}const w=this.shiftBehavior();let B;w==="inverted"?B=this.keepRatio()&&!D.shiftKey:w==="none"?B=this.keepRatio():B=this.keepRatio()||D.shiftKey;let V=this.centeredScaling()||D.altKey;if(this._movingAnchorName==="top-left"){if(B){const I=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};F=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(I.y-K.y(),2));const H=this.findOne(".top-left").x()>I.x?-1:1,Z=this.findOne(".top-left").y()>I.y?-1:1;z=F*this.cos*H,L=F*this.sin*Z,this.findOne(".top-left").x(I.x-z),this.findOne(".top-left").y(I.y-L)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(K.y());else if(this._movingAnchorName==="top-right"){if(B){const I=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};F=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(I.y-K.y(),2));const H=this.findOne(".top-right").x()<I.x?-1:1,Z=this.findOne(".top-right").y()>I.y?-1:1;z=F*this.cos*H,L=F*this.sin*Z,this.findOne(".top-right").x(I.x+z),this.findOne(".top-right").y(I.y-L)}var $=K.position();this.findOne(".top-left").y($.y),this.findOne(".bottom-right").x($.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(K.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(K.x());else if(this._movingAnchorName==="bottom-left"){if(B){const I=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};F=Math.sqrt(Math.pow(I.x-K.x(),2)+Math.pow(K.y()-I.y,2));const H=I.x<K.x()?-1:1,Z=K.y()<I.y?-1:1;z=F*this.cos*H,L=F*this.sin*Z,K.x(I.x-z),K.y(I.y+L)}$=K.position(),this.findOne(".top-left").x($.x),this.findOne(".bottom-right").y($.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(K.y());else if(this._movingAnchorName==="bottom-right"){if(B){const I=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};F=Math.sqrt(Math.pow(K.x()-I.x,2)+Math.pow(K.y()-I.y,2));const H=this.findOne(".bottom-right").x()<I.x?-1:1,Z=this.findOne(".bottom-right").y()<I.y?-1:1;z=F*this.cos*H,L=F*this.sin*Z,this.findOne(".bottom-right").x(I.x+z),this.findOne(".bottom-right").y(I.y+L)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(V=this.centeredScaling()||D.altKey,V){const I=this.findOne(".top-left"),H=this.findOne(".bottom-right"),Z=I.x(),st=I.y(),ut=this.getWidth()-H.x(),dt=this.getHeight()-H.y();H.move({x:-Z,y:-st}),I.move({x:ut,y:dt})}const Y=this.findOne(".top-left").getAbsolutePosition();z=Y.x,L=Y.y;const at=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ot=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:z,y:L,width:at,height:ot,rotation:c.Konva.getAngle(this.rotation())},D)}_handleMouseUp(D){this._removeEvents(D)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(D){var z;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const L=this.getNode();E--,this._fire("transformend",{evt:D,target:L}),(z=this.getLayer())===null||z===void 0||z.batchDraw(),L&&this._nodes.forEach(F=>{var K;F._fire("transformend",{evt:D,target:F}),(K=F.getLayer())===null||K===void 0||K.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(D,z){const L=this._getNodeRect(),F=1;if(n.Util._inRange(D.width,-this.padding()*2-F,F)){this.update();return}if(n.Util._inRange(D.height,-this.padding()*2-F,F)){this.update();return}const K=new n.Transform;if(K.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&D.width<0&&this._movingAnchorName.indexOf("left")>=0){const B=K.point({x:-this.padding()*2,y:0});D.x+=B.x,D.y+=B.y,D.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y}else if(this._movingAnchorName&&D.width<0&&this._movingAnchorName.indexOf("right")>=0){const B=K.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,D.width+=this.padding()*2}if(this._movingAnchorName&&D.height<0&&this._movingAnchorName.indexOf("top")>=0){const B=K.point({x:0,y:-this.padding()*2});D.x+=B.x,D.y+=B.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,D.height+=this.padding()*2}else if(this._movingAnchorName&&D.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const B=K.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=B.x,this._anchorDragOffset.y-=B.y,D.height+=this.padding()*2}if(this.boundBoxFunc()){const B=this.boundBoxFunc()(L,D);B?D=B:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Q=1e7,j=new n.Transform;j.translate(L.x,L.y),j.rotate(L.rotation),j.scale(L.width/Q,L.height/Q);const it=new n.Transform,N=D.width/Q,M=D.height/Q;this.flipEnabled()===!1?(it.translate(D.x,D.y),it.rotate(D.rotation),it.translate(D.width<0?D.width:0,D.height<0?D.height:0),it.scale(Math.abs(N),Math.abs(M))):(it.translate(D.x,D.y),it.rotate(D.rotation),it.scale(N,M));const w=it.multiply(j.invert());this._nodes.forEach(B=>{var V;const $=B.getParent().getAbsoluteTransform(),Y=B.getTransform().copy();Y.translate(B.offsetX(),B.offsetY());const at=new n.Transform;at.multiply($.copy().invert()).multiply(w).multiply($).multiply(Y);const ot=at.decompose();B.setAttrs(ot),(V=B.getLayer())===null||V===void 0||V.batchDraw()}),this.rotation(n.Util._getRotation(D.rotation)),this._nodes.forEach(B=>{this._fire("transform",{evt:z,target:B}),B._fire("transform",{evt:z,target:B})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(D,z){this.findOne(D).setAttrs(z)}update(){var D;const z=this._getNodeRect();this.rotation(n.Util._getRotation(z.rotation));const L=z.width,F=z.height,K=this.enabledAnchors(),Q=this.resizeEnabled(),j=this.padding(),it=this.anchorSize(),N=this.find("._anchor");N.forEach(w=>{w.setAttrs({width:it,height:it,offsetX:it/2,offsetY:it/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:it/2+j,offsetY:it/2+j,visible:Q&&K.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:L/2,y:0,offsetY:it/2+j,visible:Q&&K.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:L,y:0,offsetX:it/2-j,offsetY:it/2+j,visible:Q&&K.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:F/2,offsetX:it/2+j,visible:Q&&K.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:L,y:F/2,offsetX:it/2-j,visible:Q&&K.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:F,offsetX:it/2+j,offsetY:it/2-j,visible:Q&&K.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:L/2,y:F,offsetY:it/2-j,visible:Q&&K.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:L,y:F,offsetX:it/2-j,offsetY:it/2-j,visible:Q&&K.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:L/2,y:-this.rotateAnchorOffset()*n.Util._sign(F)-j,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:L,height:F,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const M=this.anchorStyleFunc();M&&N.forEach(w=>{M(w)}),(D=this.getLayer())===null||D===void 0||D.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const D=this.findOne("."+this._movingAnchorName);D&&D.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return p.Node.prototype.toObject.call(this)}clone(D){return p.Node.prototype.clone.call(this,D)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Ki.Transformer=G,G.isTransforming=()=>E>0;function P(R){return R instanceof Array||n.Util.warn("enabledAnchors value should be an array"),R instanceof Array&&R.forEach(function(D){T.indexOf(D)===-1&&n.Util.warn("Unknown anchor name: "+D+". Available names are: "+T.join(", "))}),R||[]}return G.prototype.className="Transformer",(0,f._registerNode)(G),r.Factory.addGetterSetter(G,"enabledAnchors",T,P),r.Factory.addGetterSetter(G,"flipEnabled",!0,(0,d.getBooleanValidator)()),r.Factory.addGetterSetter(G,"resizeEnabled",!0),r.Factory.addGetterSetter(G,"anchorSize",10,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"rotateEnabled",!0),r.Factory.addGetterSetter(G,"rotateLineVisible",!0),r.Factory.addGetterSetter(G,"rotationSnaps",[]),r.Factory.addGetterSetter(G,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"rotateAnchorCursor","crosshair"),r.Factory.addGetterSetter(G,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderEnabled",!0),r.Factory.addGetterSetter(G,"anchorStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(G,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"anchorFill","white"),r.Factory.addGetterSetter(G,"anchorCornerRadius",0,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(G,"borderStrokeWidth",1,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"borderDash"),r.Factory.addGetterSetter(G,"keepRatio",!0),r.Factory.addGetterSetter(G,"shiftBehavior","default"),r.Factory.addGetterSetter(G,"centeredScaling",!1),r.Factory.addGetterSetter(G,"ignoreStroke",!1),r.Factory.addGetterSetter(G,"padding",0,(0,d.getNumberValidator)()),r.Factory.addGetterSetter(G,"nodes"),r.Factory.addGetterSetter(G,"node"),r.Factory.addGetterSetter(G,"boundBoxFunc"),r.Factory.addGetterSetter(G,"anchorDragBoundFunc"),r.Factory.addGetterSetter(G,"anchorStyleFunc"),r.Factory.addGetterSetter(G,"shouldOverdrawWholeArea",!1),r.Factory.addGetterSetter(G,"useSingleNodeRotation",!0),r.Factory.backCompat(G,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ki}var Xi={},Yd;function Pp(){if(Yd)return Xi;Yd=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Wedge=void 0;const n=Tt(),r=fe(),p=At(),m=Nt(),u=At();let s=class extends r.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,p.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return Xi.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,u._registerNode)(s),n.Factory.addGetterSetter(s,"radius",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"angle",0,(0,m.getNumberValidator)()),n.Factory.addGetterSetter(s,"clockwise",!1),n.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Xi}var Qi={},Kd;function Vp(){if(Kd)return Qi;Kd=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Blur=void 0;const n=Tt(),r=It(),p=Nt();function m(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(f,S){const y=f.data,A=f.width,b=f.height;let v,g,C,T,O,_,o,x,E,G,P,R,D,z,L,F,K,Q,j,it;const N=S+S+1,M=A-1,w=b-1,B=S+1,V=B*(B+1)/2,$=new m,Y=u[S],at=s[S];let ot=null,I=$,H=null,Z=null;for(let st=1;st<N;st++)I=I.next=new m,st===B&&(ot=I);I.next=$,C=g=0;for(let st=0;st<b;st++){R=D=z=L=T=O=_=o=0,x=B*(F=y[g]),E=B*(K=y[g+1]),G=B*(Q=y[g+2]),P=B*(j=y[g+3]),T+=V*F,O+=V*K,_+=V*Q,o+=V*j,I=$;for(let ut=0;ut<B;ut++)I.r=F,I.g=K,I.b=Q,I.a=j,I=I.next;for(let ut=1;ut<B;ut++)v=g+((M<ut?M:ut)<<2),T+=(I.r=F=y[v])*(it=B-ut),O+=(I.g=K=y[v+1])*it,_+=(I.b=Q=y[v+2])*it,o+=(I.a=j=y[v+3])*it,R+=F,D+=K,z+=Q,L+=j,I=I.next;H=$,Z=ot;for(let ut=0;ut<A;ut++)y[g+3]=j=o*Y>>at,j!==0?(j=255/j,y[g]=(T*Y>>at)*j,y[g+1]=(O*Y>>at)*j,y[g+2]=(_*Y>>at)*j):y[g]=y[g+1]=y[g+2]=0,T-=x,O-=E,_-=G,o-=P,x-=H.r,E-=H.g,G-=H.b,P-=H.a,v=C+((v=ut+S+1)<M?v:M)<<2,R+=H.r=y[v],D+=H.g=y[v+1],z+=H.b=y[v+2],L+=H.a=y[v+3],T+=R,O+=D,_+=z,o+=L,H=H.next,x+=F=Z.r,E+=K=Z.g,G+=Q=Z.b,P+=j=Z.a,R-=F,D-=K,z-=Q,L-=j,Z=Z.next,g+=4;C+=A}for(let st=0;st<A;st++){D=z=L=R=O=_=o=T=0,g=st<<2,x=B*(F=y[g]),E=B*(K=y[g+1]),G=B*(Q=y[g+2]),P=B*(j=y[g+3]),T+=V*F,O+=V*K,_+=V*Q,o+=V*j,I=$;for(let dt=0;dt<B;dt++)I.r=F,I.g=K,I.b=Q,I.a=j,I=I.next;let ut=A;for(let dt=1;dt<=S;dt++)g=ut+st<<2,T+=(I.r=F=y[g])*(it=B-dt),O+=(I.g=K=y[g+1])*it,_+=(I.b=Q=y[g+2])*it,o+=(I.a=j=y[g+3])*it,R+=F,D+=K,z+=Q,L+=j,I=I.next,dt<w&&(ut+=A);g=st,H=$,Z=ot;for(let dt=0;dt<b;dt++)v=g<<2,y[v+3]=j=o*Y>>at,j>0?(j=255/j,y[v]=(T*Y>>at)*j,y[v+1]=(O*Y>>at)*j,y[v+2]=(_*Y>>at)*j):y[v]=y[v+1]=y[v+2]=0,T-=x,O-=E,_-=G,o-=P,x-=H.r,E-=H.g,G-=H.b,P-=H.a,v=st+((v=dt+B)<w?v:w)*A<<2,T+=R+=H.r=y[v],O+=D+=H.g=y[v+1],_+=z+=H.b=y[v+2],o+=L+=H.a=y[v+3],H=H.next,x+=F=Z.r,E+=K=Z.g,G+=Q=Z.b,P+=j=Z.a,R-=F,D-=K,z-=Q,L-=j,Z=Z.next,g+=A}}const d=function(S){const y=Math.round(this.blurRadius());y>0&&c(S,y)};return Qi.Blur=d,n.Factory.addGetterSetter(r.Node,"blurRadius",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),Qi}var ki={},Xd;function qp(){if(Xd)return ki;Xd=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.Brighten=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=this.brightness()*255,c=u.data,d=c.length;for(let f=0;f<d;f+=4)c[f]+=s,c[f+1]+=s,c[f+2]+=s};return ki.Brighten=m,n.Factory.addGetterSetter(r.Node,"brightness",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),ki}var Zi={},Qd;function Fp(){if(Qd)return Zi;Qd=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Contrast=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=Math.pow((this.contrast()+100)/100,2),c=u.data,d=c.length;let f=150,S=150,y=150;for(let A=0;A<d;A+=4)f=c[A],S=c[A+1],y=c[A+2],f/=255,f-=.5,f*=s,f+=.5,f*=255,S/=255,S-=.5,S*=s,S+=.5,S*=255,y/=255,y-=.5,y*=s,y+=.5,y*=255,f=f<0?0:f>255?255:f,S=S<0?0:S>255?255:S,y=y<0?0:y>255?255:y,c[A]=f,c[A+1]=S,c[A+2]=y};return Zi.Contrast=m,n.Factory.addGetterSetter(r.Node,"contrast",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),Zi}var Ji={},kd;function jp(){if(kd)return Ji;kd=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Emboss=void 0;const n=Tt(),r=It(),p=Zt(),m=Nt(),u=function(s){const c=this.embossStrength()*10,d=this.embossWhiteLevel()*255,f=this.embossDirection(),S=this.embossBlend(),y=s.data,A=s.width,b=s.height,v=A*4;let g=0,C=0,T=b;switch(f){case"top-left":g=-1,C=-1;break;case"top":g=-1,C=0;break;case"top-right":g=-1,C=1;break;case"right":g=0,C=1;break;case"bottom-right":g=1,C=1;break;case"bottom":g=1,C=0;break;case"bottom-left":g=1,C=-1;break;case"left":g=0,C=-1;break;default:p.Util.error("Unknown emboss direction: "+f)}do{const O=(T-1)*v;let _=g;T+_<1&&(_=0),T+_>b&&(_=0);const o=(T-1+_)*A*4;let x=A;do{const E=O+(x-1)*4;let G=C;x+G<1&&(G=0),x+G>A&&(G=0);const P=o+(x-1+G)*4,R=y[E]-y[P],D=y[E+1]-y[P+1],z=y[E+2]-y[P+2];let L=R;const F=L>0?L:-L,K=D>0?D:-D,Q=z>0?z:-z;if(K>F&&(L=D),Q>F&&(L=z),L*=c,S){const j=y[E]+L,it=y[E+1]+L,N=y[E+2]+L;y[E]=j>255?255:j<0?0:j,y[E+1]=it>255?255:it<0?0:it,y[E+2]=N>255?255:N<0?0:N}else{let j=d-L;j<0?j=0:j>255&&(j=255),y[E]=y[E+1]=y[E+2]=j}}while(--x)}while(--T)};return Ji.Emboss=u,n.Factory.addGetterSetter(r.Node,"embossStrength",.5,(0,m.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"embossWhiteLevel",.5,(0,m.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),Ji}var Wi={},Zd;function Yp(){if(Zd)return Wi;Zd=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Enhance=void 0;const n=Tt(),r=It(),p=Nt();function m(s,c,d,f,S){const y=d-c,A=S-f;if(y===0)return f+A/2;if(A===0)return f;let b=(s-c)/y;return b=A*b+f,b}const u=function(s){const c=s.data,d=c.length;let f=c[0],S=f,y,A=c[1],b=A,v,g=c[2],C=g,T;const O=this.enhance();if(O===0)return;for(let R=0;R<d;R+=4)y=c[R+0],y<f?f=y:y>S&&(S=y),v=c[R+1],v<A?A=v:v>b&&(b=v),T=c[R+2],T<g?g=T:T>C&&(C=T);S===f&&(S=255,f=0),b===A&&(b=255,A=0),C===g&&(C=255,g=0);let _,o,x,E,G,P;if(O>0)_=S+O*(255-S),o=f-O*(f-0),x=b+O*(255-b),E=A-O*(A-0),G=C+O*(255-C),P=g-O*(g-0);else{const R=(S+f)*.5;_=S+O*(S-R),o=f+O*(f-R);const D=(b+A)*.5;x=b+O*(b-D),E=A+O*(A-D);const z=(C+g)*.5;G=C+O*(C-z),P=g+O*(g-z)}for(let R=0;R<d;R+=4)c[R+0]=m(c[R+0],f,S,o,_),c[R+1]=m(c[R+1],A,b,E,x),c[R+2]=m(c[R+2],g,C,P,G)};return Wi.Enhance=u,n.Factory.addGetterSetter(r.Node,"enhance",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),Wi}var Ii={},Jd;function Kp(){if(Jd)return Ii;Jd=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.Grayscale=void 0;const n=function(r){const p=r.data,m=p.length;for(let u=0;u<m;u+=4){const s=.34*p[u]+.5*p[u+1]+.16*p[u+2];p[u]=s,p[u+1]=s,p[u+2]=s}};return Ii.Grayscale=n,Ii}var $i={},Wd;function Xp(){if(Wd)return $i;Wd=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.HSL=void 0;const n=Tt(),r=It(),p=Nt();n.Factory.addGetterSetter(r.Node,"hue",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"saturation",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"luminance",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter);const m=function(u){const s=u.data,c=s.length,d=1,f=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,y=this.luminance()*127,A=d*f*Math.cos(S*Math.PI/180),b=d*f*Math.sin(S*Math.PI/180),v=.299*d+.701*A+.167*b,g=.587*d-.587*A+.33*b,C=.114*d-.114*A-.497*b,T=.299*d-.299*A-.328*b,O=.587*d+.413*A+.035*b,_=.114*d-.114*A+.293*b,o=.299*d-.3*A+1.25*b,x=.587*d-.586*A-1.05*b,E=.114*d+.886*A-.2*b;let G,P,R,D;for(let z=0;z<c;z+=4)G=s[z+0],P=s[z+1],R=s[z+2],D=s[z+3],s[z+0]=v*G+g*P+C*R+y,s[z+1]=T*G+O*P+_*R+y,s[z+2]=o*G+x*P+E*R+y,s[z+3]=D};return $i.HSL=m,$i}var tr={},Id;function Qp(){if(Id)return tr;Id=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.HSV=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=u.data,c=s.length,d=Math.pow(2,this.value()),f=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,y=d*f*Math.cos(S*Math.PI/180),A=d*f*Math.sin(S*Math.PI/180),b=.299*d+.701*y+.167*A,v=.587*d-.587*y+.33*A,g=.114*d-.114*y-.497*A,C=.299*d-.299*y-.328*A,T=.587*d+.413*y+.035*A,O=.114*d-.114*y+.293*A,_=.299*d-.3*y+1.25*A,o=.587*d-.586*y-1.05*A,x=.114*d+.886*y-.2*A;for(let E=0;E<c;E+=4){const G=s[E+0],P=s[E+1],R=s[E+2],D=s[E+3];s[E+0]=b*G+v*P+g*R,s[E+1]=C*G+T*P+O*R,s[E+2]=_*G+o*P+x*R,s[E+3]=D}};return tr.HSV=m,n.Factory.addGetterSetter(r.Node,"hue",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"saturation",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"value",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),tr}var er={},$d;function kp(){if($d)return er;$d=1,Object.defineProperty(er,"__esModule",{value:!0}),er.Invert=void 0;const n=function(r){const p=r.data,m=p.length;for(let u=0;u<m;u+=4)p[u]=255-p[u],p[u+1]=255-p[u+1],p[u+2]=255-p[u+2]};return er.Invert=n,er}var ar={},t0;function Zp(){if(t0)return ar;t0=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.Kaleidoscope=void 0;const n=Tt(),r=It(),p=Zt(),m=Nt(),u=function(d,f,S){const y=d.data,A=f.data,b=d.width,v=d.height,g=S.polarCenterX||b/2,C=S.polarCenterY||v/2;let T=Math.sqrt(g*g+C*C),O=b-g,_=v-C;const o=Math.sqrt(O*O+_*_);T=o>T?o:T;const x=v,E=b,G=360/E*Math.PI/180;for(let P=0;P<E;P+=1){const R=Math.sin(P*G),D=Math.cos(P*G);for(let z=0;z<x;z+=1){O=Math.floor(g+T*z/x*D),_=Math.floor(C+T*z/x*R);let L=(_*b+O)*4;const F=y[L+0],K=y[L+1],Q=y[L+2],j=y[L+3];L=(P+z*b)*4,A[L+0]=F,A[L+1]=K,A[L+2]=Q,A[L+3]=j}}},s=function(d,f,S){const y=d.data,A=f.data,b=d.width,v=d.height,g=S.polarCenterX||b/2,C=S.polarCenterY||v/2;let T=Math.sqrt(g*g+C*C),O=b-g,_=v-C;const o=Math.sqrt(O*O+_*_);T=o>T?o:T;const x=v,E=b,G=0;let P,R;for(O=0;O<b;O+=1)for(_=0;_<v;_+=1){const D=O-g,z=_-C,L=Math.sqrt(D*D+z*z)*x/T;let F=(Math.atan2(z,D)*180/Math.PI+360+G)%360;F=F*E/360,P=Math.floor(F),R=Math.floor(L);let K=(R*b+P)*4;const Q=y[K+0],j=y[K+1],it=y[K+2],N=y[K+3];K=(_*b+O)*4,A[K+0]=Q,A[K+1]=j,A[K+2]=it,A[K+3]=N}},c=function(d){const f=d.width,S=d.height;let y,A,b,v,g,C,T,O,_,o,x=Math.round(this.kaleidoscopePower());const E=Math.round(this.kaleidoscopeAngle()),G=Math.floor(f*(E%360)/360);if(x<1)return;const P=p.Util.createCanvasElement();P.width=f,P.height=S;const R=P.getContext("2d").getImageData(0,0,f,S);p.Util.releaseCanvas(P),u(d,R,{polarCenterX:f/2,polarCenterY:S/2});let D=f/Math.pow(2,x);for(;D<=8;)D=D*2,x-=1;D=Math.ceil(D);let z=D,L=0,F=z,K=1;for(G+D>f&&(L=z,F=0,K=-1),A=0;A<S;A+=1)for(y=L;y!==F;y+=K)b=Math.round(y+G)%f,_=(f*A+b)*4,g=R.data[_+0],C=R.data[_+1],T=R.data[_+2],O=R.data[_+3],o=(f*A+y)*4,R.data[o+0]=g,R.data[o+1]=C,R.data[o+2]=T,R.data[o+3]=O;for(A=0;A<S;A+=1)for(z=Math.floor(D),v=0;v<x;v+=1){for(y=0;y<z+1;y+=1)_=(f*A+y)*4,g=R.data[_+0],C=R.data[_+1],T=R.data[_+2],O=R.data[_+3],o=(f*A+z*2-y-1)*4,R.data[o+0]=g,R.data[o+1]=C,R.data[o+2]=T,R.data[o+3]=O;z*=2}s(R,d,{})};return ar.Kaleidoscope=c,n.Factory.addGetterSetter(r.Node,"kaleidoscopePower",2,(0,m.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"kaleidoscopeAngle",0,(0,m.getNumberValidator)(),n.Factory.afterSetFilter),ar}var nr={},e0;function Jp(){if(e0)return nr;e0=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.Mask=void 0;const n=Tt(),r=It(),p=Nt();function m(b,v,g){let C=(g*b.width+v)*4;const T=[];return T.push(b.data[C++],b.data[C++],b.data[C++],b.data[C++]),T}function u(b,v){return Math.sqrt(Math.pow(b[0]-v[0],2)+Math.pow(b[1]-v[1],2)+Math.pow(b[2]-v[2],2))}function s(b){const v=[0,0,0];for(let g=0;g<b.length;g++)v[0]+=b[g][0],v[1]+=b[g][1],v[2]+=b[g][2];return v[0]/=b.length,v[1]/=b.length,v[2]/=b.length,v}function c(b,v){const g=m(b,0,0),C=m(b,b.width-1,0),T=m(b,0,b.height-1),O=m(b,b.width-1,b.height-1),_=v||10;if(u(g,C)<_&&u(C,O)<_&&u(O,T)<_&&u(T,g)<_){const o=s([C,g,O,T]),x=[];for(let E=0;E<b.width*b.height;E++){const G=u(o,[b.data[E*4],b.data[E*4+1],b.data[E*4+2]]);x[E]=G<_?0:255}return x}}function d(b,v){for(let g=0;g<b.width*b.height;g++)b.data[4*g+3]=v[g]}function f(b,v,g){const C=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(C.length)),O=Math.floor(T/2),_=[];for(let o=0;o<g;o++)for(let x=0;x<v;x++){const E=o*v+x;let G=0;for(let P=0;P<T;P++)for(let R=0;R<T;R++){const D=o+P-O,z=x+R-O;if(D>=0&&D<g&&z>=0&&z<v){const L=D*v+z,F=C[P*T+R];G+=b[L]*F}}_[E]=G===255*8?255:0}return _}function S(b,v,g){const C=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(C.length)),O=Math.floor(T/2),_=[];for(let o=0;o<g;o++)for(let x=0;x<v;x++){const E=o*v+x;let G=0;for(let P=0;P<T;P++)for(let R=0;R<T;R++){const D=o+P-O,z=x+R-O;if(D>=0&&D<g&&z>=0&&z<v){const L=D*v+z,F=C[P*T+R];G+=b[L]*F}}_[E]=G>=255*4?255:0}return _}function y(b,v,g){const C=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(C.length)),O=Math.floor(T/2),_=[];for(let o=0;o<g;o++)for(let x=0;x<v;x++){const E=o*v+x;let G=0;for(let P=0;P<T;P++)for(let R=0;R<T;R++){const D=o+P-O,z=x+R-O;if(D>=0&&D<g&&z>=0&&z<v){const L=D*v+z,F=C[P*T+R];G+=b[L]*F}}_[E]=G}return _}const A=function(b){const v=this.threshold();let g=c(b,v);return g&&(g=f(g,b.width,b.height),g=S(g,b.width,b.height),g=y(g,b.width,b.height),d(b,g)),b};return nr.Mask=A,n.Factory.addGetterSetter(r.Node,"threshold",0,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),nr}var ir={},a0;function Wp(){if(a0)return ir;a0=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.Noise=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=this.noise()*255,c=u.data,d=c.length,f=s/2;for(let S=0;S<d;S+=4)c[S+0]+=f-2*f*Math.random(),c[S+1]+=f-2*f*Math.random(),c[S+2]+=f-2*f*Math.random()};return ir.Noise=m,n.Factory.addGetterSetter(r.Node,"noise",.2,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),ir}var rr={},n0;function Ip(){if(n0)return rr;n0=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.Pixelate=void 0;const n=Tt(),r=Zt(),p=It(),m=Nt(),u=function(s){let c=Math.ceil(this.pixelSize()),d=s.width,f=s.height,S=Math.ceil(d/c),y=Math.ceil(f/c),A=s.data;if(c<=0){r.Util.error("pixelSize value can not be <= 0");return}for(let b=0;b<S;b+=1)for(let v=0;v<y;v+=1){let g=0,C=0,T=0,O=0;const _=b*c,o=_+c,x=v*c,E=x+c;let G=0;for(let P=_;P<o;P+=1)if(!(P>=d))for(let R=x;R<E;R+=1){if(R>=f)continue;const D=(d*R+P)*4;g+=A[D+0],C+=A[D+1],T+=A[D+2],O+=A[D+3],G+=1}g=g/G,C=C/G,T=T/G,O=O/G;for(let P=_;P<o;P+=1)if(!(P>=d))for(let R=x;R<E;R+=1){if(R>=f)continue;const D=(d*R+P)*4;A[D+0]=g,A[D+1]=C,A[D+2]=T,A[D+3]=O}}};return rr.Pixelate=u,n.Factory.addGetterSetter(p.Node,"pixelSize",8,(0,m.getNumberValidator)(),n.Factory.afterSetFilter),rr}var lr={},i0;function $p(){if(i0)return lr;i0=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.Posterize=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=Math.round(this.levels()*254)+1,c=u.data,d=c.length,f=255/s;for(let S=0;S<d;S+=1)c[S]=Math.floor(c[S]/f)*f};return lr.Posterize=m,n.Factory.addGetterSetter(r.Node,"levels",.5,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),lr}var sr={},r0;function tm(){if(r0)return sr;r0=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.RGB=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=u.data,c=s.length,d=this.red(),f=this.green(),S=this.blue();for(let y=0;y<c;y+=4){const A=(.34*s[y]+.5*s[y+1]+.16*s[y+2])/255;s[y]=A*d,s[y+1]=A*f,s[y+2]=A*S,s[y+3]=s[y+3]}};return sr.RGB=m,n.Factory.addGetterSetter(r.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),n.Factory.addGetterSetter(r.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),n.Factory.addGetterSetter(r.Node,"blue",0,p.RGBComponent,n.Factory.afterSetFilter),sr}var or={},l0;function em(){if(l0)return or;l0=1,Object.defineProperty(or,"__esModule",{value:!0}),or.RGBA=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=u.data,c=s.length,d=this.red(),f=this.green(),S=this.blue(),y=this.alpha();for(let A=0;A<c;A+=4){const b=1-y;s[A]=d*y+s[A]*b,s[A+1]=f*y+s[A+1]*b,s[A+2]=S*y+s[A+2]*b}};return or.RGBA=m,n.Factory.addGetterSetter(r.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),n.Factory.addGetterSetter(r.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),n.Factory.addGetterSetter(r.Node,"blue",0,p.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(r.Node,"alpha",1,function(u){return this._filterUpToDate=!1,u>1?1:u<0?0:u}),or}var ur={},s0;function am(){if(s0)return ur;s0=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.Sepia=void 0;const n=function(r){const p=r.data,m=p.length;for(let u=0;u<m;u+=4){const s=p[u+0],c=p[u+1],d=p[u+2];p[u+0]=Math.min(255,s*.393+c*.769+d*.189),p[u+1]=Math.min(255,s*.349+c*.686+d*.168),p[u+2]=Math.min(255,s*.272+c*.534+d*.131)}};return ur.Sepia=n,ur}var cr={},o0;function nm(){if(o0)return cr;o0=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.Solarize=void 0;const n=function(r){const p=r.data,m=r.width,u=r.height,s=m*4;let c=u;do{const d=(c-1)*s;let f=m;do{const S=d+(f-1)*4;let y=p[S],A=p[S+1],b=p[S+2];y>127&&(y=255-y),A>127&&(A=255-A),b>127&&(b=255-b),p[S]=y,p[S+1]=A,p[S+2]=b}while(--f)}while(--c)};return cr.Solarize=n,cr}var hr={},u0;function im(){if(u0)return hr;u0=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.Threshold=void 0;const n=Tt(),r=It(),p=Nt(),m=function(u){const s=this.threshold()*255,c=u.data,d=c.length;for(let f=0;f<d;f+=1)c[f]=c[f]<s?0:255};return hr.Threshold=m,n.Factory.addGetterSetter(r.Node,"threshold",.5,(0,p.getNumberValidator)(),n.Factory.afterSetFilter),hr}var c0;function rm(){if(c0)return xi;c0=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Konva=void 0;const n=Bo(),r=Tp(),p=Rp(),m=Mp(),u=Op(),s=Dp(),c=Gp(),d=X0(),f=Wo(),S=Q0(),y=Up(),A=zp(),b=Bp(),v=wp(),g=k0(),C=Hp(),T=Lp(),O=Pp(),_=Vp(),o=qp(),x=Fp(),E=jp(),G=Yp(),P=Kp(),R=Xp(),D=Qp(),z=kp(),L=Zp(),F=Jp(),K=Wp(),Q=Ip(),j=$p(),it=tm(),N=em(),M=am(),w=nm(),B=im();return xi.Konva=n.Konva.Util._assign(n.Konva,{Arc:r.Arc,Arrow:p.Arrow,Circle:m.Circle,Ellipse:u.Ellipse,Image:s.Image,Label:c.Label,Tag:c.Tag,Line:d.Line,Path:f.Path,Rect:S.Rect,RegularPolygon:y.RegularPolygon,Ring:A.Ring,Sprite:b.Sprite,Star:v.Star,Text:g.Text,TextPath:C.TextPath,Transformer:T.Transformer,Wedge:O.Wedge,Filters:{Blur:_.Blur,Brighten:o.Brighten,Contrast:x.Contrast,Emboss:E.Emboss,Enhance:G.Enhance,Grayscale:P.Grayscale,HSL:R.HSL,HSV:D.HSV,Invert:z.Invert,Kaleidoscope:L.Kaleidoscope,Mask:F.Mask,Noise:K.Noise,Pixelate:Q.Pixelate,Posterize:j.Posterize,RGB:it.RGB,RGBA:N.RGBA,Sepia:M.Sepia,Solarize:w.Solarize,Threshold:B.Threshold}}),xi}var lm=yl.exports,h0;function sm(){if(h0)return yl.exports;h0=1,Object.defineProperty(lm,"__esModule",{value:!0});const n=rm();return yl.exports=n.Konva,yl.exports}var om=sm();const um=wo(om);var cl={exports:{}},d0;function cm(){return d0||(d0=1,function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Konva=void 0;var p=Bo();Object.defineProperty(r,"Konva",{enumerable:!0,get:function(){return p.Konva}});const m=Bo();n.exports=m.Konva}(cl,cl.exports)),cl.exports}var hm=cm();const bl=wo(hm);var xo={exports:{}},To={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function dm(){return f0||(f0=1,function(n){n.exports=function(r){function p(t,e,a,i){return new Rf(t,e,a,i)}function m(){}function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function c(t){if(s(t)!==t)throw Error(u(188))}function d(t){var e=t.alternate;if(!e){if(e=s(t),e===null)throw Error(u(188));return e!==t?null:t}for(var a=t,i=e;;){var l=a.return;if(l===null)break;var h=l.alternate;if(h===null){if(i=l.return,i!==null){a=i;continue}break}if(l.child===h.child){for(h=l.child;h;){if(h===a)return c(l),t;if(h===i)return c(l),e;h=h.sibling}throw Error(u(188))}if(a.return!==i.return)a=l,i=h;else{for(var U=!1,q=l.child;q;){if(q===a){U=!0,a=l,i=h;break}if(q===i){U=!0,i=l,a=h;break}q=q.sibling}if(!U){for(q=h.child;q;){if(q===a){U=!0,a=h,i=l;break}if(q===i){U=!0,i=h,a=l;break}q=q.sibling}if(!U)throw Error(u(189))}}if(a.alternate!==i)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?t:e}function f(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=f(t),e!==null)return e;t=t.sibling}return null}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=S(t),e!==null))return e;t=t.sibling}return null}function y(t){return t===null||typeof t!="object"?null:(t=sh&&t[sh]||t["@@iterator"],typeof t=="function"?t:null)}function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zf?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sn:return"Fragment";case Us:return"Profiler";case rh:return"StrictMode";case Bs:return"Suspense";case ws:return"SuspenseList";case Ls:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _n:return"Portal";case wa:return(t.displayName||"Context")+".Provider";case lh:return(t._context.displayName||"Context")+".Consumer";case zs:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hs:return e=t.displayName||null,e!==null?e:A(t.type)||"Memo";case Ha:e=t._payload,t=t._init;try{return A(t(e))}catch{}}return null}function b(t){return{current:t}}function v(t){0>An||(t.current=js[An],js[An]=null,An--)}function g(t,e){An++,js[An]=t.current,t.current=e}function C(t){return t>>>=0,t===0?32:31-(W1(t)/I1|0)|0}function T(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function O(t,e,a){var i=t.pendingLanes;if(i===0)return 0;var l=0,h=t.suspendedLanes,U=t.pingedLanes;t=t.warmLanes;var q=i&134217727;return q!==0?(i=q&~h,i!==0?l=T(i):(U&=q,U!==0?l=T(U):a||(a=q&~t,a!==0&&(l=T(a))))):(q=i&~h,q!==0?l=T(q):U!==0?l=T(U):a||(a=i&~t,a!==0&&(l=T(a)))),l===0?0:e!==0&&e!==l&&(e&h)===0&&(h=l&-l,a=e&-e,h>=a||h===32&&(a&4194048)!==0)?e:l}function _(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function o(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x(){var t=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),t}function E(){var t=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),t}function G(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function P(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function R(t,e,a,i,l,h){var U=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var q=t.entanglements,J=t.expirationTimes,nt=t.hiddenUpdates;for(a=U&~a;0<a;){var lt=31-Fe(a),ct=1<<lt;q[lt]=0,J[lt]=-1;var ht=nt[lt];if(ht!==null)for(nt[lt]=null,lt=0;lt<ht.length;lt++){var bt=ht[lt];bt!==null&&(bt.lane&=-536870913)}a&=~ct}i!==0&&D(t,i,0),h!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=h&~(U&~e))}function D(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Fe(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|a&4194090}function z(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var i=31-Fe(a),l=1<<i;l&e|t[i]&e&&(t[i]|=e),a&=~l}}function L(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function F(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function K(t){if(typeof n2=="function"&&i2(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(fi,t)}catch{}}function Q(t){if(Xs===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Xs=e&&e[1]||"",Gh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+t+Gh}function j(t,e){if(!t||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(bt){var ht=bt}Reflect.construct(t,[],ct)}else{try{ct.call()}catch(bt){ht=bt}t.call(ct.prototype)}}else{try{throw Error()}catch(bt){ht=bt}(ct=t())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(bt){if(bt&&ht&&typeof bt.stack=="string")return[bt.stack,ht.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),U=h[0],q=h[1];if(U&&q){var J=U.split(`
`),nt=q.split(`
`);for(l=i=0;i<J.length&&!J[i].includes("DetermineComponentFrameRoot");)i++;for(;l<nt.length&&!nt[l].includes("DetermineComponentFrameRoot");)l++;if(i===J.length||l===nt.length)for(i=J.length-1,l=nt.length-1;1<=i&&0<=l&&J[i]!==nt[l];)l--;for(;1<=i&&0<=l;i--,l--)if(J[i]!==nt[l]){if(i!==1||l!==1)do if(i--,l--,0>l||J[i]!==nt[l]){var lt=`
`+J[i].replace(" at new "," at ");return t.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",t.displayName)),lt}while(1<=i&&0<=l);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Q(a):""}function it(t){switch(t.tag){case 26:case 27:case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return j(t.type,!1);case 11:return j(t.type.render,!1);case 1:return j(t.type,!0);case 31:return Q("Activity");default:return""}}function N(t){try{var e="";do e+=it(t),t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function M(t,e){if(typeof t=="object"&&t!==null){var a=Uh.get(t);return a!==void 0?a:(e={value:t,source:e,stack:N(e)},Uh.set(t,e),e)}return{value:t,source:e,stack:N(e)}}function w(t,e){xn[Tn++]=Xr,xn[Tn++]=Kr,Kr=t,Xr=e}function B(t,e,a){Ze[Je++]=_a,Ze[Je++]=Sa,Ze[Je++]=nn,nn=t;var i=_a;t=Sa;var l=32-Fe(i)-1;i&=~(1<<l),a+=1;var h=32-Fe(e)+l;if(30<h){var U=l-l%5;h=(i&(1<<U)-1).toString(32),i>>=U,l-=U,_a=1<<32-Fe(e)+l|a<<l|i,Sa=h+t}else _a=1<<h|a<<l|i,Sa=t}function V(t){t.return!==null&&(w(t,1),B(t,1,0))}function $(t){for(;t===Kr;)Kr=xn[--Tn],xn[Tn]=null,Xr=xn[--Tn],xn[Tn]=null;for(;t===nn;)nn=Ze[--Je],Ze[Je]=null,Sa=Ze[--Je],Ze[Je]=null,_a=Ze[--Je],Ze[Je]=null}function Y(t,e){g(Pa,e),g(gi,t),g(ye,null),t=Hf(e),v(ye),g(ye,t)}function at(){v(ye),v(gi),v(Pa)}function ot(t){t.memoizedState!==null&&g(Qr,t);var e=ye.current,a=Lf(e,t.type);e!==a&&(g(gi,t),g(ye,a))}function I(t){gi.current===t&&(v(ye),v(gi)),Qr.current===t&&(v(Qr),va?an._currentValue=bn:an._currentValue2=bn)}function H(t){var e=Error(u(418,""));throw _t(M(e,t)),ks}function Z(t,e){if(!ke)throw Error(u(175));B1(t.stateNode,t.type,t.memoizedProps,e,t)||H(t)}function st(t){for(xe=t.return;xe;)switch(xe.tag){case 5:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:xe=xe.return}}function ut(t){if(!ke||t!==xe)return!1;if(!Bt)return st(t),Bt=!0,!1;var e=t.tag;if(re?e!==3&&e!==27&&(e!==5||Sh(t.type)&&!qr(t.type,t.memoizedProps))&&le&&H(t):e!==3&&(e!==5||Sh(t.type)&&!qr(t.type,t.memoizedProps))&&le&&H(t),st(t),e===13){if(!ke)throw Error(u(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));le=L1(t)}else le=re&&e===27?N1(t.type,le):xe?_h(t.stateNode):null;return!0}function dt(){ke&&(le=xe=null,Bt=!1)}function yt(){var t=rn;return t!==null&&(Oe===null?Oe=t:Oe.push.apply(Oe,t),rn=null),t}function _t(t){rn===null?rn=[t]:rn.push(t)}function Ut(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function gt(t,e,a){va?(g(kr,e._currentValue),e._currentValue=a):(g(kr,e._currentValue2),e._currentValue2=a)}function Ft(t){var e=kr.current;va?t._currentValue=e:t._currentValue2=e,v(kr)}function zt(t,e,a){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===a)break;t=t.return}}function Yt(t,e,a,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var h=l.dependencies;if(h!==null){var U=l.child;h=h.firstContext;t:for(;h!==null;){var q=h;h=l;for(var J=0;J<e.length;J++)if(q.context===e[J]){h.lanes|=a,q=h.alternate,q!==null&&(q.lanes|=a),zt(h.return,a,t),i||(U=null);break t}h=q.next}}else if(l.tag===18){if(U=l.return,U===null)throw Error(u(341));U.lanes|=a,h=U.alternate,h!==null&&(h.lanes|=a),zt(U,a,t),U=null}else U=l.child;if(U!==null)U.return=l;else for(U=l;U!==null;){if(U===t){U=null;break}if(l=U.sibling,l!==null){l.return=U.return,U=l;break}U=U.return}l=U}}function Qe(t,e,a,i){t=null;for(var l=e,h=!1;l!==null;){if(!h){if((l.flags&524288)!==0)h=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var U=l.alternate;if(U===null)throw Error(u(387));if(U=U.memoizedProps,U!==null){var q=l.type;Ye(l.pendingProps.value,U.value)||(t!==null?t.push(q):t=[q])}}else if(l===Qr.current){if(U=l.alternate,U===null)throw Error(u(387));U.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(an):t=[an])}l=l.return}t!==null&&Yt(e,t,a,i),e.flags|=262144}function ge(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!Ye(va?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function Be(t){ln=t,ba=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return we(ln,t)}function be(t,e){return ln===null&&Be(t),we(t,e)}function we(t,e){var a=va?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:a,next:null},ba===null){if(t===null)throw Error(u(308));ba=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ba=ba.next=e;return a}function ea(){return{controller:new r2,data:new Map,refCount:0}}function $t(t){t.refCount--,t.refCount===0&&l2(s2,function(){t.controller.abort()})}function ie(t){t!==Nn&&t.next===null&&(Nn===null?Zr=Nn=t:Nn=Nn.next=t),Jr=!0,Zs||(Zs=!0,fn())}function oe(t,e){if(!Js&&Jr){Js=!0;do for(var a=!1,i=Zr;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var h=0;else{var U=i.suspendedLanes,q=i.pingedLanes;h=(1<<31-Fe(42|t)+1)-1,h&=l&~(U&~q),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Zn(i,h))}else h=Mt,h=O(i,i===jt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==en),(h&3)===0||_(i,h)||(a=!0,Zn(i,h));i=i.next}while(a);Js=!1}}function He(){pe()}function pe(){Jr=Zs=!1;var t=0;Rn!==0&&(Qf()&&(t=Rn),Rn=0);for(var e=ia(),a=null,i=Zr;i!==null;){var l=i.next,h=me(i,e);h===0?(i.next=null,a===null?Zr=l:a.next=l,l===null&&(Nn=a)):(a=i,(t!==0||(h&3)!==0)&&(Jr=!0)),i=l}oe(t)}function me(t,e){for(var a=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var U=31-Fe(h),q=1<<U,J=l[U];J===-1?((q&a)===0||(q&i)!==0)&&(l[U]=o(q,e)):J<=e&&(t.expiredLanes|=q),h&=~q}if(e=jt,a=Mt,a=O(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==en),i=t.callbackNode,a===0||t===e&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ys(i),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(i!==null&&Ys(i),F(a)){case 2:case 8:a=e2;break;case 32:a=Ks;break;case 268435456:a=a2;break;default:a=Ks}return i=Na.bind(null,t),a=Yr(a,i),t.callbackPriority=e,t.callbackNode=a,e}return i!==null&&i!==null&&Ys(i),t.callbackPriority=2,t.callbackNode=null,2}function Na(t,e){if(_e!==0&&_e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ui()&&t.callbackNode!==a)return null;var i=Mt;return i=O(t,t===jt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==en),i===0?null:(Bc(t,i,e),me(t,ia()),t.callbackNode!=null&&t.callbackNode===a?Na.bind(null,t):null)}function Zn(t,e){if(ui())return null;Bc(t,e,!0)}function fn(){$f?t1(function(){(Rt&6)!==0?Yr(Dh,He):pe()}):Yr(Dh,He)}function Jn(){return Rn===0&&(Rn=x()),Rn}function Gl(t,e){if(pi===null){var a=pi=[];Ws=0,Mn=Jn(),On={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Ws++,e.then(eu,eu),e}function eu(){if(--Ws===0&&pi!==null){On!==null&&(On.status="fulfilled");var t=pi;pi=null,Mn=0,On=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function of(t,e){var a=[],i={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<a.length;l++)(0,a[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),i}function Ul(){var t=sn.current;return t!==null?t:jt.pooledCache}function vr(t,e){e===null?g(sn,sn.current):g(sn,e.pool)}function au(){var t=Ul();return t===null?null:{parent:va?Qt._currentValue:Qt._currentValue2,pool:t}}function yr(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var l=a[i];if(!o2.call(e,l)||!Ye(t[l],e[l]))return!1}return!0}function nu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _r(){}function iu(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(_r,_r),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lu(t),t;default:if(typeof e.status=="string")e.then(_r,_r);else{if(t=jt,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lu(t),t}throw Dn=e,mi}}function ru(){if(Dn===null)throw Error(u(459));var t=Dn;return Dn=null,t}function lu(t){if(t===mi||t===Wr)throw Error(u(483))}function Sr(){for(var t=Gn,e=$s=Gn=0;e<t;){var a=We[e];We[e++]=null;var i=We[e];We[e++]=null;var l=We[e];We[e++]=null;var h=We[e];if(We[e++]=null,i!==null&&l!==null){var U=i.pending;U===null?l.next=l:(l.next=U.next,U.next=l),i.pending=l}h!==0&&su(a,l,h)}}function br(t,e,a,i){We[Gn++]=t,We[Gn++]=e,We[Gn++]=a,We[Gn++]=i,$s|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function zl(t,e,a,i){return br(t,e,a,i),Cr(t)}function gn(t,e){return br(t,null,null,e),Cr(t)}function su(t,e,a){t.lanes|=a;var i=t.alternate;i!==null&&(i.lanes|=a);for(var l=!1,h=t.return;h!==null;)h.childLanes|=a,i=h.alternate,i!==null&&(i.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(l=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,l&&e!==null&&(l=31-Fe(a),t=h.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=a|536870912),h):null}function Cr(t){if(50<Ci)throw Ci=0,co=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function Bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,a){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Rt&2)!==0){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Cr(t),su(t,null,a),e}return br(t,i,e,a),Cr(t)}function Wn(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,a|=i,e.lanes=a,z(t,a)}}function Hl(t,e){var a=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var l=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var U={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?l=h=U:h=h.next=U,a=a.next}while(a!==null);h===null?l=h=e:h=h.next=e}else l=h=e;a={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function In(){if(to){var t=On;if(t!==null)throw t}}function $n(t,e,a,i){to=!1;var l=t.updateQueue;Va=!1;var h=l.firstBaseUpdate,U=l.lastBaseUpdate,q=l.shared.pending;if(q!==null){l.shared.pending=null;var J=q,nt=J.next;J.next=null,U===null?h=nt:U.next=nt,U=J;var lt=t.alternate;lt!==null&&(lt=lt.updateQueue,q=lt.lastBaseUpdate,q!==U&&(q===null?lt.firstBaseUpdate=nt:q.next=nt,lt.lastBaseUpdate=J))}if(h!==null){var ct=l.baseState;U=0,lt=nt=J=null,q=h;do{var ht=q.lane&-536870913,bt=ht!==q.lane;if(bt?(Mt&ht)===ht:(i&ht)===ht){ht!==0&&ht===Mn&&(to=!0),lt!==null&&(lt=lt.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});t:{var ta=t,Ai=q;ht=e;var cn=a;switch(Ai.tag){case 1:if(ta=Ai.payload,typeof ta=="function"){ct=ta.call(cn,ct,ht);break t}ct=ta;break t;case 3:ta.flags=ta.flags&-65537|128;case 0:if(ta=Ai.payload,ht=typeof ta=="function"?ta.call(cn,ct,ht):ta,ht==null)break t;ct=Gs({},ct,ht);break t;case 2:Va=!0}}ht=q.callback,ht!==null&&(t.flags|=64,bt&&(t.flags|=8192),bt=l.callbacks,bt===null?l.callbacks=[ht]:bt.push(ht))}else bt={lane:ht,tag:q.tag,payload:q.payload,callback:q.callback,next:null},lt===null?(nt=lt=bt,J=ct):lt=lt.next=bt,U|=ht;if(q=q.next,q===null){if(q=l.shared.pending,q===null)break;bt=q,q=bt.next,bt.next=null,l.lastBaseUpdate=bt,l.shared.pending=null}}while(!0);lt===null&&(J=ct),l.baseState=J,l.firstBaseUpdate=nt,l.lastBaseUpdate=lt,h===null&&(l.shared.lanes=0),ja|=U,t.lanes=U,t.memoizedState=ct}}function ou(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function uu(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ou(a[t],e)}function cu(t,e){t=Aa,g($r,t),g(Un,e),Aa=t|e.baseLanes}function Ll(){g($r,Aa),g(Un,Un.current)}function Pl(){Aa=$r.current,v(Un),v($r)}function Jt(){throw Error(u(321))}function Vl(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!Ye(t[a],e[a]))return!1;return!0}function ql(t,e,a,i,l,h){return qa=h,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pt.H=t===null||t.memoizedState===null?Bh:wh,on=!1,h=a(i,l),on=!1,zn&&(h=du(e,a,i,l)),hu(t),h}function hu(t){pt.H=al;var e=qt!==null&&qt.next!==null;if(qa=0,ee=qt=Ct=null,tl=!1,vi=0,Bn=null,e)throw Error(u(300));t===null||ce||(t=t.dependencies,t!==null&&ge(t)&&(ce=!0))}function du(t,e,a,i){Ct=t;var l=0;do{if(zn&&(Bn=null),vi=0,zn=!1,25<=l)throw Error(u(301));if(l+=1,ee=qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}pt.H=c2,h=e(a,i)}while(zn);return h}function uf(){var t=pt.H,e=t.useState()[0];return e=typeof e.then=="function"?ti(e):e,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(Ct.flags|=1024),e}function Fl(){var t=el!==0;return el=0,t}function jl(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function Yl(t){if(tl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}tl=!1}qa=0,ee=qt=Ct=null,zn=!1,vi=el=0,Bn=null}function Ne(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?Ct.memoizedState=ee=t:ee=ee.next=t,ee}function te(){if(qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=ee===null?Ct.memoizedState:ee.next;if(e!==null)ee=e,qt=t;else{if(t===null)throw Ct.alternate===null?Error(u(467)):Error(u(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},ee===null?Ct.memoizedState=ee=t:ee=ee.next=t}return ee}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(t){var e=vi;return vi+=1,Bn===null&&(Bn=[]),t=iu(Bn,t,e),e=Ct,(ee===null?e.memoizedState:ee.next)===null&&(e=e.alternate,pt.H=e===null||e.memoizedState===null?Bh:wh),t}function Ar(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ti(t);if(t.$$typeof===wa)return St(t)}throw Error(u(438,String(t)))}function Xl(t){var e=null,a=Ct.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var i=Ct.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=Kl(),Ct.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),i=0;i<t;i++)a[i]=Uf;return e.index++,a}function fa(t,e){return typeof e=="function"?e(t):e}function Er(t){var e=te();return Ql(e,qt,t)}function Ql(t,e,a){var i=t.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=a;var l=t.baseQueue,h=i.pending;if(h!==null){if(l!==null){var U=l.next;l.next=h.next,h.next=U}e.baseQueue=l=h,i.pending=null}if(h=t.baseState,l===null)t.memoizedState=h;else{e=l.next;var q=U=null,J=null,nt=e,lt=!1;do{var ct=nt.lane&-536870913;if(ct!==nt.lane?(Mt&ct)===ct:(qa&ct)===ct){var ht=nt.revertLane;if(ht===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),ct===Mn&&(lt=!0);else if((qa&ht)===ht){nt=nt.next,ht===Mn&&(lt=!0);continue}else ct={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},J===null?(q=J=ct,U=h):J=J.next=ct,Ct.lanes|=ht,ja|=ht;ct=nt.action,on&&a(h,ct),h=nt.hasEagerState?nt.eagerState:a(h,ct)}else ht={lane:ct,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},J===null?(q=J=ht,U=h):J=J.next=ht,Ct.lanes|=ct,ja|=ct;nt=nt.next}while(nt!==null&&nt!==e);if(J===null?U=h:J.next=q,!Ye(h,t.memoizedState)&&(ce=!0,lt&&(a=On,a!==null)))throw a;t.memoizedState=h,t.baseState=U,t.baseQueue=J,i.lastRenderedState=h}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function kl(t){var e=te(),a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=t;var i=a.dispatch,l=a.pending,h=e.memoizedState;if(l!==null){a.pending=null;var U=l=l.next;do h=t(h,U.action),U=U.next;while(U!==l);Ye(h,e.memoizedState)||(ce=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),a.lastRenderedState=h}return[h,i]}function fu(t,e,a){var i=Ct,l=te(),h=Bt;if(h){if(a===void 0)throw Error(u(407));a=a()}else a=e();var U=!Ye((qt||l).memoizedState,a);U&&(l.memoizedState=a,ce=!0),l=l.queue;var q=mu.bind(null,i,l,t);if(ei(2048,8,q,[t]),l.getSnapshot!==e||U||ee!==null&&ee.memoizedState.tag&1){if(i.flags|=2048,pn(9,xr(),pu.bind(null,i,l,a,e),null),jt===null)throw Error(u(349));h||(qa&124)!==0||gu(i,e,a)}return a}function gu(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=Ct.updateQueue,e===null?(e=Kl(),Ct.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function pu(t,e,a,i){e.value=a,e.getSnapshot=i,vu(e)&&yu(t)}function mu(t,e,a){return a(function(){vu(e)&&yu(t)})}function vu(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!Ye(t,a)}catch{return!0}}function yu(t){var e=gn(t,2);e!==null&&Ve(e,t,2)}function Zl(t){var e=Ne();if(typeof t=="function"){var a=t;if(t=a(),on){K(!0);try{a()}finally{K(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e}function _u(t,e,a,i){return t.baseState=a,Ql(t,qt,typeof i=="function"?i:fa)}function cf(t,e,a,i,l){if(Nr(t))throw Error(u(485));if(t=e.action,t!==null){var h={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){h.listeners.push(U)}};pt.T!==null?a(!0):h.isTransition=!1,i(h),a=e.pending,a===null?(h.next=e.pending=h,Su(e,h)):(h.next=a.next,e.pending=a.next=h)}}function Su(t,e){var a=e.action,i=e.payload,l=t.state;if(e.isTransition){var h=pt.T,U={};pt.T=U;try{var q=a(l,i),J=pt.S;J!==null&&J(U,q),bu(t,e,q)}catch(nt){Jl(t,e,nt)}finally{pt.T=h}}else try{h=a(l,i),bu(t,e,h)}catch(nt){Jl(t,e,nt)}}function bu(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Cu(t,e,i)},function(i){return Jl(t,e,i)}):Cu(t,e,a)}function Cu(t,e,a){e.status="fulfilled",e.value=a,Au(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,Su(t,a)))}function Jl(t,e,a){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=a,Au(e),e=e.next;while(e!==i)}t.action=null}function Au(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Eu(t,e){return e}function xu(t,e){if(Bt){var a=jt.formState;if(a!==null){t:{var i=Ct;if(Bt){if(le){var l=x1(le,oa);if(l){le=_h(l),i=T1(l);break t}}H(i)}i=!1}i&&(e=a[0])}}a=Ne(),a.memoizedState=a.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:e},a.queue=i,a=ju.bind(null,Ct,i),i.dispatch=a,i=Zl(!1);var h=ts.bind(null,Ct,!1,i.queue);return i=Ne(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,a=cf.bind(null,Ct,l,h,a),l.dispatch=a,i.memoizedState=t,[e,a,!1]}function Tu(t){var e=te();return Nu(e,qt,t)}function Nu(t,e,a){if(e=Ql(t,e,Eu)[0],t=Er(fa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ti(e)}catch(U){throw U===mi?Wr:U}else i=e;e=te();var l=e.queue,h=l.dispatch;return a!==e.memoizedState&&(Ct.flags|=2048,pn(9,xr(),hf.bind(null,l,a),null)),[i,h,t]}function hf(t,e){t.action=e}function Ru(t){var e=te(),a=qt;if(a!==null)return Nu(e,a,t);te(),e=e.memoizedState,a=te();var i=a.queue.dispatch;return a.memoizedState=t,[e,i,!1]}function pn(t,e,a,i){return t={tag:t,create:a,deps:i,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=Kl(),Ct.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(i=a.next,a.next=t,t.next=i,e.lastEffect=t),t}function xr(){return{destroy:void 0,resource:void 0}}function Mu(){return te().memoizedState}function Tr(t,e,a,i){var l=Ne();i=i===void 0?null:i,Ct.flags|=t,l.memoizedState=pn(1|e,xr(),a,i)}function ei(t,e,a,i){var l=te();i=i===void 0?null:i;var h=l.memoizedState.inst;qt!==null&&i!==null&&Vl(i,qt.memoizedState.deps)?l.memoizedState=pn(e,h,a,i):(Ct.flags|=t,l.memoizedState=pn(1|e,h,a,i))}function Ou(t,e){Tr(8390656,8,t,e)}function Du(t,e){ei(2048,8,t,e)}function Gu(t,e){return ei(4,2,t,e)}function Uu(t,e){return ei(4,4,t,e)}function zu(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bu(t,e,a){a=a!=null?a.concat([t]):null,ei(4,4,zu.bind(null,e,t),a)}function Wl(){}function wu(t,e){var a=te();e=e===void 0?null:e;var i=a.memoizedState;return e!==null&&Vl(e,i[1])?i[0]:(a.memoizedState=[t,e],t)}function Hu(t,e){var a=te();e=e===void 0?null:e;var i=a.memoizedState;if(e!==null&&Vl(e,i[1]))return i[0];if(i=t(),on){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[i,e],i}function Il(t,e,a){return a===void 0||(qa&1073741824)!==0?t.memoizedState=e:(t.memoizedState=a,t=zc(),Ct.lanes|=t,ja|=t,a)}function Lu(t,e,a,i){return Ye(a,e)?a:Un.current!==null?(t=Il(t,a,i),Ye(t,e)||(ce=!0),t):(qa&42)===0?(ce=!0,t.memoizedState=a):(t=zc(),Ct.lanes|=t,ja|=t,e)}function Pu(t,e,a,i,l){var h=ya();ue(h!==0&&8>h?h:8);var U=pt.T,q={};pt.T=q,ts(t,!1,e,a);try{var J=l(),nt=pt.S;if(nt!==null&&nt(q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var lt=of(J,i);ai(t,e,lt,Pe(t))}else ai(t,e,i,Pe(t))}catch(ct){ai(t,e,{then:function(){},status:"rejected",reason:ct},Pe())}finally{ue(h),pt.T=U}}function Vu(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:bn,baseState:bn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:bn},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function $l(){return St(an)}function qu(){return te().memoizedState}function Fu(){return te().memoizedState}function df(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Pe();t=Ra(a);var i=Ma(e,t,a);i!==null&&(Ve(i,e,a),Wn(i,e,a)),e={cache:ea()},t.payload=e;return}e=e.return}}function ff(t,e,a){var i=Pe();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nr(t)?Yu(e,a):(a=zl(t,e,a,i),a!==null&&(Ve(a,t,i),Ku(a,e,i)))}function ju(t,e,a){var i=Pe();ai(t,e,a,i)}function ai(t,e,a,i){var l={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nr(t))Yu(e,l);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var U=e.lastRenderedState,q=h(U,a);if(l.hasEagerState=!0,l.eagerState=q,Ye(q,U))return br(t,e,l,0),jt===null&&Sr(),!1}catch{}finally{}if(a=zl(t,e,l,i),a!==null)return Ve(a,t,i),Ku(a,e,i),!0}return!1}function ts(t,e,a,i){if(i={lane:2,revertLane:Jn(),action:i,hasEagerState:!1,eagerState:null,next:null},Nr(t)){if(e)throw Error(u(479))}else e=zl(t,a,i,2),e!==null&&Ve(e,t,2)}function Nr(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function Yu(t,e){zn=tl=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Ku(t,e,a){if((a&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,a|=i,e.lanes=a,z(t,a)}}function Rr(t){var e=yi;return yi+=1,wn===null&&(wn=[]),iu(wn,t,e)}function ni(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Mr(t,e){throw e.$$typeof===Df?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xu(t){var e=t._init;return e(t._payload)}function Qu(t){function e(k,X){if(t){var W=k.deletions;W===null?(k.deletions=[X],k.flags|=16):W.push(X)}}function a(k,X){if(!t)return null;for(;X!==null;)e(k,X),X=X.sibling;return null}function i(k){for(var X=new Map;k!==null;)k.key!==null?X.set(k.key,k):X.set(k.index,k),k=k.sibling;return X}function l(k,X){return k=ma(k,X),k.index=0,k.sibling=null,k}function h(k,X,W){return k.index=W,t?(W=k.alternate,W!==null?(W=W.index,W<X?(k.flags|=67108866,X):W):(k.flags|=67108866,X)):(k.flags|=1048576,X)}function U(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function q(k,X,W,rt){return X===null||X.tag!==6?(X=Ms(W,k.mode,rt),X.return=k,X):(X=l(X,W),X.return=k,X)}function J(k,X,W,rt){var ft=W.type;return ft===Sn?lt(k,X,W.props.children,rt,W.key):X!==null&&(X.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Ha&&Xu(ft)===X.type)?(X=l(X,W.props),ni(X,W),X.return=k,X):(X=Lr(W.type,W.key,W.props,null,k.mode,rt),ni(X,W),X.return=k,X)}function nt(k,X,W,rt){return X===null||X.tag!==4||X.stateNode.containerInfo!==W.containerInfo||X.stateNode.implementation!==W.implementation?(X=Os(W,k.mode,rt),X.return=k,X):(X=l(X,W.children||[]),X.return=k,X)}function lt(k,X,W,rt,ft){return X===null||X.tag!==7?(X=tn(W,k.mode,rt,ft),X.return=k,X):(X=l(X,W),X.return=k,X)}function ct(k,X,W){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Ms(""+X,k.mode,W),X.return=k,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Pr:return W=Lr(X.type,X.key,X.props,null,k.mode,W),ni(W,X),W.return=k,W;case _n:return X=Os(X,k.mode,W),X.return=k,X;case Ha:var rt=X._init;return X=rt(X._payload),ct(k,X,W)}if(Vr(X)||y(X))return X=tn(X,k.mode,W,null),X.return=k,X;if(typeof X.then=="function")return ct(k,Rr(X),W);if(X.$$typeof===wa)return ct(k,be(k,X),W);Mr(k,X)}return null}function ht(k,X,W,rt){var ft=X!==null?X.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ft!==null?null:q(k,X,""+W,rt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Pr:return W.key===ft?J(k,X,W,rt):null;case _n:return W.key===ft?nt(k,X,W,rt):null;case Ha:return ft=W._init,W=ft(W._payload),ht(k,X,W,rt)}if(Vr(W)||y(W))return ft!==null?null:lt(k,X,W,rt,null);if(typeof W.then=="function")return ht(k,X,Rr(W),rt);if(W.$$typeof===wa)return ht(k,X,be(k,W),rt);Mr(k,W)}return null}function bt(k,X,W,rt,ft){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return k=k.get(W)||null,q(X,k,""+rt,ft);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case Pr:return k=k.get(rt.key===null?W:rt.key)||null,J(X,k,rt,ft);case _n:return k=k.get(rt.key===null?W:rt.key)||null,nt(X,k,rt,ft);case Ha:var Kt=rt._init;return rt=Kt(rt._payload),bt(k,X,W,rt,ft)}if(Vr(rt)||y(rt))return k=k.get(W)||null,lt(X,k,rt,ft,null);if(typeof rt.then=="function")return bt(k,X,W,Rr(rt),ft);if(rt.$$typeof===wa)return bt(k,X,W,be(X,rt),ft);Mr(X,rt)}return null}function ta(k,X,W,rt){for(var ft=null,Kt=null,vt=X,Dt=X=0,de=null;vt!==null&&Dt<W.length;Dt++){vt.index>Dt?(de=vt,vt=null):de=vt.sibling;var Gt=ht(k,vt,W[Dt],rt);if(Gt===null){vt===null&&(vt=de);break}t&&vt&&Gt.alternate===null&&e(k,vt),X=h(Gt,X,Dt),Kt===null?ft=Gt:Kt.sibling=Gt,Kt=Gt,vt=de}if(Dt===W.length)return a(k,vt),Bt&&w(k,Dt),ft;if(vt===null){for(;Dt<W.length;Dt++)vt=ct(k,W[Dt],rt),vt!==null&&(X=h(vt,X,Dt),Kt===null?ft=vt:Kt.sibling=vt,Kt=vt);return Bt&&w(k,Dt),ft}for(vt=i(vt);Dt<W.length;Dt++)de=bt(vt,k,Dt,W[Dt],rt),de!==null&&(t&&de.alternate!==null&&vt.delete(de.key===null?Dt:de.key),X=h(de,X,Dt),Kt===null?ft=de:Kt.sibling=de,Kt=de);return t&&vt.forEach(function(Xa){return e(k,Xa)}),Bt&&w(k,Dt),ft}function Ai(k,X,W,rt){if(W==null)throw Error(u(151));for(var ft=null,Kt=null,vt=X,Dt=X=0,de=null,Gt=W.next();vt!==null&&!Gt.done;Dt++,Gt=W.next()){vt.index>Dt?(de=vt,vt=null):de=vt.sibling;var Xa=ht(k,vt,Gt.value,rt);if(Xa===null){vt===null&&(vt=de);break}t&&vt&&Xa.alternate===null&&e(k,vt),X=h(Xa,X,Dt),Kt===null?ft=Xa:Kt.sibling=Xa,Kt=Xa,vt=de}if(Gt.done)return a(k,vt),Bt&&w(k,Dt),ft;if(vt===null){for(;!Gt.done;Dt++,Gt=W.next())Gt=ct(k,Gt.value,rt),Gt!==null&&(X=h(Gt,X,Dt),Kt===null?ft=Gt:Kt.sibling=Gt,Kt=Gt);return Bt&&w(k,Dt),ft}for(vt=i(vt);!Gt.done;Dt++,Gt=W.next())Gt=bt(vt,k,Dt,Gt.value,rt),Gt!==null&&(t&&Gt.alternate!==null&&vt.delete(Gt.key===null?Dt:Gt.key),X=h(Gt,X,Dt),Kt===null?ft=Gt:Kt.sibling=Gt,Kt=Gt);return t&&vt.forEach(function(f2){return e(k,f2)}),Bt&&w(k,Dt),ft}function cn(k,X,W,rt){if(typeof W=="object"&&W!==null&&W.type===Sn&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Pr:t:{for(var ft=W.key;X!==null;){if(X.key===ft){if(ft=W.type,ft===Sn){if(X.tag===7){a(k,X.sibling),rt=l(X,W.props.children),rt.return=k,k=rt;break t}}else if(X.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Ha&&Xu(ft)===X.type){a(k,X.sibling),rt=l(X,W.props),ni(rt,W),rt.return=k,k=rt;break t}a(k,X);break}else e(k,X);X=X.sibling}W.type===Sn?(rt=tn(W.props.children,k.mode,rt,W.key),rt.return=k,k=rt):(rt=Lr(W.type,W.key,W.props,null,k.mode,rt),ni(rt,W),rt.return=k,k=rt)}return U(k);case _n:t:{for(ft=W.key;X!==null;){if(X.key===ft)if(X.tag===4&&X.stateNode.containerInfo===W.containerInfo&&X.stateNode.implementation===W.implementation){a(k,X.sibling),rt=l(X,W.children||[]),rt.return=k,k=rt;break t}else{a(k,X);break}else e(k,X);X=X.sibling}rt=Os(W,k.mode,rt),rt.return=k,k=rt}return U(k);case Ha:return ft=W._init,W=ft(W._payload),cn(k,X,W,rt)}if(Vr(W))return ta(k,X,W,rt);if(y(W)){if(ft=y(W),typeof ft!="function")throw Error(u(150));return W=ft.call(W),Ai(k,X,W,rt)}if(typeof W.then=="function")return cn(k,X,Rr(W),rt);if(W.$$typeof===wa)return cn(k,X,be(k,W),rt);Mr(k,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,X!==null&&X.tag===6?(a(k,X.sibling),rt=l(X,W),rt.return=k,k=rt):(a(k,X),rt=Ms(W,k.mode,rt),rt.return=k,k=rt),U(k)):a(k,X)}return function(k,X,W,rt){try{yi=0;var ft=cn(k,X,W,rt);return wn=null,ft}catch(vt){if(vt===mi||vt===Wr)throw vt;var Kt=p(29,vt,null,k.mode);return Kt.lanes=rt,Kt.return=k,Kt}finally{}}}function Oa(t){var e=t.alternate;g(se,se.current&1),g(Ie,t),ua===null&&(e===null||Un.current!==null||e.memoizedState!==null)&&(ua=t)}function ku(t){if(t.tag===22){if(g(se,se.current),g(Ie,t),ua===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ua=t)}}else Da()}function Da(){g(se,se.current),g(Ie,Ie.current)}function ga(t){v(Ie),ua===t&&(ua=null),v(se)}function Or(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vs(a)||qs(a)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function es(t,e,a,i){e=t.memoizedState,a=a(i,e),a=a==null?e:Gs({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}function Zu(t,e,a,i,l,h,U){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,h,U):e.prototype&&e.prototype.isPureReactComponent?!yr(a,i)||!yr(l,h):!0}function Ju(t,e,a,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,i),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Wa(t,e){var a=e;if("ref"in e){a={};for(var i in e)i!=="ref"&&(a[i]=e[i])}if(t=t.defaultProps){a===e&&(a=Gs({},a));for(var l in t)a[l]===void 0&&(a[l]=t[l])}return a}function Dr(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Wu(t,e,a){try{var i=t.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function as(t,e,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){Dr(t,e)},a}function Iu(t){return t=Ra(t),t.tag=3,t}function $u(t,e,a,i){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var h=i.value;t.payload=function(){return l(h)},t.callback=function(){Wu(e,a,i)}}var U=a.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(t.callback=function(){Wu(e,a,i),typeof l!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var q=i.stack;this.componentDidCatch(i.value,{componentStack:q!==null?q:""})})}function gf(t,e,a,i,l){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=a.alternate,e!==null&&Qe(e,a,l,!0),a=Ie.current,a!==null){switch(a.tag){case 13:return ua===null?xs():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=l,i===Ir?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([i]):e.add(i),Ns(t,i,l)),!1;case 22:return a.flags|=65536,i===Ir?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([i]):a.add(i)),Ns(t,i,l)),!1}throw Error(u(435,a.tag))}return Ns(t,i,l),xs(),!1}if(Bt)return e=Ie.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==ks&&(t=Error(u(422),{cause:i}),_t(M(t,a)))):(i!==ks&&(e=Error(u(423),{cause:i}),_t(M(e,a))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=M(i,a),l=as(t.stateNode,i,l),Hl(t,l),kt!==4&&(kt=2)),!1;var h=Error(u(520),{cause:i});if(h=M(h,a),Si===null?Si=[h]:Si.push(h),kt!==4&&(kt=2),e===null)return!0;i=M(i,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=l&-l,a.lanes|=t,t=as(a.stateNode,i,t),Hl(a,t),!1;case 1:if(e=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ya===null||!Ya.has(h))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Iu(l),$u(l,t,a,i),Hl(a,l),!1}a=a.return}while(a!==null);return!1}function ve(t,e,a,i){e.child=t===null?Hh(e,null,a,i):Hn(e,t.child,a,i)}function tc(t,e,a,i,l){a=a.render;var h=e.ref;if("ref"in i){var U={};for(var q in i)q!=="ref"&&(U[q]=i[q])}else U=i;return Be(e),i=ql(t,e,a,U,h,l),q=Fl(),t!==null&&!ce?(jl(t,e,l),pa(t,e,l)):(Bt&&q&&V(e),e.flags|=1,ve(t,e,i,l),e.child)}function ec(t,e,a,i,l){if(t===null){var h=a.type;return typeof h=="function"&&!Rs(h)&&h.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=h,ac(t,e,h,i,l)):(t=Lr(a.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!us(t,l)){var U=h.memoizedProps;if(a=a.compare,a=a!==null?a:yr,a(U,i)&&t.ref===e.ref)return pa(t,e,l)}return e.flags|=1,t=ma(h,i),t.ref=e.ref,t.return=e,e.child=t}function ac(t,e,a,i,l){if(t!==null){var h=t.memoizedProps;if(yr(h,i)&&t.ref===e.ref)if(ce=!1,e.pendingProps=i=h,us(t,l))(t.flags&131072)!==0&&(ce=!0);else return e.lanes=t.lanes,pa(t,e,l)}return ns(t,e,a,i,l)}function nc(t,e,a){var i=e.pendingProps,l=i.children,h=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if((e.flags&128)!==0){if(i=h!==null?h.baseLanes|a:a,t!==null){for(l=e.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;e.childLanes=h&~i}else e.childLanes=0,e.child=null;return ic(t,e,i,a)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&vr(e,h!==null?h.cachePool:null),h!==null?cu(e,h):Ll(),ku(e);else return e.lanes=e.childLanes=536870912,ic(t,e,h!==null?h.baseLanes|a:a,a)}else h!==null?(vr(e,h.cachePool),cu(e,h),Da(),e.memoizedState=null):(t!==null&&vr(e,null),Ll(),Da());return ve(t,e,l,a),e.child}function ic(t,e,a,i){var l=Ul();return l=l===null?null:{parent:va?Qt._currentValue:Qt._currentValue2,pool:l},e.memoizedState={baseLanes:a,cachePool:l},t!==null&&vr(e,null),Ll(),ku(e),t!==null&&Qe(t,e,i,!0),null}function Gr(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function ns(t,e,a,i,l){return Be(e),a=ql(t,e,a,i,void 0,l),i=Fl(),t!==null&&!ce?(jl(t,e,l),pa(t,e,l)):(Bt&&i&&V(e),e.flags|=1,ve(t,e,a,l),e.child)}function rc(t,e,a,i,l,h){return Be(e),e.updateQueue=null,a=du(e,i,a,l),hu(t),i=Fl(),t!==null&&!ce?(jl(t,e,h),pa(t,e,h)):(Bt&&i&&V(e),e.flags|=1,ve(t,e,a,h),e.child)}function lc(t,e,a,i,l){if(Be(e),e.stateNode===null){var h=En,U=a.contextType;typeof U=="object"&&U!==null&&(h=St(U)),h=new a(i,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=eo,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=i,h.state=e.memoizedState,h.refs={},Bl(e),U=a.contextType,h.context=typeof U=="object"&&U!==null?St(U):En,h.state=e.memoizedState,U=a.getDerivedStateFromProps,typeof U=="function"&&(es(e,a,U,i),h.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(U=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),U!==h.state&&eo.enqueueReplaceState(h,h.state,null),$n(e,i,h,l),In(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){h=e.stateNode;var q=e.memoizedProps,J=Wa(a,q);h.props=J;var nt=h.context,lt=a.contextType;U=En,typeof lt=="object"&&lt!==null&&(U=St(lt));var ct=a.getDerivedStateFromProps;lt=typeof ct=="function"||typeof h.getSnapshotBeforeUpdate=="function",q=e.pendingProps!==q,lt||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(q||nt!==U)&&Ju(e,h,i,U),Va=!1;var ht=e.memoizedState;h.state=ht,$n(e,i,h,l),In(),nt=e.memoizedState,q||ht!==nt||Va?(typeof ct=="function"&&(es(e,a,ct,i),nt=e.memoizedState),(J=Va||Zu(e,a,J,i,ht,nt,U))?(lt||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=nt),h.props=i,h.state=nt,h.context=U,i=J):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{h=e.stateNode,wl(t,e),U=e.memoizedProps,lt=Wa(a,U),h.props=lt,ct=e.pendingProps,ht=h.context,nt=a.contextType,J=En,typeof nt=="object"&&nt!==null&&(J=St(nt)),q=a.getDerivedStateFromProps,(nt=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(U!==ct||ht!==J)&&Ju(e,h,i,J),Va=!1,ht=e.memoizedState,h.state=ht,$n(e,i,h,l),In();var bt=e.memoizedState;U!==ct||ht!==bt||Va||t!==null&&t.dependencies!==null&&ge(t.dependencies)?(typeof q=="function"&&(es(e,a,q,i),bt=e.memoizedState),(lt=Va||Zu(e,a,lt,i,ht,bt,J)||t!==null&&t.dependencies!==null&&ge(t.dependencies))?(nt||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,bt,J),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,bt,J)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=bt),h.props=i,h.state=bt,h.context=J,i=lt):(typeof h.componentDidUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),i=!1)}return h=i,Gr(t,e),i=(e.flags&128)!==0,h||i?(h=e.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&i?(e.child=Hn(e,t.child,null,l),e.child=Hn(e,null,a,l)):ve(t,e,a,l),e.memoizedState=h.state,t=e.child):t=pa(t,e,l),t}function sc(t,e,a,i){return dt(),e.flags|=256,ve(t,e,a,i),e.child}function is(t){return{baseLanes:t,cachePool:au()}}function rs(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=$e),t}function oc(t,e,a){var i=e.pendingProps,l=!1,h=(e.flags&128)!==0,U;if((U=h)||(U=t!==null&&t.memoizedState===null?!1:(se.current&2)!==0),U&&(l=!0,e.flags&=-129),U=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(l?Oa(e):Da(),Bt){var q=le,J;(J=q)&&(q=z1(q,oa),q!==null?(e.memoizedState={dehydrated:q,treeContext:nn!==null?{id:_a,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},J=p(18,null,null,0),J.stateNode=q,J.return=e,e.child=J,xe=e,le=null,J=!0):J=!1),J||H(e)}if(q=e.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return qs(q)?e.lanes=32:e.lanes=536870912,null;ga(e)}return q=i.children,i=i.fallback,l?(Da(),l=e.mode,q=Ur({mode:"hidden",children:q},l),i=tn(i,l,a,null),q.return=e,i.return=e,q.sibling=i,e.child=q,l=e.child,l.memoizedState=is(a),l.childLanes=rs(t,U,a),e.memoizedState=ao,i):(Oa(e),ls(e,q))}if(J=t.memoizedState,J!==null&&(q=J.dehydrated,q!==null)){if(h)e.flags&256?(Oa(e),e.flags&=-257,e=ss(t,e,a)):e.memoizedState!==null?(Da(),e.child=t.child,e.flags|=128,e=null):(Da(),l=i.fallback,q=e.mode,i=Ur({mode:"visible",children:i.children},q),l=tn(l,q,a,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Hn(e,t.child,null,a),i=e.child,i.memoizedState=is(a),i.childLanes=rs(t,U,a),e.memoizedState=ao,e=l);else if(Oa(e),qs(q))U=A1(q).digest,i=Error(u(419)),i.stack="",i.digest=U,_t({value:i,source:null,stack:null}),e=ss(t,e,a);else if(ce||Qe(t,e,a,!1),U=(a&t.childLanes)!==0,ce||U){if(U=jt,U!==null&&(i=a&-a,i=(i&42)!==0?1:L(i),i=(i&(U.suspendedLanes|a))!==0?0:i,i!==0&&i!==J.retryLane))throw J.retryLane=i,gn(t,i),Ve(U,t,i),Ph;Vs(q)||xs(),e=ss(t,e,a)}else Vs(q)?(e.flags|=192,e.child=t.child,e=null):(t=J.treeContext,ke&&(le=O1(q),xe=e,Bt=!0,rn=null,oa=!1,t!==null&&(Ze[Je++]=_a,Ze[Je++]=Sa,Ze[Je++]=nn,_a=t.id,Sa=t.overflow,nn=e)),e=ls(e,i.children),e.flags|=4096);return e}return l?(Da(),l=i.fallback,q=e.mode,J=t.child,h=J.sibling,i=ma(J,{mode:"hidden",children:i.children}),i.subtreeFlags=J.subtreeFlags&65011712,h!==null?l=ma(h,l):(l=tn(l,q,a,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,q=t.child.memoizedState,q===null?q=is(a):(J=q.cachePool,J!==null?(h=va?Qt._currentValue:Qt._currentValue2,J=J.parent!==h?{parent:h,pool:h}:J):J=au(),q={baseLanes:q.baseLanes|a,cachePool:J}),l.memoizedState=q,l.childLanes=rs(t,U,a),e.memoizedState=ao,i):(Oa(e),a=t.child,t=a.sibling,a=ma(a,{mode:"visible",children:i.children}),a.return=e,a.sibling=null,t!==null&&(U=e.deletions,U===null?(e.deletions=[t],e.flags|=16):U.push(t)),e.child=a,e.memoizedState=null,a)}function ls(t,e){return e=Ur({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ur(t,e){return t=p(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ss(t,e,a){return Hn(e,t.child,null,a),t=ls(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uc(t,e,a){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),zt(t.return,e,a)}function os(t,e,a,i,l){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:l}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=a,h.tailMode=l)}function cc(t,e,a){var i=e.pendingProps,l=i.revealOrder,h=i.tail;if(ve(t,e,i.children,a),i=se.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uc(t,a,e);else if(t.tag===19)uc(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(g(se,i),l){case"forwards":for(a=e.child,l=null;a!==null;)t=a.alternate,t!==null&&Or(t)===null&&(l=a),a=a.sibling;a=l,a===null?(l=e.child,e.child=null):(l=a.sibling,a.sibling=null),os(e,!1,l,a,h);break;case"backwards":for(a=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Or(t)===null){e.child=l;break}t=l.sibling,l.sibling=a,a=l,l=t}os(e,!0,a,null,h);break;case"together":os(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pa(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(Qe(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,a=ma(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=ma(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function us(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ge(t)))}function pf(t,e,a){switch(e.tag){case 3:Y(e,e.stateNode.containerInfo),gt(e,Qt,t.memoizedState.cache),dt();break;case 27:case 5:ot(e);break;case 4:Y(e,e.stateNode.containerInfo);break;case 10:gt(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Oa(e),e.flags|=128,null):(a&e.child.childLanes)!==0?oc(t,e,a):(Oa(e),t=pa(t,e,a),t!==null?t.sibling:null);Oa(e);break;case 19:var l=(t.flags&128)!==0;if(i=(a&e.childLanes)!==0,i||(Qe(t,e,a,!1),i=(a&e.childLanes)!==0),l){if(i)return cc(t,e,a);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),g(se,se.current),i)break;return null;case 22:case 23:return e.lanes=0,nc(t,e,a);case 24:gt(e,Qt,t.memoizedState.cache)}return pa(t,e,a)}function hc(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)ce=!0;else{if(!us(t,a)&&(e.flags&128)===0)return ce=!1,pf(t,e,a);ce=(t.flags&131072)!==0}else ce=!1,Bt&&(e.flags&1048576)!==0&&B(e,Xr,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Rs(i)?(t=Wa(i,t),e.tag=1,e=lc(null,e,i,t,a)):(e.tag=0,e=ns(null,e,i,t,a));else{if(i!=null){if(l=i.$$typeof,l===zs){e.tag=11,e=tc(null,e,i,t,a);break t}else if(l===Hs){e.tag=14,e=ec(null,e,i,t,a);break t}}throw e=A(i)||i,Error(u(306,e,""))}}return e;case 0:return ns(t,e,e.type,e.pendingProps,a);case 1:return i=e.type,l=Wa(i,e.pendingProps),lc(t,e,i,l,a);case 3:t:{if(Y(e,e.stateNode.containerInfo),t===null)throw Error(u(387));var h=e.pendingProps;l=e.memoizedState,i=l.element,wl(t,e),$n(e,h,null,a);var U=e.memoizedState;if(h=U.cache,gt(e,Qt,h),h!==l.cache&&Yt(e,[Qt],a,!0),In(),h=U.element,ke&&l.isDehydrated)if(l={element:h,isDehydrated:!1,cache:U.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=sc(t,e,h,a);break t}else if(h!==i){i=M(Error(u(424)),e),_t(i),e=sc(t,e,h,a);break t}else for(ke&&(le=M1(e.stateNode.containerInfo),xe=e,Bt=!0,rn=null,oa=!0),a=Hh(e,null,h,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dt(),h===i){e=pa(t,e,a);break t}ve(t,e,h,a)}e=e.child}return e;case 26:if(na)return Gr(t,e),t===null?(a=Ch(e.type,null,e.pendingProps,null))?e.memoizedState=a:Bt||(e.stateNode=X1(e.type,e.pendingProps,Pa.current,e)):e.memoizedState=Ch(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if(re)return ot(e),t===null&&re&&Bt&&(i=e.stateNode=Rh(e.type,e.pendingProps,Pa.current,ye.current,!1),xe=e,oa=!0,le=D1(e.type,i,le)),ve(t,e,e.pendingProps.children,a),Gr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&(j1(e.type,e.pendingProps,ye.current),(l=i=le)&&(i=G1(i,e.type,e.pendingProps,oa),i!==null?(e.stateNode=i,xe=e,le=R1(i),oa=!1,l=!0):l=!1),l||H(e)),ot(e),l=e.type,h=e.pendingProps,U=t!==null?t.memoizedProps:null,i=h.children,qr(l,h)?i=null:U!==null&&qr(l,U)&&(e.flags|=32),e.memoizedState!==null&&(l=ql(t,e,uf,null,null,a),va?an._currentValue=l:an._currentValue2=l),Gr(t,e),ve(t,e,i,a),e.child;case 6:return t===null&&Bt&&(Y1(e.pendingProps,ye.current),(t=a=le)&&(a=U1(a,e.pendingProps,oa),a!==null?(e.stateNode=a,xe=e,le=null,t=!0):t=!1),t||H(e)),null;case 13:return oc(t,e,a);case 4:return Y(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Hn(e,null,i,a):ve(t,e,i,a),e.child;case 11:return tc(t,e,e.type,e.pendingProps,a);case 7:return ve(t,e,e.pendingProps,a),e.child;case 8:return ve(t,e,e.pendingProps.children,a),e.child;case 12:return ve(t,e,e.pendingProps.children,a),e.child;case 10:return i=e.pendingProps,gt(e,e.type,i.value),ve(t,e,i.children,a),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,Be(e),l=St(l),i=i(l),e.flags|=1,ve(t,e,i,a),e.child;case 14:return ec(t,e,e.type,e.pendingProps,a);case 15:return ac(t,e,e.type,e.pendingProps,a);case 19:return cc(t,e,a);case 31:return i=e.pendingProps,a=e.mode,i={mode:i.mode,children:i.children},t===null?(a=Ur(i,a),a.ref=e.ref,e.child=a,a.return=e,e=a):(a=ma(t.child,i),a.ref=e.ref,e.child=a,a.return=e,e=a),e;case 22:return nc(t,e,a);case 24:return Be(e),i=St(Qt),t===null?(l=Ul(),l===null&&(l=jt,h=ea(),l.pooledCache=h,h.refCount++,h!==null&&(l.pooledCacheLanes|=a),l=h),e.memoizedState={parent:i,cache:l},Bl(e),gt(e,Qt,l)):((t.lanes&a)!==0&&(wl(t,e),$n(e,null,null,a),In()),l=t.memoizedState,h=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),gt(e,Qt,i)):(i=h.cache,gt(e,Qt,i),i!==l.cache&&Yt(e,[Qt],a,!0))),ve(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function Le(t){t.flags|=4}function dc(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function cs(t,e,a,i){if(Ce)for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)Ps(t,a.stateNode);else if(!(a.tag===4||re&&a.tag===27)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else if(La)for(var l=e.child;l!==null;){if(l.tag===5){var h=l.stateNode;a&&i&&(h=vh(h,l.type,l.memoizedProps)),Ps(t,h)}else if(l.tag===6)h=l.stateNode,a&&i&&(h=yh(h,l.memoizedProps)),Ps(t,h);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)h=l.child,h!==null&&(h.return=l),cs(t,l,!0,!0);else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function fc(t,e,a,i){var l=!1;if(La)for(var h=e.child;h!==null;){if(h.tag===5){var U=h.stateNode;a&&i&&(U=vh(U,h.type,h.memoizedProps)),ph(t,U)}else if(h.tag===6)U=h.stateNode,a&&i&&(U=yh(U,h.memoizedProps)),ph(t,U);else if(h.tag!==4){if(h.tag===22&&h.memoizedState!==null)l=h.child,l!==null&&(l.return=h),fc(t,h,!0,!0),l=!0;else if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===e)break;for(;h.sibling===null;){if(h.return===null||h.return===e)return l;h=h.return}h.sibling.return=h.return,h=h.sibling}return l}function gc(t,e){if(La&&dc(t,e)){t=e.stateNode;var a=t.containerInfo,i=gh();fc(i,e,!1,!1),t.pendingChildren=i,Le(e),C1(a,i)}}function hs(t,e,a,i){if(Ce)t.memoizedProps!==i&&Le(e);else if(La){var l=t.stateNode,h=t.memoizedProps;if((t=dc(t,e))||h!==i){var U=ye.current;h=b1(l,a,h,i,!t,null),h===l?e.stateNode=l:(uh(h,a,i,U)&&Le(e),e.stateNode=h,t?cs(h,e,!1,!1):Le(e))}else e.stateNode=l}}function ds(t,e,a){if(Zf(e,a)){if(t.flags|=16777216,!hh(e,a))if(Pc())t.flags|=8192;else throw Dn=Ir,Is}else t.flags&=-16777217}function pc(t,e){if(k1(e)){if(t.flags|=16777216,!Nh(e))if(Pc())t.flags|=8192;else throw Dn=Ir,Is}else t.flags&=-16777217}function zr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?E():536870912,t.lanes|=e,Vn|=e)}function ii(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,i=0;if(e)for(var l=t.child;l!==null;)a|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)a|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=a,e}function mf(t,e,a){var i=e.pendingProps;switch($(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return Xt(e),null;case 3:return a=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ft(Qt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ut(e)?Le(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yt())),gc(t,e),Xt(e),null;case 26:if(na){a=e.type;var l=e.memoizedState;return t===null?(Le(e),l!==null?(Xt(e),pc(e,l)):(Xt(e),ds(e,a,i))):l?l!==t.memoizedState?(Le(e),Xt(e),pc(e,l)):(Xt(e),e.flags&=-16777217):(Ce?t.memoizedProps!==i&&Le(e):hs(t,e,a,i),Xt(e),ds(e,a,i)),null}case 27:if(re){if(I(e),a=Pa.current,l=e.type,t!==null&&e.stateNode!=null)Ce?t.memoizedProps!==i&&Le(e):hs(t,e,l,i);else{if(!i){if(e.stateNode===null)throw Error(u(166));return Xt(e),null}t=ye.current,ut(e)?Z(e,t):(t=Rh(l,i,a,t,!0),e.stateNode=t,Le(e))}return Xt(e),null}case 5:if(I(e),a=e.type,t!==null&&e.stateNode!=null)hs(t,e,a,i);else{if(!i){if(e.stateNode===null)throw Error(u(166));return Xt(e),null}t=ye.current,ut(e)?Z(e,t):(l=qf(a,i,Pa.current,t,e),cs(l,e,!1,!1),e.stateNode=l,uh(l,a,i,t)&&Le(e))}return Xt(e),ds(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)a=t.memoizedProps,Ce?a!==i&&Le(e):La&&(a!==i?(e.stateNode=ch(i,Pa.current,ye.current,e),Le(e)):e.stateNode=t.stateNode);else{if(typeof i!="string"&&e.stateNode===null)throw Error(u(166));if(t=Pa.current,a=ye.current,ut(e)){if(!ke)throw Error(u(176));if(t=e.stateNode,a=e.memoizedProps,i=null,l=xe,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}w1(t,a,e,i)||H(e)}else e.stateNode=ch(i,t,a,e)}return Xt(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=ut(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(u(318));if(!ke)throw Error(u(344));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(u(317));H1(l,e)}else dt(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Xt(e),l=!1}else l=yt(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(ga(e),e):(ga(e),null)}if(ga(e),(e.flags&128)!==0)return e.lanes=a,e;if(a=i!==null,t=t!==null&&t.memoizedState!==null,a){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var h=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048)}return a!==t&&a&&(e.child.flags|=8192),zr(e,e.updateQueue),Xt(e),null;case 4:return at(),gc(t,e),t===null&&Kf(e.stateNode.containerInfo),Xt(e),null;case 10:return Ft(e.type),Xt(e),null;case 19:if(v(se),l=e.memoizedState,l===null)return Xt(e),null;if(i=(e.flags&128)!==0,h=l.rendering,h===null)if(i)ii(l,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Or(t),h!==null){for(e.flags|=128,ii(l,!1),t=h.updateQueue,e.updateQueue=t,zr(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)$c(a,t),a=a.sibling;return g(se,se.current&1|2),e.child}t=t.sibling}l.tail!==null&&ia()>bi&&(e.flags|=128,i=!0,ii(l,!1),e.lanes=4194304)}else{if(!i)if(t=Or(h),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,zr(e,t),ii(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Bt)return Xt(e),null}else 2*ia()-l.renderingStartTime>bi&&a!==536870912&&(e.flags|=128,i=!0,ii(l,!1),e.lanes=4194304);l.isBackwards?(h.sibling=e.child,e.child=h):(t=l.last,t!==null?t.sibling=h:e.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ia(),e.sibling=null,t=se.current,g(se,i?t&1|2:t&1),e):(Xt(e),null);case 22:case 23:return ga(e),Pl(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(a&536870912)!==0&&(e.flags&128)===0&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),a=e.updateQueue,a!==null&&zr(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==a&&(e.flags|=2048),t!==null&&v(sn),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ft(Qt),Xt(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function vf(t,e){switch($(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ft(Qt),at(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return I(e),null;case 13:if(ga(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));dt()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return v(se),null;case 4:return at(),null;case 10:return Ft(e.type),null;case 22:case 23:return ga(e),Pl(),t!==null&&v(sn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ft(Qt),null;case 25:return null;default:return null}}function mc(t,e){switch($(e),e.tag){case 3:Ft(Qt),at();break;case 26:case 27:case 5:I(e);break;case 4:at();break;case 13:ga(e);break;case 19:v(se);break;case 10:Ft(e.type);break;case 22:case 23:ga(e),Pl(),t!==null&&v(sn);break;case 24:Ft(Qt)}}function ri(t,e){try{var a=e.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var l=i.next;a=l;do{if((a.tag&t)===t){i=void 0;var h=a.create,U=a.inst;i=h(),U.destroy=i}a=a.next}while(a!==l)}}catch(q){Pt(e,e.return,q)}}function Ga(t,e,a){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&t)===t){var U=i.inst,q=U.destroy;if(q!==void 0){U.destroy=void 0,l=e;var J=a,nt=q;try{nt()}catch(lt){Pt(l,J,lt)}}}i=i.next}while(i!==h)}}catch(lt){Pt(e,e.return,lt)}}function vc(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{uu(e,a)}catch(i){Pt(t,t.return,i)}}}function yc(t,e,a){a.props=Wa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(i){Pt(t,e,i)}}function li(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var i=ci(t.stateNode);break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof a=="function"?t.refCleanup=a(i):a.current=i}}catch(l){Pt(t,e,l)}}function la(t,e){var a=t.ref,i=t.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(l){Pt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Pt(t,e,l)}else a.current=null}function _c(t){var e=t.type,a=t.memoizedProps,i=t.stateNode;try{c1(i,e,a,t)}catch(l){Pt(t,t.return,l)}}function fs(t,e,a){try{h1(t.stateNode,t.type,a,e,t)}catch(i){Pt(t,t.return,i)}}function Sc(t){return t.tag===5||t.tag===3||(na?t.tag===26:!1)||(re?t.tag===27&&Cn(t.type):!1)||t.tag===4}function gs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Sc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(re&&t.tag===27&&Cn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ps(t,e,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?f1(a,t,e):o1(a,t);else if(i!==4&&(re&&i===27&&Cn(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(ps(t,e,a),t=t.sibling;t!==null;)ps(t,e,a),t=t.sibling}function Br(t,e,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?d1(a,t,e):s1(a,t);else if(i!==4&&(re&&i===27&&Cn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Br(t,e,a),t=t.sibling;t!==null;)Br(t,e,a),t=t.sibling}function bc(t,e,a){t=t.containerInfo;try{mh(t,a)}catch(i){Pt(e,e.return,i)}}function Cc(t){var e=t.stateNode,a=t.memoizedProps;try{J1(t.type,a,e,t)}catch(i){Pt(t,t.return,i)}}function yf(t,e){for(Pf(t.containerInfo),he=e;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;var a=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&a!==null){e=void 0;var i=t,l=a.memoizedProps;a=a.memoizedState;var h=i.stateNode;try{var U=Wa(i.type,l,i.elementType===i.type);e=h.getSnapshotBeforeUpdate(U,a),h.__reactInternalSnapshotBeforeUpdate=e}catch(q){Pt(i,i.return,q)}}break;case 3:(e&1024)!==0&&Ce&&S1(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}}function Ac(t,e,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(t,a),i&4&&ri(5,a);break;case 1:if(Ua(t,a),i&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(U){Pt(a,a.return,U)}else{var l=Wa(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(U){Pt(a,a.return,U)}}i&64&&vc(a),i&512&&li(a,a.return);break;case 3:if(Ua(t,a),i&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=ci(a.child.stateNode);break;case 1:e=a.child.stateNode}try{uu(t,e)}catch(U){Pt(a,a.return,U)}}break;case 27:re&&e===null&&i&4&&Cc(a);case 26:case 5:Ua(t,a),e===null&&i&4&&_c(a),i&512&&li(a,a.return);break;case 12:Ua(t,a);break;case 13:Ua(t,a),i&4&&xc(t,a),i&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xf.bind(null,a),E1(t,a))));break;case 22:if(i=a.memoizedState!==null||Ca,!i){e=e!==null&&e.memoizedState!==null||Wt,l=Ca;var h=Wt;Ca=i,(Wt=e)&&!h?za(t,a,(a.subtreeFlags&8772)!==0):Ua(t,a),Ca=l,Wt=h}break;case 30:break;default:Ua(t,a)}}function Ec(t){var e=t.alternate;e!==null&&(t.alternate=null,Ec(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&kf(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aa(t,e,a){for(a=a.child;a!==null;)ms(t,e,a),a=a.sibling}function ms(t,e,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(fi,a)}catch{}switch(a.tag){case 26:if(na){Wt||la(a,e),aa(t,e,a),a.memoizedState?Eh(a.memoizedState):a.stateNode&&Th(a.stateNode);break}case 27:if(re){Wt||la(a,e);var i=ae,l=Me;Cn(a.type)&&(ae=a.stateNode,Me=!1),aa(t,e,a),Mh(a.stateNode),ae=i,Me=l;break}case 5:Wt||la(a,e);case 6:if(Ce){if(i=ae,l=Me,ae=null,aa(t,e,a),ae=i,Me=l,ae!==null)if(Me)try{p1(ae,a.stateNode)}catch(h){Pt(a,e,h)}else try{g1(ae,a.stateNode)}catch(h){Pt(a,e,h)}}else aa(t,e,a);break;case 18:Ce&&ae!==null&&(Me?F1(ae,a.stateNode):q1(ae,a.stateNode));break;case 4:Ce?(i=ae,l=Me,ae=a.stateNode.containerInfo,Me=!0,aa(t,e,a),ae=i,Me=l):(La&&bc(a.stateNode,a,gh()),aa(t,e,a));break;case 0:case 11:case 14:case 15:Wt||Ga(2,a,e),Wt||Ga(4,a,e),aa(t,e,a);break;case 1:Wt||(la(a,e),i=a.stateNode,typeof i.componentWillUnmount=="function"&&yc(a,e,i)),aa(t,e,a);break;case 21:aa(t,e,a);break;case 22:Wt=(i=Wt)||a.memoizedState!==null,aa(t,e,a),Wt=i;break;default:aa(t,e,a)}}function xc(t,e){if(ke&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{V1(t)}catch(a){Pt(e,e.return,a)}}function _f(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Vh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Vh),e;default:throw Error(u(435,t.tag))}}function vs(t,e){var a=_f(t);e.forEach(function(i){var l=Tf.bind(null,t,i);a.has(i)||(a.add(i),i.then(l,l))})}function Ee(t,e){var a=e.deletions;if(a!==null)for(var i=0;i<a.length;i++){var l=a[i],h=t,U=e;if(Ce){var q=U;t:for(;q!==null;){switch(q.tag){case 27:if(re){if(Cn(q.type)){ae=q.stateNode,Me=!1;break t}break}case 5:ae=q.stateNode,Me=!1;break t;case 3:case 4:ae=q.stateNode.containerInfo,Me=!0;break t}q=q.return}if(ae===null)throw Error(u(160));ms(h,U,l),ae=null,Me=!1}else ms(h,U,l);h=l.alternate,h!==null&&(h.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Tc(e,t),e=e.sibling}function Tc(t,e){var a=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ee(e,t),Re(t),i&4&&(Ga(3,t,t.return),ri(3,t),Ga(5,t,t.return));break;case 1:Ee(e,t),Re(t),i&512&&(Wt||a===null||la(a,a.return)),i&64&&Ca&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:if(na){var l=ra;if(Ee(e,t),Re(t),i&512&&(Wt||a===null||la(a,a.return)),i&4){i=a!==null?a.memoizedState:null;var h=t.memoizedState;a===null?h===null?t.stateNode===null?t.stateNode=K1(l,t.type,t.memoizedProps,t):xh(l,t.type,t.stateNode):t.stateNode=Ah(l,h,t.memoizedProps):i!==h?(i===null?a.stateNode!==null&&Th(a.stateNode):Eh(i),h===null?xh(l,t.type,t.stateNode):Ah(l,h,t.memoizedProps)):h===null&&t.stateNode!==null&&fs(t,t.memoizedProps,a.memoizedProps)}break}case 27:if(re){Ee(e,t),Re(t),i&512&&(Wt||a===null||la(a,a.return)),a!==null&&i&4&&fs(t,t.memoizedProps,a.memoizedProps);break}case 5:if(Ee(e,t),Re(t),i&512&&(Wt||a===null||la(a,a.return)),Ce){if(t.flags&32){l=t.stateNode;try{fh(l)}catch(lt){Pt(t,t.return,lt)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,fs(t,l,a!==null?a.memoizedProps:l)),i&1024&&(no=!0)}break;case 6:if(Ee(e,t),Re(t),i&4&&Ce){if(t.stateNode===null)throw Error(u(162));i=t.memoizedProps,a=a!==null?a.memoizedProps:i,l=t.stateNode;try{u1(l,a,i)}catch(lt){Pt(t,t.return,lt)}}break;case 3:if(na?(Q1(),l=ra,ra=Fs(e.containerInfo),Ee(e,t),ra=l):Ee(e,t),Re(t),i&4){if(Ce&&ke&&a!==null&&a.memoizedState.isDehydrated)try{P1(e.containerInfo)}catch(lt){Pt(t,t.return,lt)}if(La){i=e.containerInfo,a=e.pendingChildren;try{mh(i,a)}catch(lt){Pt(t,t.return,lt)}}}no&&(no=!1,Nc(t));break;case 4:na?(a=ra,ra=Fs(t.stateNode.containerInfo),Ee(e,t),Re(t),ra=a):(Ee(e,t),Re(t)),i&4&&La&&bc(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:Ee(e,t),Re(t);break;case 13:Ee(e,t),Re(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(so=ia()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,vs(t,i)));break;case 22:l=t.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,q=Ca,J=Wt;if(Ca=q||l,Wt=J||U,Ee(e,t),Wt=J,Ca=q,Re(t),i&8192&&(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(a===null||U||Ca||Wt||Ia(t)),Ce)){t:if(a=null,Ce)for(e=t;;){if(e.tag===5||na&&e.tag===26){if(a===null){U=a=e;try{h=U.stateNode,l?m1(h):y1(U.stateNode,U.memoizedProps)}catch(lt){Pt(U,U.return,lt)}}}else if(e.tag===6){if(a===null){U=e;try{var nt=U.stateNode;l?v1(nt):_1(nt,U.memoizedProps)}catch(lt){Pt(U,U.return,lt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}}i&4&&(i=t.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,vs(t,a))));break;case 19:Ee(e,t),Re(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,vs(t,i)));break;case 30:break;case 21:break;default:Ee(e,t),Re(t)}}function Re(t){var e=t.flags;if(e&2){try{if(Ce){for(var a,i=t.return;i!==null;){if(Sc(i)){a=i;break}i=i.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:if(re){var l=a.stateNode,h=gs(t);Br(t,h,l);break}case 5:var U=a.stateNode;a.flags&32&&(fh(U),a.flags&=-33);var q=gs(t);Br(t,q,U);break;case 3:case 4:var J=a.stateNode.containerInfo,nt=gs(t);ps(t,nt,J);break;default:throw Error(u(161))}}}catch(lt){Pt(t,t.return,lt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nc(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Nc(e),e.tag===5&&e.flags&1024&&If(e.stateNode),t=t.sibling}}function Ua(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ac(t,e.alternate,e),e=e.sibling}function Ia(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ga(4,e,e.return),Ia(e);break;case 1:la(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&yc(e,e.return,a),Ia(e);break;case 27:re&&Mh(e.stateNode);case 26:case 5:la(e,e.return),Ia(e);break;case 22:e.memoizedState===null&&Ia(e);break;case 30:Ia(e);break;default:Ia(e)}t=t.sibling}}function za(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,h=e,U=h.flags;switch(h.tag){case 0:case 11:case 15:za(l,h,a),ri(4,h);break;case 1:if(za(l,h,a),i=h,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(nt){Pt(i,i.return,nt)}if(i=h,l=i.updateQueue,l!==null){var q=i.stateNode;try{var J=l.shared.hiddenCallbacks;if(J!==null)for(l.shared.hiddenCallbacks=null,l=0;l<J.length;l++)ou(J[l],q)}catch(nt){Pt(i,i.return,nt)}}a&&U&64&&vc(h),li(h,h.return);break;case 27:re&&Cc(h);case 26:case 5:za(l,h,a),a&&i===null&&U&4&&_c(h),li(h,h.return);break;case 12:za(l,h,a);break;case 13:za(l,h,a),a&&U&4&&xc(l,h);break;case 22:h.memoizedState===null&&za(l,h,a),li(h,h.return);break;case 30:break;default:za(l,h,a)}e=e.sibling}}function ys(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$t(a))}function _s(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&$t(t))}function sa(t,e,a,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rc(t,e,a,i),e=e.sibling}function Rc(t,e,a,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:sa(t,e,a,i),l&2048&&ri(9,e);break;case 1:sa(t,e,a,i);break;case 3:sa(t,e,a,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&$t(t)));break;case 12:if(l&2048){sa(t,e,a,i),t=e.stateNode;try{var h=e.memoizedProps,U=h.id,q=h.onPostCommit;typeof q=="function"&&q(U,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(J){Pt(e,e.return,J)}}else sa(t,e,a,i);break;case 13:sa(t,e,a,i);break;case 23:break;case 22:h=e.stateNode,U=e.alternate,e.memoizedState!==null?h._visibility&2?sa(t,e,a,i):si(t,e):h._visibility&2?sa(t,e,a,i):(h._visibility|=2,mn(t,e,a,i,(e.subtreeFlags&10256)!==0)),l&2048&&ys(U,e);break;case 24:sa(t,e,a,i),l&2048&&_s(e.alternate,e);break;default:sa(t,e,a,i)}}function mn(t,e,a,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,U=e,q=a,J=i,nt=U.flags;switch(U.tag){case 0:case 11:case 15:mn(h,U,q,J,l),ri(8,U);break;case 23:break;case 22:var lt=U.stateNode;U.memoizedState!==null?lt._visibility&2?mn(h,U,q,J,l):si(h,U):(lt._visibility|=2,mn(h,U,q,J,l)),l&&nt&2048&&ys(U.alternate,U);break;case 24:mn(h,U,q,J,l),l&&nt&2048&&_s(U.alternate,U);break;default:mn(h,U,q,J,l)}e=e.sibling}}function si(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,i=e,l=i.flags;switch(i.tag){case 22:si(a,i),l&2048&&ys(i.alternate,i);break;case 24:si(a,i),l&2048&&_s(i.alternate,i);break;default:si(a,i)}e=e.sibling}}function $a(t){if(t.subtreeFlags&Ln)for(t=t.child;t!==null;)Mc(t),t=t.sibling}function Mc(t){switch(t.tag){case 26:$a(t),t.flags&Ln&&(t.memoizedState!==null?Z1(ra,t.memoizedState,t.memoizedProps):dh(t.type,t.memoizedProps));break;case 5:$a(t),t.flags&Ln&&dh(t.type,t.memoizedProps);break;case 3:case 4:if(na){var e=ra;ra=Fs(t.stateNode.containerInfo),$a(t),ra=e}else $a(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ln,Ln=16777216,$a(t),Ln=e):$a(t));break;default:$a(t)}}function Oc(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function oi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var i=e[a];he=i,Gc(i,t)}Oc(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dc(t),t=t.sibling}function Dc(t){switch(t.tag){case 0:case 11:case 15:oi(t),t.flags&2048&&Ga(9,t,t.return);break;case 3:oi(t);break;case 12:oi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wr(t)):oi(t);break;default:oi(t)}}function wr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var i=e[a];he=i,Gc(i,t)}Oc(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ga(8,e,e.return),wr(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,wr(e));break;default:wr(e)}t=t.sibling}}function Gc(t,e){for(;he!==null;){var a=he;switch(a.tag){case 0:case 11:case 15:Ga(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$t(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,he=i;else t:for(a=t;he!==null;){i=he;var l=i.sibling,h=i.return;if(Ec(i),i===a){he=null;break t}if(l!==null){l.return=h,he=l;break t}he=h}}}function Ss(t){var e=Yf(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(u(364));return e}if(t=e1(t),t===null)throw Error(u(362));return t.stateNode.current}function bs(t,e){var a=t.tag;switch(e.$$typeof){case nl:if(t.type===e.value)return!0;break;case il:t:{for(e=e.value,t=[t,0],a=0;a<t.length;){var i=t[a++],l=i.tag,h=t[a++],U=e[h];if(l!==5&&l!==26&&l!==27||!di(i)){for(;U!=null&&bs(i,U);)h++,U=e[h];if(h===e.length){e=!0;break t}else for(i=i.child;i!==null;)t.push(i,h),i=i.sibling}}e=!1}return e;case rl:if((a===5||a===26||a===27)&&i1(t.stateNode,e.value))return!0;break;case sl:if((a===5||a===6||a===26||a===27)&&(t=n1(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case ll:if((a===5||a===26||a===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function Cs(t){switch(t.$$typeof){case nl:return"<"+(A(t.value)||"Unknown")+">";case il:return":has("+(Cs(t)||"")+")";case rl:return'[role="'+t.value+'"]';case sl:return'"'+t.value+'"';case ll:return'[data-testname="'+t.value+'"]';default:throw Error(u(365))}}function Uc(t,e){var a=[];t=[t,0];for(var i=0;i<t.length;){var l=t[i++],h=l.tag,U=t[i++],q=e[U];if(h!==5&&h!==26&&h!==27||!di(l)){for(;q!=null&&bs(l,q);)U++,q=e[U];if(U===e.length)a.push(l);else for(l=l.child;l!==null;)t.push(l,U),l=l.sibling}}return a}function As(t,e){if(!hi)throw Error(u(363));t=Ss(t),t=Uc(t,e),e=[],t=Array.from(t);for(var a=0;a<t.length;){var i=t[a++],l=i.tag;if(l===5||l===26||l===27)di(i)||e.push(i.stateNode);else for(i=i.child;i!==null;)t.push(i),i=i.sibling}return e}function Pe(){if((Rt&2)!==0&&Mt!==0)return Mt&-Mt;if(pt.T!==null){var t=Mn;return t!==0?t:Jn()}return Xf()}function zc(){$e===0&&($e=(Mt&536870912)===0||Bt?x():536870912);var t=Ie.current;return t!==null&&(t.flags|=32),$e}function Ve(t,e,a){(t===jt&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)&&(vn(t,0),Ba(t,Mt,$e,!1)),P(t,a),((Rt&2)===0||t!==jt)&&(t===jt&&((Rt&2)===0&&(un|=a),kt===4&&Ba(t,Mt,$e,!1)),ie(t))}function Bc(t,e,a){if((Rt&6)!==0)throw Error(u(327));var i=!a&&(e&124)===0&&(e&t.expiredLanes)===0||_(t,e),l=i?Cf(t,e):Ts(t,e,!0),h=i;do{if(l===0){Pn&&!i&&Ba(t,e,0,!1);break}else{if(a=t.current.alternate,h&&!Sf(a)){l=Ts(t,e,!1),h=!1;continue}if(l===2){if(h=e,t.errorRecoveryDisabledLanes&h)var U=0;else U=t.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){e=U;t:{var q=t;l=Si;var J=ke&&q.current.memoizedState.isDehydrated;if(J&&(vn(q,U).flags|=256),U=Ts(q,U,!1),U!==2){if(io&&!J){q.errorRecoveryDisabledLanes|=h,un|=h,l=4;break t}h=Oe,Oe=l,h!==null&&(Oe===null?Oe=h:Oe.push.apply(Oe,h))}l=U}if(h=!1,l!==2)continue}}if(l===1){vn(t,0),Ba(t,e,0,!0);break}t:{switch(i=t,h=l,h){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:Ba(i,e,$e,!Fa);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(l=so+300-ia(),10<l)){if(Ba(i,e,$e,!Fa),O(i,0,!0)!==0)break t;i.timeoutHandle=Ff(wc.bind(null,i,a,Oe,ol,lo,e,$e,un,Vn,Fa,h,2,-0,0),l);break t}wc(i,a,Oe,ol,lo,e,$e,un,Vn,Fa,h,0,-0,0)}}break}while(!0);ie(t)}function wc(t,e,a,i,l,h,U,q,J,nt,lt,ct,ht,bt){if(t.timeoutHandle=en,ct=e.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Jf(),Mc(e),ct=Wf(),ct!==null)){t.cancelPendingCommit=ct(Kc.bind(null,t,e,h,a,i,l,U,q,J,lt,1,ht,bt)),Ba(t,h,U,!nt);return}Kc(t,e,h,a,i,l,U,q,J)}function Sf(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var l=a[i],h=l.getSnapshot;l=l.value;try{if(!Ye(h(),l))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e,a,i){e&=~ro,e&=~un,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var h=31-Fe(l),U=1<<h;i[h]=-1,l&=~U}a!==0&&D(t,a,e)}function Hc(){return(Rt&6)===0?(oe(0),!1):!0}function Es(){if(xt!==null){if(Vt===0)var t=xt.return;else t=xt,ba=ln=null,Yl(t),wn=null,yi=0,t=xt;for(;t!==null;)mc(t.alternate,t),t=t.return;xt=null}}function vn(t,e){var a=t.timeoutHandle;a!==en&&(t.timeoutHandle=en,jf(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Es(),jt=t,xt=a=ma(t.current,null),Mt=e,Vt=0,Ke=null,Fa=!1,Pn=_(t,e),io=!1,Vn=$e=ro=un=ja=kt=0,Oe=Si=null,lo=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-Fe(i),h=1<<l;e|=t[l],i&=~h}return Aa=e,Sr(),a}function Lc(t,e){Ct=null,pt.H=al,e===mi||e===Wr?(e=ru(),Vt=3):e===Is?(e=ru(),Vt=4):Vt=e===Ph?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ke=e,xt===null&&(kt=1,Dr(t,M(e,t.current)))}function Pc(){var t=Ie.current;return t===null?!0:(Mt&4194048)===Mt?ua===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===ua:!1}function Vc(){var t=pt.H;return pt.H=al,t===null?al:t}function qc(){var t=pt.A;return pt.A=h2,t}function xs(){kt=4,Fa||(Mt&4194048)!==Mt&&Ie.current!==null||(Pn=!0),(ja&134217727)===0&&(un&134217727)===0||jt===null||Ba(jt,Mt,$e,!1)}function Ts(t,e,a){var i=Rt;Rt|=2;var l=Vc(),h=qc();(jt!==t||Mt!==e)&&(ol=null,vn(t,e)),e=!1;var U=kt;t:do try{if(Vt!==0&&xt!==null){var q=xt,J=Ke;switch(Vt){case 8:Es(),U=6;break t;case 3:case 2:case 9:case 6:Ie.current===null&&(e=!0);var nt=Vt;if(Vt=0,Ke=null,yn(t,q,J,nt),a&&Pn){U=0;break t}break;default:nt=Vt,Vt=0,Ke=null,yn(t,q,J,nt)}}bf(),U=kt;break}catch(lt){Lc(t,lt)}while(!0);return e&&t.shellSuspendCounter++,ba=ln=null,Rt=i,pt.H=l,pt.A=h,xt===null&&(jt=null,Mt=0,Sr()),U}function bf(){for(;xt!==null;)Fc(xt)}function Cf(t,e){var a=Rt;Rt|=2;var i=Vc(),l=qc();jt!==t||Mt!==e?(ol=null,bi=ia()+500,vn(t,e)):Pn=_(t,e);t:do try{if(Vt!==0&&xt!==null){e=xt;var h=Ke;e:switch(Vt){case 1:Vt=0,Ke=null,yn(t,e,h,1);break;case 2:case 9:if(nu(h)){Vt=0,Ke=null,jc(e);break}e=function(){Vt!==2&&Vt!==9||jt!==t||(Vt=7),ie(t)},h.then(e,e);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:nu(h)?(Vt=0,Ke=null,jc(e)):(Vt=0,Ke=null,yn(t,e,h,7));break;case 5:var U=null;switch(xt.tag){case 26:U=xt.memoizedState;case 5:case 27:var q=xt,J=q.type,nt=q.pendingProps;if(U?Nh(U):hh(J,nt)){Vt=0,Ke=null;var lt=q.sibling;if(lt!==null)xt=lt;else{var ct=q.return;ct!==null?(xt=ct,Hr(ct)):xt=null}break e}}Vt=0,Ke=null,yn(t,e,h,5);break;case 6:Vt=0,Ke=null,yn(t,e,h,6);break;case 8:Es(),kt=6;break t;default:throw Error(u(462))}}Af();break}catch(ht){Lc(t,ht)}while(!0);return ba=ln=null,pt.H=i,pt.A=l,Rt=a,xt!==null?0:(jt=null,Mt=0,Sr(),kt)}function Af(){for(;xt!==null&&!$1();)Fc(xt)}function Fc(t){var e=hc(t.alternate,t,Aa);t.memoizedProps=t.pendingProps,e===null?Hr(t):xt=e}function jc(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=rc(a,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=rc(a,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:Yl(e);default:mc(a,e),e=xt=$c(e,Aa),e=hc(a,e,Aa)}t.memoizedProps=t.pendingProps,e===null?Hr(t):xt=e}function yn(t,e,a,i){ba=ln=null,Yl(e),wn=null,yi=0;var l=e.return;try{if(gf(t,l,e,a,Mt)){kt=1,Dr(t,M(a,t.current)),xt=null;return}}catch(h){if(l!==null)throw xt=l,h;kt=1,Dr(t,M(a,t.current)),xt=null;return}e.flags&32768?(Bt||i===1?t=!0:Pn||(Mt&536870912)!==0?t=!1:(Fa=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ie.current,i!==null&&i.tag===13&&(i.flags|=16384))),Yc(e,t)):Hr(e)}function Hr(t){var e=t;do{if((e.flags&32768)!==0){Yc(e,Fa);return}t=e.return;var a=mf(e.alternate,e,Aa);if(a!==null){xt=a;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);kt===0&&(kt=5)}function Yc(t,e){do{var a=vf(t.alternate,t);if(a!==null){a.flags&=32767,xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=a}while(t!==null);kt=6,xt=null}function Kc(t,e,a,i,l,h,U,q,J){t.cancelPendingCommit=null;do ui();while(_e!==0);if((Rt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(h=e.lanes|e.childLanes,h|=$s,R(t,a,h,U,q,J),t===jt&&(xt=jt=null,Mt=0),qn=e,Ka=t,Fn=a,oo=h,uo=l,qh=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nf(Ks,function(){return Jc(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=pt.T,pt.T=null,l=ya(),ue(2),U=Rt,Rt|=4;try{yf(t,e,a)}finally{Rt=U,ue(l),pt.T=i}}_e=1,Xc(),Qc(),kc()}}function Xc(){if(_e===1){_e=0;var t=Ka,e=qn,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=pt.T,pt.T=null;var i=ya();ue(2);var l=Rt;Rt|=4;try{Tc(e,t),Vf(t.containerInfo)}finally{Rt=l,ue(i),pt.T=a}}t.current=e,_e=2}}function Qc(){if(_e===2){_e=0;var t=Ka,e=qn,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=pt.T,pt.T=null;var i=ya();ue(2);var l=Rt;Rt|=4;try{Ac(t,e.alternate,e)}finally{Rt=l,ue(i),pt.T=a}}_e=3}}function kc(){if(_e===4||_e===3){_e=0,t2();var t=Ka,e=qn,a=Fn,i=qh;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?_e=5:(_e=0,qn=Ka=null,Zc(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Ya=null),F(a),e=e.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=pt.T,l=ya(),ue(2),pt.T=null;try{for(var h=t.onRecoverableError,U=0;U<i.length;U++){var q=i[U];h(q.value,{componentStack:q.stack})}}finally{pt.T=e,ue(l)}}(Fn&3)!==0&&ui(),ie(t),l=t.pendingLanes,(a&4194090)!==0&&(l&42)!==0?t===co?Ci++:(Ci=0,co=t):Ci=0,oe(0)}}function Zc(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,$t(e)))}function ui(t){return Xc(),Qc(),kc(),Jc()}function Jc(){if(_e!==5)return!1;var t=Ka,e=oo;oo=0;var a=F(Fn),i=32>a?32:a;a=pt.T;var l=ya();try{ue(i),pt.T=null,i=uo,uo=null;var h=Ka,U=Fn;if(_e=0,qn=Ka=null,Fn=0,(Rt&6)!==0)throw Error(u(331));var q=Rt;if(Rt|=4,Dc(h.current),Rc(h,h.current,U,i),Rt=q,oe(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(fi,h)}catch{}return!0}finally{ue(l),pt.T=a,Zc(t,e)}}function Wc(t,e,a){e=M(a,e),e=as(t.stateNode,e,2),t=Ma(t,e,2),t!==null&&(P(t,2),ie(t))}function Pt(t,e,a){if(t.tag===3)Wc(t,t,a);else for(;e!==null;){if(e.tag===3){Wc(e,t,a);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ya===null||!Ya.has(i))){t=M(a,t),a=Iu(2),i=Ma(e,a,2),i!==null&&($u(a,i,e,t),P(i,2),ie(i));break}}e=e.return}}function Ns(t,e,a){var i=t.pingCache;if(i===null){i=t.pingCache=new d2;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(a)||(io=!0,l.add(a),t=Ef.bind(null,t,e,a),e.then(t,t))}function Ef(t,e,a){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,jt===t&&(Mt&a)===a&&(kt===4||kt===3&&(Mt&62914560)===Mt&&300>ia()-so?(Rt&2)===0&&vn(t,0):ro|=a,Vn===Mt&&(Vn=0)),ie(t)}function Ic(t,e){e===0&&(e=E()),t=gn(t,e),t!==null&&(P(t,e),ie(t))}function xf(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),Ic(t,a)}function Tf(t,e){var a=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(a=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(u(314))}i!==null&&i.delete(e),Ic(t,a)}function Nf(t,e){return Yr(t,e)}function Rf(t,e,a,i){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ma(t,e){var a=t.alternate;return a===null?(a=p(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $c(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Lr(t,e,a,i,l,h){var U=0;if(i=t,typeof t=="function")Rs(t)&&(U=1);else if(typeof t=="string")U=na&&re?bh(t,a,ye.current)?26:Oh(t)?27:5:na?bh(t,a,ye.current)?26:5:re&&Oh(t)?27:5;else t:switch(t){case Ls:return t=p(31,a,e,l),t.elementType=Ls,t.lanes=h,t;case Sn:return tn(a.children,l,h,e);case rh:U=8,l|=24;break;case Us:return t=p(12,a,e,l|2),t.elementType=Us,t.lanes=h,t;case Bs:return t=p(13,a,e,l),t.elementType=Bs,t.lanes=h,t;case ws:return t=p(19,a,e,l),t.elementType=ws,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gf:case wa:U=10;break t;case lh:U=9;break t;case zs:U=11;break t;case Hs:U=14;break t;case Ha:U=16,i=null;break t}U=29,a=Error(u(130,t===null?"null":typeof t,"")),i=null}return e=p(U,a,e,l),e.elementType=t,e.type=i,e.lanes=h,e}function tn(t,e,a,i){return t=p(7,t,i,e),t.lanes=a,t}function Ms(t,e,a){return t=p(6,t,null,e),t.lanes=a,t}function Os(t,e,a){return e=p(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mf(t,e,a,i,l,h,U,q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=en,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=h,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function th(t,e,a,i,l,h,U,q,J,nt,lt,ct){return t=new Mf(t,e,a,U,q,J,nt,ct),e=1,h===!0&&(e|=24),h=p(3,null,null,e),t.current=h,h.stateNode=t,e=ea(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:i,isDehydrated:a,cache:e},Bl(h),t}function eh(t){return t?(t=En,t):En}function ah(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=d(e),t=t!==null?f(t):null,t===null?null:ci(t.stateNode)}function nh(t,e,a,i,l,h){l=eh(l),i.context===null?i.context=l:i.pendingContext=l,i=Ra(e),i.payload={element:a},h=h===void 0?null:h,h!==null&&(i.callback=h),a=Ma(t,i,e),a!==null&&(Ve(a,t,e),Wn(a,t,e))}function ih(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Ds(t,e){ih(t,e),(t=t.alternate)&&ih(t,e)}var Et={},Of=g2(),qe=b0(),Gs=Object.assign,Df=Symbol.for("react.element"),Pr=Symbol.for("react.transitional.element"),_n=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),Us=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),lh=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),zs=Symbol.for("react.forward_ref"),Bs=Symbol.for("react.suspense"),ws=Symbol.for("react.suspense_list"),Hs=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ls=Symbol.for("react.activity"),Uf=Symbol.for("react.memo_cache_sentinel"),sh=Symbol.iterator,zf=Symbol.for("react.client.reference"),Vr=Array.isArray,pt=Of.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bf=r.rendererVersion,wf=r.rendererPackageName,oh=r.extraDevToolsConfig,ci=r.getPublicInstance,Hf=r.getRootHostContext,Lf=r.getChildHostContext,Pf=r.prepareForCommit,Vf=r.resetAfterCommit,qf=r.createInstance;r.cloneMutableInstance;var Ps=r.appendInitialChild,uh=r.finalizeInitialChildren,qr=r.shouldSetTextContent,ch=r.createTextInstance;r.cloneMutableTextInstance;var Ff=r.scheduleTimeout,jf=r.cancelTimeout,en=r.noTimeout,va=r.isPrimaryRenderer;r.warnsIfNotActing;var Ce=r.supportsMutation,La=r.supportsPersistence,ke=r.supportsHydration,Yf=r.getInstanceFromNode;r.beforeActiveInstanceBlur;var Kf=r.preparePortalMount;r.prepareScopeUpdate,r.getInstanceFromScope;var ue=r.setCurrentUpdatePriority,ya=r.getCurrentUpdatePriority,Xf=r.resolveUpdatePriority;r.trackSchedulerEvent,r.resolveEventType,r.resolveEventTimeStamp;var Qf=r.shouldAttemptEagerTransition,kf=r.detachDeletedInstance;r.requestPostPaintCallback;var Zf=r.maySuspendCommit,hh=r.preloadInstance,Jf=r.startSuspendingCommit,dh=r.suspendInstance;r.suspendOnActiveViewTransition;var Wf=r.waitForCommitToBeReady,bn=r.NotPendingTransition,an=r.HostTransitionContext,If=r.resetFormInstance;r.bindToConsole;var $f=r.supportsMicrotasks,t1=r.scheduleMicrotask,hi=r.supportsTestSelectors,e1=r.findFiberRoot,a1=r.getBoundingRect,n1=r.getTextContent,di=r.isHiddenSubtree,i1=r.matchAccessibilityRole,r1=r.setFocusIfFocusable,l1=r.setupIntersectionObserver,s1=r.appendChild,o1=r.appendChildToContainer,u1=r.commitTextUpdate,c1=r.commitMount,h1=r.commitUpdate,d1=r.insertBefore,f1=r.insertInContainerBefore,g1=r.removeChild,p1=r.removeChildFromContainer,fh=r.resetTextContent,m1=r.hideInstance,v1=r.hideTextInstance,y1=r.unhideInstance,_1=r.unhideTextInstance;r.cancelViewTransitionName,r.cancelRootViewTransitionName,r.restoreRootViewTransitionName,r.cloneRootViewTransitionContainer,r.removeRootViewTransitionClone,r.measureClonedInstance,r.hasInstanceChanged,r.hasInstanceAffectedParent,r.startViewTransition,r.startGestureTransition,r.stopGestureTransition,r.getCurrentGestureOffset,r.subscribeToGestureDirection,r.createViewTransitionInstance;var S1=r.clearContainer;r.createFragmentInstance,r.updateFragmentInstanceFiber,r.commitNewChildToFragmentInstance,r.deleteChildFromFragmentInstance;var b1=r.cloneInstance,gh=r.createContainerChildSet,ph=r.appendChildToContainerChildSet,C1=r.finalizeContainerChildren,mh=r.replaceContainerChildren,vh=r.cloneHiddenInstance,yh=r.cloneHiddenTextInstance,Vs=r.isSuspenseInstancePending,qs=r.isSuspenseInstanceFallback,A1=r.getSuspenseInstanceFallbackErrorDetails,E1=r.registerSuspenseInstanceRetry,x1=r.canHydrateFormStateMarker,T1=r.isFormStateMarkerMatching,_h=r.getNextHydratableSibling,N1=r.getNextHydratableSiblingAfterSingleton,R1=r.getFirstHydratableChild,M1=r.getFirstHydratableChildWithinContainer,O1=r.getFirstHydratableChildWithinSuspenseInstance,D1=r.getFirstHydratableChildWithinSingleton,G1=r.canHydrateInstance,U1=r.canHydrateTextInstance,z1=r.canHydrateSuspenseInstance,B1=r.hydrateInstance,w1=r.hydrateTextInstance,H1=r.hydrateSuspenseInstance,L1=r.getNextHydratableInstanceAfterSuspenseInstance,P1=r.commitHydratedContainer,V1=r.commitHydratedSuspenseInstance,q1=r.clearSuspenseBoundary,F1=r.clearSuspenseBoundaryFromContainer,Sh=r.shouldDeleteUnhydratedTailInstances;r.diffHydratedPropsForDevWarnings,r.diffHydratedTextForDevWarnings,r.describeHydratableInstanceForDevWarnings;var j1=r.validateHydratableInstance,Y1=r.validateHydratableTextInstance,na=r.supportsResources,bh=r.isHostHoistableType,Fs=r.getHoistableRoot,Ch=r.getResource,Ah=r.acquireResource,Eh=r.releaseResource,K1=r.hydrateHoistable,xh=r.mountHoistable,Th=r.unmountHoistable,X1=r.createHoistableInstance,Q1=r.prepareToCommitHoistables,k1=r.mayResourceSuspendCommit,Nh=r.preloadResource,Z1=r.suspendResource,re=r.supportsSingletons,Rh=r.resolveSingletonInstance,J1=r.acquireSingletonInstance,Mh=r.releaseSingletonInstance,Oh=r.isHostSingletonType,Cn=r.isSingletonScope,js=[],An=-1,En={},Fe=Math.clz32?Math.clz32:C,W1=Math.log,I1=Math.LN2,Fr=256,jr=4194304,Yr=qe.unstable_scheduleCallback,Ys=qe.unstable_cancelCallback,$1=qe.unstable_shouldYield,t2=qe.unstable_requestPaint,ia=qe.unstable_now,Dh=qe.unstable_ImmediatePriority,e2=qe.unstable_UserBlockingPriority,Ks=qe.unstable_NormalPriority,a2=qe.unstable_IdlePriority,n2=qe.log,i2=qe.unstable_setDisableYieldValue,fi=null,je=null,Xs,Gh,Qs=!1,Uh=new WeakMap,xn=[],Tn=0,Kr=null,Xr=0,Ze=[],Je=0,nn=null,_a=1,Sa="",ye=b(null),gi=b(null),Pa=b(null),Qr=b(null),xe=null,le=null,Bt=!1,rn=null,oa=!1,ks=Error(u(519)),Ye=typeof Object.is=="function"?Object.is:Ut,kr=b(null),ln=null,ba=null,r2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},l2=qe.unstable_scheduleCallback,s2=qe.unstable_NormalPriority,Qt={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Zr=null,Nn=null,Zs=!1,Jr=!1,Js=!1,Rn=0,pi=null,Ws=0,Mn=0,On=null,zh=pt.S;pt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Gl(t,e),zh!==null&&zh(t,e)};var sn=b(null),o2=Object.prototype.hasOwnProperty,mi=Error(u(460)),Is=Error(u(474)),Wr=Error(u(542)),Ir={then:function(){}},Dn=null,We=[],Gn=0,$s=0,Va=!1,to=!1,Un=b(null),$r=b(0),qa=0,Ct=null,qt=null,ee=null,tl=!1,zn=!1,on=!1,el=0,vi=0,Bn=null,u2=0,al={readContext:St,use:Ar,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},Bh={readContext:St,use:Ar,useCallback:function(t,e){return Ne().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:Ou,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,Tr(4194308,4,zu.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Tr(4194308,4,t,e)},useInsertionEffect:function(t,e){Tr(4,2,t,e)},useMemo:function(t,e){var a=Ne();e=e===void 0?null:e;var i=t();if(on){K(!0);try{t()}finally{K(!1)}}return a.memoizedState=[i,e],i},useReducer:function(t,e,a){var i=Ne();if(a!==void 0){var l=a(e);if(on){K(!0);try{a(e)}finally{K(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=ff.bind(null,Ct,t),[i.memoizedState,t]},useRef:function(t){var e=Ne();return t={current:t},e.memoizedState=t},useState:function(t){t=Zl(t);var e=t.queue,a=ju.bind(null,Ct,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:Wl,useDeferredValue:function(t,e){var a=Ne();return Il(a,t,e)},useTransition:function(){var t=Zl(!1);return t=Pu.bind(null,Ct,t.queue,!0,!1),Ne().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var i=Ct,l=Ne();if(Bt){if(a===void 0)throw Error(u(407));a=a()}else{if(a=e(),jt===null)throw Error(u(349));(Mt&124)!==0||gu(i,e,a)}l.memoizedState=a;var h={value:a,getSnapshot:e};return l.queue=h,Ou(mu.bind(null,i,h,t),[t]),i.flags|=2048,pn(9,xr(),pu.bind(null,i,h,a,e),null),a},useId:function(){var t=Ne(),e=jt.identifierPrefix;if(Bt){var a=Sa,i=_a;a=(i&~(1<<32-Fe(i)-1)).toString(32)+a,e="«"+e+"R"+a,a=el++,0<a&&(e+="H"+a.toString(32)),e+="»"}else a=u2++,e="«"+e+"r"+a.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:$l,useFormState:xu,useActionState:xu,useOptimistic:function(t){var e=Ne();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=ts.bind(null,Ct,!0,a),a.dispatch=e,[t,e]},useMemoCache:Xl,useCacheRefresh:function(){return Ne().memoizedState=df.bind(null,Ct)}},wh={readContext:St,use:Ar,useCallback:wu,useContext:St,useEffect:Du,useImperativeHandle:Bu,useInsertionEffect:Gu,useLayoutEffect:Uu,useMemo:Hu,useReducer:Er,useRef:Mu,useState:function(){return Er(fa)},useDebugValue:Wl,useDeferredValue:function(t,e){var a=te();return Lu(a,qt.memoizedState,t,e)},useTransition:function(){var t=Er(fa)[0],e=te().memoizedState;return[typeof t=="boolean"?t:ti(t),e]},useSyncExternalStore:fu,useId:qu,useHostTransitionStatus:$l,useFormState:Tu,useActionState:Tu,useOptimistic:function(t,e){var a=te();return _u(a,qt,t,e)},useMemoCache:Xl,useCacheRefresh:Fu},c2={readContext:St,use:Ar,useCallback:wu,useContext:St,useEffect:Du,useImperativeHandle:Bu,useInsertionEffect:Gu,useLayoutEffect:Uu,useMemo:Hu,useReducer:kl,useRef:Mu,useState:function(){return kl(fa)},useDebugValue:Wl,useDeferredValue:function(t,e){var a=te();return qt===null?Il(a,t,e):Lu(a,qt.memoizedState,t,e)},useTransition:function(){var t=kl(fa)[0],e=te().memoizedState;return[typeof t=="boolean"?t:ti(t),e]},useSyncExternalStore:fu,useId:qu,useHostTransitionStatus:$l,useFormState:Ru,useActionState:Ru,useOptimistic:function(t,e){var a=te();return qt!==null?_u(a,qt,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xl,useCacheRefresh:Fu},wn=null,yi=0,Hn=Qu(!0),Hh=Qu(!1),Ie=b(null),ua=null,se=b(0),eo={enqueueSetState:function(t,e,a){t=t._reactInternals;var i=Pe(),l=Ra(i);l.payload=e,a!=null&&(l.callback=a),e=Ma(t,l,i),e!==null&&(Ve(e,t,i),Wn(e,t,i))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var i=Pe(),l=Ra(i);l.tag=1,l.payload=e,a!=null&&(l.callback=a),e=Ma(t,l,i),e!==null&&(Ve(e,t,i),Wn(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Pe(),i=Ra(a);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,a),e!==null&&(Ve(e,t,a),Wn(e,t,a))}},Lh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ph=Error(u(461)),ce=!1,ao={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ca=!1,Wt=!1,no=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,he=null,ae=null,Me=!1,ra=null,Ln=8192,h2={getCacheForType:function(t){var e=St(Qt),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a}},nl=0,il=1,rl=2,ll=3,sl=4;if(typeof Symbol=="function"&&Symbol.for){var _i=Symbol.for;nl=_i("selector.component"),il=_i("selector.has_pseudo_class"),rl=_i("selector.role"),ll=_i("selector.test_id"),sl=_i("selector.text")}var d2=typeof WeakMap=="function"?WeakMap:Map,Rt=0,jt=null,xt=null,Mt=0,Vt=0,Ke=null,Fa=!1,Pn=!1,io=!1,Aa=0,kt=0,ja=0,un=0,ro=0,$e=0,Vn=0,Si=null,Oe=null,lo=!1,so=0,bi=1/0,ol=null,Ya=null,_e=0,Ka=null,qn=null,Fn=0,oo=0,uo=null,qh=null,Ci=0,co=null;return Et.attemptContinuousHydration=function(t){if(t.tag===13){var e=gn(t,67108864);e!==null&&Ve(e,t,67108864),Ds(t,67108864)}},Et.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=Pe();e=L(e);var a=gn(t,e);a!==null&&Ve(a,t,e),Ds(t,e)}},Et.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=T(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var a=1<<31-Fe(e);t.entanglements[1]|=a,e&=~a}ie(t),(Rt&6)===0&&(bi=ia()+500,oe(0))}}break;case 13:e=gn(t,2),e!==null&&Ve(e,t,2),Hc(),Ds(t,2)}},Et.batchedUpdates=function(t,e){return t(e)},Et.createComponentSelector=function(t){return{$$typeof:nl,value:t}},Et.createContainer=function(t,e,a,i,l,h,U,q,J,nt){return th(t,e,!1,null,a,i,h,U,q,J,nt,null)},Et.createHasPseudoClassSelector=function(t){return{$$typeof:il,value:t}},Et.createHydrationContainer=function(t,e,a,i,l,h,U,q,J,nt,lt,ct,ht){return t=th(a,i,!0,t,l,h,q,J,nt,lt,ct,ht),t.context=eh(null),a=t.current,i=Pe(),i=L(i),l=Ra(i),l.callback=e??null,Ma(a,l,i),e=i,t.current.lanes=e,P(t,e),ie(t),t},Et.createPortal=function(t,e,a){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:i==null?null:""+i,children:t,containerInfo:e,implementation:a}},Et.createRoleSelector=function(t){return{$$typeof:rl,value:t}},Et.createTestNameSelector=function(t){return{$$typeof:ll,value:t}},Et.createTextSelector=function(t){return{$$typeof:sl,value:t}},Et.defaultOnCaughtError=function(t){console.error(t)},Et.defaultOnRecoverableError=function(t){Lh(t)},Et.defaultOnUncaughtError=function(t){Lh(t)},Et.deferredUpdates=function(t){var e=pt.T,a=ya();try{return ue(32),pt.T=null,t()}finally{ue(a),pt.T=e}},Et.discreteUpdates=function(t,e,a,i,l){var h=pt.T,U=ya();try{return ue(2),pt.T=null,t(e,a,i,l)}finally{ue(U),pt.T=h,Rt===0&&(bi=ia()+500)}},Et.findAllNodes=As,Et.findBoundingRects=function(t,e){if(!hi)throw Error(u(363));e=As(t,e),t=[];for(var a=0;a<e.length;a++)t.push(a1(e[a]));for(e=t.length-1;0<e;e--){a=t[e];for(var i=a.x,l=i+a.width,h=a.y,U=h+a.height,q=e-1;0<=q;q--)if(e!==q){var J=t[q],nt=J.x,lt=nt+J.width,ct=J.y,ht=ct+J.height;if(i>=nt&&h>=ct&&l<=lt&&U<=ht){t.splice(e,1);break}else if(i!==nt||a.width!==J.width||ht<h||ct>U){if(!(h!==ct||a.height!==J.height||lt<i||nt>l)){nt>i&&(J.width+=nt-i,J.x=i),lt<l&&(J.width=l-nt),t.splice(e,1);break}}else{ct>h&&(J.height+=ct-h,J.y=h),ht<U&&(J.height=U-ct),t.splice(e,1);break}}}return t},Et.findHostInstance=ah,Et.findHostInstanceWithNoPortals=function(t){return t=d(t),t=t!==null?S(t):null,t===null?null:ci(t.stateNode)},Et.findHostInstanceWithWarning=function(t){return ah(t)},Et.flushPassiveEffects=ui,Et.flushSyncFromReconciler=function(t){var e=Rt;Rt|=1;var a=pt.T,i=ya();try{if(ue(2),pt.T=null,t)return t()}finally{ue(i),pt.T=a,Rt=e,(Rt&6)===0&&oe(0)}},Et.flushSyncWork=Hc,Et.focusWithin=function(t,e){if(!hi)throw Error(u(363));for(t=Ss(t),e=Uc(t,e),e=Array.from(e),t=0;t<e.length;){var a=e[t++],i=a.tag;if(!di(a)){if((i===5||i===26||i===27)&&r1(a.stateNode))return!0;for(a=a.child;a!==null;)e.push(a),a=a.sibling}}return!1},Et.getFindAllNodesFailureDescription=function(t,e){if(!hi)throw Error(u(363));var a=0,i=[];t=[Ss(t),0];for(var l=0;l<t.length;){var h=t[l++],U=h.tag,q=t[l++],J=e[q];if((U!==5&&U!==26&&U!==27||!di(h))&&(bs(h,J)&&(i.push(Cs(J)),q++,q>a&&(a=q)),q<e.length))for(h=h.child;h!==null;)t.push(h,q),h=h.sibling}if(a<e.length){for(t=[];a<e.length;a++)t.push(Cs(e[a]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},Et.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return ci(t.child.stateNode);default:return t.child.stateNode}},Et.injectIntoDevTools=function(){var t={bundleType:0,version:Bf,rendererPackageName:wf,currentDispatcherRef:pt,reconcilerVersion:"19.1.0"};if(oh!==null&&(t.rendererConfig=oh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{fi=e.inject(t),je=e}catch{}t=!!e.checkDCE}}return t},Et.isAlreadyRendering=function(){return(Rt&6)!==0},Et.observeVisibleRects=function(t,e,a,i){if(!hi)throw Error(u(363));t=As(t,e);var l=l1(t,a,i).disconnect;return{disconnect:function(){l()}}},Et.shouldError=function(){return null},Et.shouldSuspend=function(){return!1},Et.startHostTransition=function(t,e,a,i){if(t.tag!==5)throw Error(u(476));var l=Vu(t).queue;Pu(t,l,e,bn,a===null?m:function(){var h=Vu(t).next.queue;return ai(t,h,{},Pe()),a(i)})},Et.updateContainer=function(t,e,a,i){var l=e.current,h=Pe();return nh(l,h,t,e,a,i),h},Et.updateContainerSync=function(t,e,a,i){return nh(e.current,2,t,e,a,i),2},Et},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(To)),To.exports}var g0;function fm(){return g0||(g0=1,xo.exports=dm()),xo.exports}var gm=fm();const pm=wo(gm);var No={exports:{}},Ta={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function mm(){return p0||(p0=1,Ta.ConcurrentRoot=1,Ta.ContinuousEventPriority=8,Ta.DefaultEventPriority=32,Ta.DiscreteEventPriority=2,Ta.IdleEventPriority=268435456,Ta.LegacyRoot=0,Ta.NoEventPriority=0),Ta}var m0;function vm(){return m0||(m0=1,No.exports=mm()),No.exports}var Ol=vm(),ym=At();const v0={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let y0=!1,_0=!1;const Cl=".react-konva-event",_m=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Sm=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,bm={};function Dl(n,r,p=bm){if(!y0&&"zIndex"in r&&(console.warn(Sm),y0=!0),!_0&&r.draggable){var m=r.x!==void 0||r.y!==void 0,u=r.onDragEnd||r.onDragMove;m&&!u&&(console.warn(_m),_0=!0)}for(var s in p)if(!v0[s]){var c=s.slice(0,2)==="on",d=p[s]!==r[s];if(c&&d){var f=s.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),n.off(f,p[s])}var S=!r.hasOwnProperty(s);S&&n.setAttr(s,void 0)}var y=r._useStrictMode,A={},b=!1;const v={};for(var s in r)if(!v0[s]){var c=s.slice(0,2)==="on",g=p[s]!==r[s];if(c&&g){var f=s.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),r[s]&&(v[f]=r[s])}!c&&(r[s]!==p[s]||y&&r[s]!==n.getAttr(s))&&(b=!0,A[s]=r[s])}b&&(n.setAttrs(A),Ja(n));for(var f in v)n.off(f+Cl),n.on(f+Cl,v[f])}function Ja(n){if(!ym.Konva.autoDrawEnabled){var r=n.getLayer()||n.getStage();r&&r.batchDraw()}}var Ro=b0();const Z0={},Cm={};bl.Node.prototype._applyProps=Dl;let J0=Ol.DefaultEventPriority;function Am(n,r){if(typeof r=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${r}`);return}n.add(r),Ja(n)}function Em(n,r,p){let m=bl[n];m||(console.error(`Konva has no node with the type ${n}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${n}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),m=bl.Group);const u={},s={};for(var c in r)if(c!=="ref"){var d=c.slice(0,2)==="on";d?s[c]=r[c]:u[c]=r[c]}const f=new m(u);return Dl(f,s),f}function xm(n,r,p){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${n}"`)}function Tm(n,r,p){return!1}function Nm(n){return n}function Rm(){return null}function Mm(){return null}function Om(n,r,p,m){return Cm}function Dm(){}function Gm(n){}function Um(n,r){return!1}function zm(){return Z0}function Bm(){return Z0}const wm=setTimeout,Hm=clearTimeout,Lm=!0,Pm=n=>{n()},Vm=-1;function qm(n,r){return!1}const Fm=!1,jm=!1,Ym=!0,Km=!1,Xm=!1;function Qm(n,r){r.parent===n?r.moveToTop():n.add(r),Ja(n)}function km(n,r){r.parent===n?r.moveToTop():n.add(r),Ja(n)}function W0(n,r,p){r._remove(),n.add(r),r.setZIndex(p.getZIndex()),Ja(n)}function Zm(n,r,p){W0(n,r,p)}function Jm(n,r){r.destroy(),r.off(Cl),Ja(n)}function Wm(n,r){r.destroy(),r.off(Cl),Ja(n)}function Im(n,r,p){console.error(`Text components are not yet supported in ReactKonva. You text is: "${p}"`)}function $m(n,r,p){}function t5(n,r,p,m){Dl(n,m,p)}function e5(n){n.hide(),Ja(n)}function a5(n){}function n5(n,r){(r.visible==null||r.visible)&&n.show()}function i5(n,r){}function r5(n){}function l5(){}function s5(){return Ol.DefaultEventPriority}function o5(){}function u5(){return null}function c5(n){J0=n}function h5(){return J0}function d5(){return Ol.DiscreteEventPriority}function f5(){return!1}function g5(){}function p5(){return!1}function m5(){return!0}function v5(){}function y5(){}function _5(){return null}const S5=null;function b5(){}const C5=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:S5,appendChild:Qm,appendChildToContainer:km,appendInitialChild:Am,cancelTimeout:Hm,clearContainer:r5,commitMount:$m,commitTextUpdate:Im,commitUpdate:t5,createInstance:Em,createTextInstance:xm,detachDeletedInstance:l5,finalizeInitialChildren:Tm,getChildHostContext:Bm,getCurrentEventPriority:s5,getCurrentUpdatePriority:h5,getInstanceFromScope:u5,getPublicInstance:Nm,getRootHostContext:zm,hideInstance:e5,hideTextInstance:a5,idlePriority:Ro.unstable_IdlePriority,insertBefore:W0,insertInContainerBefore:Zm,isPrimaryRenderer:Fm,maySuspendCommit:p5,noTimeout:Vm,now:Ro.unstable_now,preloadInstance:m5,prepareForCommit:Rm,preparePortalMount:Mm,prepareScopeUpdate:o5,prepareUpdate:Om,removeChild:Jm,removeChildFromContainer:Wm,requestPostPaintCallback:g5,resetAfterCommit:Dm,resetFormInstance:b5,resetTextContent:Gm,resolveUpdatePriority:d5,run:Ro.unstable_runWithPriority,scheduleMicrotask:Pm,scheduleTimeout:wm,setCurrentUpdatePriority:c5,shouldAttemptEagerTransition:f5,shouldDeprioritizeSubtree:Um,shouldSetTextContent:qm,startSuspendingCommit:v5,supportsHydration:Xm,supportsMicrotasks:Lm,supportsMutation:Ym,supportsPersistence:Km,suspendInstance:y5,unhideInstance:n5,unhideTextInstance:i5,waitForCommitToBeReady:_5,warnsIfNotActing:jm},Symbol.toStringTag,{value:"Module"}));function I0(n,r,p){if(!n)return;if(p(n)===!0)return n;let m=n.child;for(;m;){const u=I0(m,r,p);if(u)return u;m=m.sibling}}function $0(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Io=$0(tt.createContext(null));class tf extends tt.Component{render(){return tt.createElement(Io.Provider,{value:this._reactInternals},this.props.children)}}function A5(){const n=tt.useContext(Io);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=tt.useId();return tt.useMemo(()=>{for(const p of[n,n?.alternate]){if(!p)continue;const m=I0(p,!1,u=>{let s=u.memoizedState;for(;s;){if(s.memoizedState===r)return!0;s=s.next}});if(m)return m}},[n,r])}const E5=Symbol.for("react.context"),x5=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===E5;function T5(){const n=A5(),[r]=tt.useState(()=>new Map);r.clear();let p=n;for(;p;){const m=p.type;x5(m)&&m!==Io&&!r.has(m)&&r.set(m,tt.use($0(m))),p=p.return}return r}function N5(){const n=T5();return tt.useMemo(()=>Array.from(n.keys()).reduce((r,p)=>m=>tt.createElement(r,null,tt.createElement(p.Provider,{...m,value:n.get(p)})),r=>tt.createElement(tf,{...r})),[n])}if(mt.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function R5(n){const r=mt.useRef({});return mt.useLayoutEffect(()=>{r.current=n}),mt.useLayoutEffect(()=>()=>{r.current={}},[]),r.current}const M5=()=>{const n=mt.useRef(0);return mt.useMemo(()=>{n.current++},[]),n.current>1},O5=n=>{const r=mt.useRef(null),p=mt.useRef(null),m=mt.useRef(null),u=R5(n),s=N5(),c=mt.useRef(!1),d=S=>{const{forwardedRef:y}=n;y&&(typeof y=="function"?y(S):y.current=S)},f=M5();return mt.useLayoutEffect(()=>c.current&&f?()=>{c.current=!1,d(null),Kn.updateContainer(null,m.current,null),p.current.destroy()}:(c.current=!0,p.current=new bl.Stage({width:n.width,height:n.height,container:r.current}),d(p.current),m.current=Kn.createContainer(p.current,Ol.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Kn.updateContainer(mt.createElement(s,{},n.children),m.current,null,()=>{}),()=>{f||(d(null),Kn.updateContainer(null,m.current,null),p.current.destroy())}),[]),mt.useLayoutEffect(()=>{d(p.current),Dl(p.current,n,u),Kn.updateContainer(mt.createElement(s,{},n.children),m.current,null)}),mt.createElement("div",{ref:r,id:n.id,accessKey:n.accessKey,className:n.className,role:n.role,style:n.style,tabIndex:n.tabIndex,title:n.title})},D5="Layer",G5="Rect",U5="Text",z5="Transformer",Kn=pm(C5);Kn.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:mt.version,rendererPackageName:"react-konva"});const B5=mt.forwardRef((n,r)=>mt.createElement(tf,{},mt.createElement(O5,{...n,forwardedRef:r}))),w5=Ot.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
`,H5=n=>({None:0,Thin:1,Normal:1.5,Thick:2})[n],$o=tt.forwardRef(({canvasState:n},r)=>{const{ref:p}=E0(()=>{u.current?.nodes([])}),m=tt.useRef(null),u=tt.useRef(null),s=tt.useRef(null),c=tt.useRef(null),d=()=>{if(!m.current||!s.current)return;const y=m.current.getPointerPosition();if(!y)return;const A=y.x,b=y.y;if(A<0||b<0||A>n.canvasWidth||b>n.canvasHeight){const v=n.canvasWidth/2,g=n.canvasHeight/2;s.current.rotation(0);const C=s.current.getClientRect();s.current.setPosition({x:v-C.width/2,y:g-C.height/2})}},f=()=>{u.current&&s.current&&u.current.nodes([s.current])},S=y=>{u.current&&y.target!==s.current&&u.current.nodes([])};return tt.useEffect(()=>{if(!s.current)return;const y=s.current.getClientRect(),A=y.width,b=y.height,v=n.canvasWidth/2,g=n.canvasHeight/2;s.current.setPosition({x:v-A/2,y:g-b/2})},[n.canvasWidth,n.canvasHeight]),tt.useEffect(()=>{if(!c.current)return;n.isBlur&&n.selectedImage?(c.current.cache(),c.current.filters([um.Filters.Blur]),c.current.blurRadius(10)):c.current.clearCache()},[n.selectedImage,n.isBlur]),et.jsx(w5,{ref:p,children:et.jsx(B5,{ref:G2(m,r),width:n.canvasWidth,height:n.canvasHeight,children:et.jsxs(D5,{children:[et.jsx(G5,{ref:c,onClick:S,x:0,y:0,width:n.canvasWidth,height:n.canvasHeight,fillPatternImage:n.selectedImage?n.selectedImage:void 0,fill:n.selectedImage?void 0:n.bgColor.hex}),et.jsx(U5,{ref:s,x:n.canvasWidth/2,y:n.canvasHeight/2,fontSize:30,fontFamily:n.fontFamily,fill:n.fontColor.hex,stroke:n.strokeColor.hex,strokeWidth:H5(n.fontStrokeType),fontStyle:n.fontStyle,lineHeight:n.lineHeight,text:n.value,onClick:f,onDragEnd:d,verticalAlign:"middle",onMouseEnter:()=>document.body.style.cursor="pointer",onMouseLeave:()=>document.body.style.cursor="default",align:n.textAlign,draggable:!0}),et.jsx(z5,{ref:u,anchorCornerRadius:10,borderStrokeWidth:2,centeredScaling:!0})]})})})});$o.displayName="KonvaCanvas";$o.__docgenInfo={description:"",methods:[],displayName:"KonvaCanvas",props:{canvasState:{required:!0,tsType:{name:"CanvasStateWithColors"},description:""}}};const ef=({width:n=24,height:r=24,viewBox:p="0 0 24 24",fill:m="#09244B",strokeWidth:u=1})=>et.jsx("svg",{width:n,height:r,viewBox:p,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:et.jsx("g",{id:"页面-1",fill:"none",fillRule:"evenodd",children:et.jsx("g",{id:"Editor",transform:"translate(-192.000000, 0.000000)",fillRule:"nonzero",children:et.jsxs("g",{id:"bold_line",transform:"translate(192.000000, 0.000000)",children:[et.jsx("path",{d:"M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z",id:"MingCute",fillRule:"nonzero"}),et.jsx("path",{d:"M13,3 C15.7614,3 18,5.23858 18,8 C18,9.43071 17.3991,10.7211 16.4359,11.6325 C17.9657,12.4875 19,14.123 19,16 C19,18.6887316 16.8776708,20.8818169 14.2168878,20.9953804 L14,21 L6.1,21 C5.533,21 5.06617778,20.5709778 5.00645481,20.0198548 L5,19.9 L5,4.1 C5,3.53299067 5.42901351,3.06617653 5.98014344,3.00645469 L6.1,3 L13,3 Z M14,13 L7,13 L7,19 L14,19 C15.6569,19 17,17.6569 17,16 C17,14.3431 15.6569,13 14,13 Z M13,5 L7,5 L7,11 L13,11 C14.6569,11 16,9.65685 16,8 C16,6.34315 14.6569,5 13,5 Z",id:"形状",fill:m,stroke:m,strokeWidth:u})]})})})});ef.__docgenInfo={description:"",methods:[],displayName:"BoldFontIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#09244B'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}}}};const af=({width:n=24,height:r=24,fill:p="#000000",viewBox:m="0 0 24 24"})=>et.jsxs("svg",{width:n,height:r,viewBox:m,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[et.jsx("title",{children:"ic_fluent_text_italic_24_filled"}),et.jsx("desc",{children:"Created with Sketch."}),et.jsx("g",{id:"🔍-System-Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:et.jsx("g",{id:"ic_fluent_text_italic_24_filled",fill:p,fillRule:"nonzero",children:et.jsx("path",{d:"M10.6485851,18.5 L14.4957557,18.5 C15.047766,18.5 15.4952856,18.9478705 15.4952856,19.5 C15.4952856,20.0521295 15.047766,20.5 14.4957557,20.5 L4.99646479,20.5 C4.44472052,20.5 4,20.0524021 4,19.5 C4,18.9475979 4.44472052,18.5 4.99646479,18.5 L8.50564567,18.5 L13.3322324,5.9993837 L9.99693298,5.9993837 C9.44485457,5.9993837 8.99693298,5.55175319 8.99693298,4.99969185 C8.99693298,4.44763051 9.44485457,4 9.99693298,4 L18.5004701,4 C19.0525073,4 19.5,4.44758938 19.5,4.99969185 C19.5,5.55179432 19.0525073,5.9993837 18.5004701,5.9993837 L15.4751718,5.9993837 L10.6485851,18.5 Z",id:"🎨-Color"})})})]});af.__docgenInfo={description:"",methods:[],displayName:"FontItalicIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'0 0 24 24'",computed:!1}}}};const nf=({width:n=24,height:r=24,fill:p="#000000",viewBox:m=`0 0 ${n} ${r}`})=>et.jsx("svg",{fill:p,width:n,height:r,viewBox:m,xmlns:"http://www.w3.org/2000/svg",children:et.jsx("path",{d:"M5 18h14v3H5zm7.5-14h-1c-.401 0-.764.24-.921.609L5.745 16h2.173l1.273-3h5.604l1.268 3h2.171L13.421 4.61A1 1 0 0 0 12.5 4zm-2.46 7 1.959-4.616L13.95 11h-3.91z"})});nf.__docgenInfo={description:"",methods:[],displayName:"FontColorIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};const rf=({width:n=24,height:r=24,fill:p="#000000",viewBox:m="0 0 24 24"})=>et.jsxs("svg",{width:n,height:r,viewBox:m,fill:p,xmlns:"http://www.w3.org/2000/svg",children:[et.jsx("circle",{cx:"12",cy:"6",r:"1.5",fill:p}),et.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:p}),et.jsx("circle",{cx:"12",cy:"18",r:"1.5",fill:p})]});rf.__docgenInfo={description:"",methods:[],displayName:"MoreDotIcon",props:{width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}},fill:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#000000'",computed:!1}},viewBox:{required:!1,tsType:{name:"string"},description:""}}};const L5=Ot.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,P5=Ot.div`
  display: flex;
  flex-direction: column;
`,V5=Ot.label`
  font-size: 0.7rem;
  color: #969696;
  height: 16px;
`,q5=Ot.input`
  appearance: none;
  width: 150px;
  height: 8px;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  opacity: 0.7;
  background-image: linear-gradient(#3264b5, #3264b5);
  background-size: ${n=>n.backgroundSize||"0%"};
  background-repeat: no-repeat;
  -webkit-appearance: none;

  &:hover {
    opacity: 1;
  }

  &::-webkit-slider-thumb {
    appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #275194;
    cursor: pointer;
  }

  &::-moz-range-thumb {
    appearance: none;
    width: 25px;
    height: 25px;
    background: #3264b5;
    cursor: pointer;
  }
`,lf=({name:n,label:r,value:p,min:m=0,max:u=100,step:s=1,onChange:c})=>{const d=tt.useMemo(()=>{const f=Number(p),S=Number(m),y=Number(u);return`${(f-S)/(y-S)*100}%`},[p,m,u]);return et.jsx(L5,{children:et.jsxs(P5,{children:[r&&et.jsx(V5,{htmlFor:n,children:r}),et.jsx(q5,{type:"range",name:n,id:n,value:p,min:m,max:u,step:s,onChange:c,backgroundSize:d})]})})};lf.__docgenInfo={description:"",methods:[],displayName:"RangeInput",props:{label:{required:!1,tsType:{name:"string"},description:""},min:{defaultValue:{value:"0",computed:!1},required:!1},max:{defaultValue:{value:"100",computed:!1},required:!1},step:{defaultValue:{value:"1",computed:!1},required:!1}},composes:["ComponentProps"]};const F5={value:`Simple Thumbnail
Generator 😁`,fontStrokeType:"None",textAlign:"center",fontFamily:"Arial",canvasWidth:600,canvasHeight:400,lineHeight:1,imageType:"png",fontStyle:"normal",isBlur:!1,selectedImage:void 0,isBlockEvent:!1},j5=n=>["canvasWidth","canvasHeight"].includes(n)?()=>"":(p,m)=>!m&&p==="-"?"-":"",sf=({additionalFontFamily:n,modalPosition:r,isFullWidth:p,onToggle:m})=>{const{ref:u}=E0(()=>{d.isBlockEvent||c(!1)}),[s,c]=tt.useState(!1),[d,f]=tt.useState(F5),[S,y]=tt.useState({canvasWidth:600,canvasHeight:400}),A=z2(f,300),[b,v]=po("#192841"),[g,C]=po("#fff"),[T,O]=po("#121212"),_=tt.useRef(null),o=tt.useMemo(()=>({...d,bgColor:b,fontColor:g,strokeColor:T}),[d,b,g,T]),x=tt.useMemo(()=>[...n||[],...op],[n]),E=tt.useMemo(()=>{const{textAlign:M}=d;return M==="center"?E2:M==="right"?x2:A2},[d.textAlign]),G=tt.useCallback(()=>{const M=w=>{const{textAlign:B}=w;return B==="center"?"right":B==="right"?"left":"center"};f(w=>({...w,textAlign:M(w)}))},[]),P=tt.useCallback(M=>{O(M),d.fontStrokeType==="None"&&f(w=>({...w,fontStrokeType:"Normal"}))},[d.fontStrokeType,O]),R=tt.useCallback(()=>{f(M=>({...M,isBlockEvent:!M.isBlockEvent}))},[]),D=tt.useCallback(M=>{const w=/[^0-9]/g,{name:B,value:V}=M.target,$=window.innerWidth,Y=j5(B),at=V.replace(w,Y);B==="canvasWidth"&&+at>$||(A(ot=>({...ot,[B]:at})),y(ot=>({...ot,[B]:at})))},[A]),z=tt.useCallback(M=>{const{name:w,value:B}=M.target;f(V=>({...V,[w]:B}))},[]),L=tt.useCallback((M,w)=>{f(B=>({...B,[M]:w}))},[]),F=tt.useCallback(M=>{f(w=>({...w,selectedImage:void 0,isBlur:!1})),v(M)},[v]),K=tt.useCallback(M=>{const{files:w}=M.target;if(w){const B=new Image;B.src=w[0]&&URL.createObjectURL(w[0]),B.onload=async()=>{y({canvasWidth:B.width,canvasHeight:B.height}),f(V=>({...V,isBlur:!1,selectedImage:B,canvasWidth:B.width,canvasHeight:B.height}))}}},[]),Q=tt.useCallback(()=>{f(M=>({...M,isBlur:!M.isBlur}))},[]),j=tt.useCallback(()=>{dp(_,d.imageType)},[d.imageType]),it=tt.useCallback(M=>{f(w=>({...w,fontStyle:w.fontStyle===M?"normal":M}))},[]),N=tt.useCallback(M=>{const{name:w,value:B}=M.target;f(V=>({...V,[w]:+B}))},[]);return et.jsxs(fp,{modalPosition:r,isFullWidth:p,children:[et.jsx(F0,{onToggle:m}),et.jsx(gp,{children:et.jsxs(pp,{children:[et.jsx($o,{ref:_,canvasState:o}),et.jsxs(bp,{children:[et.jsx(pl,{name:"fontFamily",value:d.fontFamily,onChange:L,children:x.map(M=>et.jsx(ml,{value:M,children:M},M))}),et.jsx(V0,{onChangeImage:K}),et.jsx(vl,{color:b,setColor:F,toggleIsBlockEvent:R,children:et.jsx("img",{src:y2,width:20,height:20})}),et.jsx(Za,{hasBorder:!0,onClick:Q,children:et.jsx("img",{src:C2,width:20,height:20})}),et.jsx(dr,{color:"#d3d1d1",height:20,width:1}),et.jsx(Za,{hasBorder:!0,onClick:G,children:et.jsx("img",{src:E,width:20,height:20})}),et.jsx(vl,{color:g,setColor:C,toggleIsBlockEvent:R,children:et.jsx(nf,{width:20,height:20,viewBox:"0 0 24 24"})}),et.jsx(Za,{hasBorder:!0,onClick:()=>it("bold"),children:et.jsx(ef,{width:20,height:20})}),et.jsx(Za,{hasBorder:!0,onClick:()=>it("italic"),children:et.jsx(af,{width:20,height:20})}),et.jsx(dr,{color:"#d3d1d1",height:20,width:1}),et.jsx(Za,{hasBorder:!0,isOpen:s,onClick:()=>c(M=>!M),children:et.jsx(rf,{width:20,height:20})}),s&&et.jsxs(Cp,{ref:u,children:[et.jsx(lf,{label:"Line Height",name:"lineHeight",min:-3,max:3,step:.1,value:String(d.lineHeight),onChange:N}),et.jsx(dr,{color:"#d3d1d1",height:20,width:1}),et.jsx(vl,{color:T,setColor:P,toggleIsBlockEvent:R,children:et.jsx("img",{src:_2,width:20,height:20})}),et.jsx(pl,{name:"fontStrokeType",value:d.fontStrokeType,onChange:L,children:up.map(M=>et.jsx(ml,{value:M,children:M},M))})]})]}),et.jsx(Sp,{children:et.jsx(vp,{name:"value",rows:5,value:d.value,onChange:z,placeholder:"THUMBNAIL TEXT"})}),et.jsxs(od,{children:[et.jsx(Uo,{name:"canvasWidth",label:`Canvas Width (max: ${window.innerWidth}px)`,value:S.canvasWidth,onChange:D,disabled:!!d.selectedImage,width:200}),et.jsx(Uo,{name:"canvasHeight",label:"Canvas Height",value:S.canvasHeight,onChange:D,disabled:!!d.selectedImage,width:200})]}),et.jsx(dr,{color:"#f3f3f3",height:10,margin:[10,0,0,0]}),et.jsx(od,{children:et.jsx(pl,{name:"imageType",label:"Download Image Type",value:d.imageType,onChange:L,children:cp.map(M=>et.jsx(ml,{value:M,children:M},M))})}),et.jsx(yp,{children:et.jsx(_p,{onClick:j,children:"DOWNLOAD"})})]})})]})};sf.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGeneratorContent",props:{additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!0,tsType:{name:"boolean"},description:""},modalPosition:{required:!0,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Y5=Ue`
  .rcp-root {
    --rcp-background-color: #121212;
    --rcp-field-input-color: #ffffff;
    --rcp-field-input-border-color: #242424;
    --rcp-field-label-color: #808080;
  }

  .rcp {
    display: flex;
    flex-direction: column;
    background-color: var(--rcp-background-color);
    border-radius: 10px;
  }

  .rcp-body {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px 10px;
  }

  .rcp-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .rcp-interactive {
    width: 100%;
    height: 100%;
    user-select: none;
    touch-action: none;
  }

  .rcp-interactive[aria-disabled='true'] {
    cursor: unset;
    pointer-events: none;
  }

  .rcp-saturation {
    cursor: all-scroll;
    width: 100%;
    position: relative;
    background-image:
      linear-gradient(to bottom, transparent, black),
      linear-gradient(to right, white, transparent);
    border-radius: 10px 10px 0 0;
  }

  .rcp-saturation-cursor {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid white;
    border-radius: 100%;
    box-shadow: 0 0 15px #00000026;
    transform: translate(-10px, -10px);
  }

  .rcp-hue {
    cursor: ew-resize;
    position: relative;
    width: 100%;
    height: 12px;
    background-image: linear-gradient(
      to right,
      red,
      #ff0,
      #0f0,
      #0ff,
      #00f,
      #f0f,
      red
    );
    border-radius: 10px;
  }

  .rcp-hue-cursor {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid white;
    border-radius: 100%;
    box-shadow: 0 0 15px #00000026;
    transform: translate(-10px, -4px);
  }

  .rcp-alpha {
    cursor: ew-resize;
    position: relative;
    width: 100%;
    height: 12px;
    border-radius: 10px;
  }

  .rcp-alpha-cursor {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid white;
    border-radius: 100%;
    box-shadow: 0 0 15px #00000026;
    transform: translate(-10px, -4px);
  }

  .rcp-fields {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .rcp-fields-floor {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
  }

  .rcp-field {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  .rcp-field-input {
    width: 100%;
    font-family: inherit;
    font-size: 14px;
    text-align: center;
    color: var(--rcp-field-input-color);
    background-color: transparent;
    border: 2px solid var(--rcp-field-input-border-color);
    border-radius: 5px;
    outline: none;
    padding: 5px 0;
  }

  .rcp-field-input:read-only {
    opacity: 0.8;
  }

  .rcp-field-label {
    font-size: 14px;
    text-align: center;
    color: var(--rcp-field-label-color);
  }
`,K5=n=>{switch(n){case"small":return 24;case"medium":return 32;default:return 40}},tu=({isDefaultOpen:n=!1,iconSize:r="medium",iconPosition:p="bottom-right",modalPosition:m="right",isFullWidth:u=!1,additionalFontFamily:s})=>{const[c,d]=tt.useState(n),f=K5(r),S=()=>{d(!c)};return et.jsxs(et.Fragment,{children:[et.jsx(Dg,{styles:Y5}),et.jsx(x0,{children:c?et.jsx(sf,{isFullWidth:u,modalPosition:m,additionalFontFamily:s,onToggle:S}):et.jsx(mp,{iconPosition:p,onClick:S,children:et.jsx("img",{src:b2,width:f,height:f})})})]})};tu.__docgenInfo={description:"",methods:[],displayName:"ThumbnailGenerator",props:{iconPosition:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1}},modalPosition:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:"",defaultValue:{value:"'right'",computed:!1}},iconSize:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},additionalFontFamily:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isFullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const d4={title:"components/ThumbnailGenerator",component:tu},X5=({modalPosition:n,iconPosition:r,iconSize:p,isFullWidth:m})=>et.jsx(tu,{modalPosition:n,iconPosition:r,iconSize:p,isFullWidth:m,isDefaultOpen:!0}),hl=X5.bind({iconSize:"medium",modalPosition:"right",iconPosition:"bottom-right",isFullWidth:!1});hl.parameters={...hl.parameters,docs:{...hl.parameters?.docs,source:{originalSource:`Template.bind({
  iconSize: 'medium',
  modalPosition: 'right',
  iconPosition: 'bottom-right',
  isFullWidth: false
})`,...hl.parameters?.docs?.source}}};const f4=["Default"];export{hl as Default,f4 as __namedExportsOrder,d4 as default};
